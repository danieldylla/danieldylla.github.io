(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{221:function(e,t,a){},222:function(e,t,a){},267:function(e,t,a){e.exports=a(632)},272:function(e,t,a){},290:function(e,t,a){},371:function(e,t,a){},397:function(e,t,a){},399:function(e,t,a){},400:function(e,t,a){},401:function(e,t,a){},402:function(e,t,a){},403:function(e,t,a){},462:function(e,t,a){},463:function(e,t,a){},626:function(e,t,a){},627:function(e,t,a){},628:function(e,t,a){},629:function(e,t,a){},630:function(e,t,a){},631:function(e,t,a){},632:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a.n(s),i=a(39),o=a.n(i),r=(a(272),a(257)),l=a(172),c=a.n(l),h=a(98),d=a(258),m=a(60),u=a(10),p=a(7),f=a(14),v=a(12),b=a(15),g=a(1),y=a(3),S=a.n(y),E=(S.a.initializeApp({apiKey:"AIzaSyBQ8dnvJkM6-Pa7aqCjCiOPKJ23UjU0Z9A",authDomain:"dandytimer.firebaseapp.com",databaseURL:"https://dandytimer.firebaseio.com",projectId:"dandytimer",storageBucket:"dandytimer.appspot.com",messagingSenderId:"761979688892"}),a(275),a(276),a(63));function O(){var e,t,a,s,n,i,o,r,l,c,d,m,f,v,b,g,y,S,O,w,k,M,N=[].indexOf;for(d in t=function(){var e,t,a,s,n,i,o,r,l,c,h,d,m,f,v,b,g,y,S,O,w,k,M,N,x,T,j,C,F,I,A;y=0,g=1,m=2,s=3,b=4,e=5,T=0,k=1,N=2,O=3,r=4,c=5,i=6,d=7,x=0,w=1,M=2,S=3,h=4,o=5,l=6,n=7,v=8,f=9,t=10,a=11;var _=function(){var e,t,a,s,n,i;return n=function(e){return i(9)+e},a=function(e){return n(9)+e},t=function(e){return a(9)+e},s=function(e){return t(9)+e},e=function(e){return s(9)+e},[[4,13,22,31,40,49],[[(i=function(e){return e-1})(9),n(1),a(3)],[i(7),a(1),s(3)],[i(1),s(1),e(3)],[i(3),e(1),n(3)],[t(3),a(9),n(7)],[t(1),s(9),a(7)],[t(7),e(9),s(7)],[t(9),n(9),e(7)]],[[i(6),n(2)],[i(8),a(2)],[i(4),s(2)],[i(2),e(2)],[t(6),n(8)],[t(2),a(8)],[t(4),s(8)],[t(8),e(8)],[a(6),n(4)],[a(4),s(6)],[e(6),s(4)],[e(4),n(6)]]]}(),L=Object(E.a)(_,3);return L[0],F=L[1],A=L[2],j=["U","R","F","D","L","B"],C=[["U","R","F"],["U","F","L"],["U","L","B"],["U","B","R"],["D","F","R"],["D","L","F"],["D","B","L"],["D","R","B"]],I=[["U","R"],["U","F"],["U","L"],["U","B"],["D","R"],["D","F"],["D","L"],["D","B"],["F","R"],["F","L"],["B","L"],["B","R"]],function(){var E,_,L,B=function(){function t(e){Object(u.a)(this,t),null!=e?this.init(e):this.identity(),this.newCenter=function(){var e,t;for(t=[],e=0;e<=5;++e)t.push(0);return t}(),this.newCp=function(){var e,t;for(t=[],e=0;e<=7;++e)t.push(0);return t}(),this.newEp=function(){var e,t;for(t=[],e=0;e<=11;++e)t.push(0);return t}(),this.newCo=function(){var e,t;for(t=[],e=0;e<=7;++e)t.push(0);return t}(),this.newEo=function(){var e,t;for(t=[],e=0;e<=11;++e)t.push(0);return t}()}return Object(p.a)(t,[{key:"init",value:function(e){return this.center=e.center.slice(0),this.co=e.co.slice(0),this.ep=e.ep.slice(0),this.cp=e.cp.slice(0),this.eo=e.eo.slice(0)}},{key:"identity",value:function(){return this.center=[0,1,2,3,4,5],this.cp=[0,1,2,3,4,5,6,7],this.co=function(){var e,t;for(t=[],e=0;e<=7;++e)t.push(0);return t}(),this.ep=[0,1,2,3,4,5,6,7,8,9,10,11],this.eo=function(){var e,t;for(t=[],e=0;e<=11;++e)t.push(0);return t}()}},{key:"toJSON",value:function(){return{center:this.center,cp:this.cp,co:this.co,ep:this.ep,eo:this.eo}}},{key:"asString",value:function(){var e,t,a,s,n,i,o,r,l,c,h;for(h=[],a=s=0;s<=5;a=++s)h[9*a+4]=j[this.center[a]];for(a=n=0;n<=7;a=++n)for(e=this.cp[a],l=this.co[a],o=i=0;i<=2;o=++i)h[F[a][(o+l)%3]]=C[e][o];for(a=r=0;r<=11;a=++r)for(t=this.ep[a],l=this.eo[a],o=c=0;c<=1;o=++c)h[A[a][(o+l)%2]]=I[t][o];return h.join("")}},{key:"clone",value:function(){return new t(this.toJSON())}},{key:"isSolved",value:function(){var e,t,a,s,n,i,o;for((a=this.clone()).move(a.upright()),t=n=0;n<=5;t=++n)if(a.center[t]!==t)return!1;for(e=i=0;i<=7;e=++i){if(a.cp[e]!==e)return!1;if(0!==a.co[e])return!1}for(s=o=0;o<=11;s=++o){if(a.ep[s]!==s)return!1;if(0!==a.eo[s])return!1}return!0}},{key:"centerMultiply",value:function(e){var t,a,s;for(s=a=0;a<=5;s=++a)t=e.center[s],this.newCenter[s]=this.center[t];var n=[this.newCenter,this.center];return this.center=n[0],this.newCenter=n[1],this}},{key:"cornerMultiply",value:function(e){var t,a,s;for(s=a=0;a<=7;s=++a)t=e.cp[s],this.newCp[s]=this.cp[t],this.newCo[s]=(this.co[t]+e.co[s])%3;var n=[this.newCp,this.cp];this.cp=n[0],this.newCp=n[1];var i=[this.newCo,this.co];return this.co=i[0],this.newCo=i[1],this}},{key:"edgeMultiply",value:function(e){var t,a,s;for(s=a=0;a<=11;s=++a)t=e.ep[s],this.newEp[s]=this.ep[t],this.newEo[s]=(this.eo[t]+e.eo[s])%2;var n=[this.newEp,this.ep];this.ep=n[0],this.newEp=n[1];var i=[this.newEo,this.eo];return this.eo=i[0],this.newEo=i[1],this}},{key:"multiply",value:function(e){return this.centerMultiply(e),this.cornerMultiply(e),this.edgeMultiply(e),this}},{key:"move",value:function(e){var a,s,n,i,o,r,l;for(s=0,i=(r=L(e)).length;s<i;s++)for(o=r[s],a=o/3|0,n=0,l=o%3;0<=l?n<=l:n>=l;0<=l?++n:--n)this.multiply(t.moves[a]);return this}},{key:"upright",value:function(){var t,a,n,i,o,r;for(t=this.clone(),r=[],a=i=0;i<=5&&t.center[a]!==m;a=++i);switch(a){case s:r.push("x");break;case y:r.push("x'");break;case e:r.push("x2");break;case g:r.push("y");break;case b:r.push("y'")}for(r.length&&t.move(r[0]),n=o=0;o<=5&&t.center[n]!==y;n=++o);switch(n){case b:r.push("z");break;case g:r.push("z'");break;case s:r.push("z2")}return r.join(" ")}}],[{key:"fromString",value:function(e){var a,s,n,i,o,r,l,c,h,d,m,u,p,f;for(n=new t,i=r=0;r<=5;i=++r)for(o=l=0;l<=5;o=++l)e[9*i+4]===j[o]&&(n.center[i]=o);for(i=c=0;c<=7;i=++c){for(d=h=0;h<=2&&"U"!==(f=e[F[i][d]])&&"D"!==f;d=++h);for(a=e[F[i][(d+1)%3]],s=e[F[i][(d+2)%3]],o=m=0;m<=7;o=++m)a===C[o][1]&&s===C[o][2]&&(n.cp[i]=o,n.co[i]=d%3)}for(i=u=0;u<=11;i=++u)for(o=p=0;p<=11;o=++p){if(e[A[i][0]]===I[o][0]&&e[A[i][1]]===I[o][1]){n.ep[i]=o,n.eo[i]=0;break}if(e[A[i][0]]===I[o][1]&&e[A[i][1]]===I[o][0]){n.ep[i]=o,n.eo[i]=1;break}}return n}},{key:"random",value:function(){return(new t).randomize()}},{key:"inverse",value:function(e){var t,a,s,n,i,o,r;if((o=function(){var a,s,o,r;for(r=[],a=0,s=(o=L(e)).length;a<s;a++)n=o[a],t=n/3|0,i=n%3,r.push(3*t-(i-1)+1);return r}()).reverse(),"string"===typeof e){for(r="",a=0,s=o.length;a<s;a++)n=o[a],i=n%3,r+=E[t=n/3|0],1===i?r+="2":2===i&&(r+="'"),r+=" ";return r.substring(0,r.length-1)}return null!=e.length?o:o[0]}}]),t}();return B.prototype.randomize=function(){var e,t,a,s,n,i,o,r;return i=function(e,t){return e+Math.floor(Math.random()*(t-e+1))},r=function(e){var t,a;for(t=e.length;0!==t;){a=i(0,t-1),e[t-=1];var s=[e[a],e[t]];e[t]=s[0],e[a]=s[1]}},s=function(e){var t,a,s,n,i,o,r;for(i=0,r=function(){var t,a,s;for(s=[],t=0,a=e.length-1;0<=a?t<=a:t>=a;0<=a?++t:--t)s.push(!1);return s}();;){for(t=-1,s=n=0,o=e.length-1;0<=o?n<=o:n>=o;s=0<=o?++n:--n)if(!r[s]){t=s;break}if(-1===t)break;for(a=0;!r[t];)r[t]=!0,a++,t=e[t];i+=a+1}return i},e=function(e,t){return(s(t)+s(e))%2===0},a=function(t,a){for(r(a),r(t);!e(t,a);)r(a),r(t)},o=function(e,t){var a,s,n;for(a=s=0,n=e.length-1;0<=n?s<=n:s>=n;a=0<=n?++s:--s)e[a]=i(0,t-1)},n=function(e,t){return e.reduce(function(e,t){return e+t})%t===0},t=function(e,t){for(o(e,3);!n(e,3);)o(e,3);for(o(t,2);!n(t,2);)o(t,2)},function(){return a(this.cp,this.ep),t(this.co,this.eo),this}}(),B.moves=[{center:[0,1,2,3,4,5],cp:[O,T,k,N,r,c,i,d],co:[0,0,0,0,0,0,0,0],ep:[S,x,w,M,h,o,l,n,v,f,t,a],eo:[0,0,0,0,0,0,0,0,0,0,0,0]},{center:[0,1,2,3,4,5],cp:[r,k,N,T,d,c,i,O],co:[2,0,0,1,1,0,0,2],ep:[v,w,M,S,a,o,l,n,h,f,t,x],eo:[0,0,0,0,0,0,0,0,0,0,0,0]},{center:[0,1,2,3,4,5],cp:[k,c,N,O,T,r,i,d],co:[1,2,0,0,2,1,0,0],ep:[x,f,M,S,h,v,l,n,w,o,t,a],eo:[0,1,0,0,0,1,0,0,1,1,0,0]},{center:[0,1,2,3,4,5],cp:[T,k,N,O,c,i,d,r],co:[0,0,0,0,0,0,0,0],ep:[x,w,M,S,o,l,n,h,v,f,t,a],eo:[0,0,0,0,0,0,0,0,0,0,0,0]},{center:[0,1,2,3,4,5],cp:[T,N,i,O,r,k,c,d],co:[0,1,2,0,0,2,1,0],ep:[x,w,t,S,h,o,f,n,v,M,l,a],eo:[0,0,0,0,0,0,0,0,0,0,0,0]},{center:[0,1,2,3,4,5],cp:[T,k,O,d,r,c,N,i],co:[0,0,1,2,0,0,2,1],ep:[x,w,M,a,h,o,l,t,v,f,S,n],eo:[0,0,0,1,0,0,0,1,0,0,1,1]},{center:[y,m,b,s,e,g],cp:[T,k,N,O,r,c,i,d],co:[0,0,0,0,0,0,0,0],ep:[x,w,M,S,h,o,l,n,f,t,a,v],eo:[0,0,0,0,0,0,0,0,1,1,1,1]},{center:[e,g,y,m,b,s],cp:[T,k,N,O,r,c,i,d],co:[0,0,0,0,0,0,0,0],ep:[x,S,M,n,h,w,l,o,v,f,t,a],eo:[0,1,0,1,0,1,0,1,0,0,0,0]},{center:[b,y,m,g,s,e],cp:[T,k,N,O,r,c,i,d],co:[0,0,0,0,0,0,0,0],ep:[M,w,l,S,x,o,h,n,v,f,t,a],eo:[1,0,1,0,1,0,1,0,0,0,0,0]}],_={U:0,R:1,F:2,D:3,L:4,B:5,E:6,M:7,S:8,x:9,y:10,z:11,u:12,r:13,f:14,d:15,l:16,b:17},E={0:"U",1:"R",2:"F",3:"D",4:"L",5:"B",6:"E",7:"M",8:"S",9:"x",10:"y",11:"z",12:"u",13:"r",14:"f",15:"d",16:"l",17:"b"},L=function(e){var t,a,s,n,i,o,r;if("string"===typeof e){for(r=[],t=0,a=(o=e.split(/\s+/)).length;t<a;t++)if(0!==(n=o[t]).length){if(n.length>2)throw new Error("Invalid move: ".concat(n));if(void 0===(s=_[n[0]]))throw new Error("Invalid move: ".concat(n));if(1===n.length)i=0;else if("2"===n[1])i=1;else{if("'"!==n[1])throw new Error("Invalid move: ".concat(n));i=2}r.push(3*s+i)}return r}return null!=e.length?e:[e]},B.moves.push((new B).move("R M' L'").toJSON()),B.moves.push((new B).move("U E' D'").toJSON()),B.moves.push((new B).move("F S B'").toJSON()),B.moves.push((new B).move("U E'").toJSON()),B.moves.push((new B).move("R M'").toJSON()),B.moves.push((new B).move("F S").toJSON()),B.moves.push((new B).move("D E").toJSON()),B.moves.push((new B).move("L M").toJSON()),B.moves.push((new B).move("B S'").toJSON()),B}()}(),0,1,2,3,4,5,0,1,2,3,4,5,6,7,0,1,2,3,4,5,6,7,8,9,10,11,e=function(e,t){var a,s,n;if(e<t)return 0;for(t>e/2&&(t=e-t),n=1,a=e,s=1;a!==e-t;)n*=a,n/=s,a--,s++;return n},c=function(e){var t,a,s,n;for(t=1,a=s=2,n=e;2<=n?s<=n:s>=n;a=2<=n?++s:--s)t*=a;return t},m=function(e,t){return e>t?e:t},w=function(e,t,a){var s,n,i,o,r;for(r=e[t],s=n=i=t,o=a-1;i<=o?n<=o:n>=o;s=i<=o?++n:--n)e[s]=e[s+1];return e[a]=r},k=function(e,t,a){var s,n,i,o,r;for(r=e[a],s=n=i=a,o=t+1;i<=o?n<=o:n>=o;s=i<=o?++n:--n)e[s]=e[s-1];return e[t]=r},a={twist:function(e){var t,a,s,n,i,o;if(null!=e){for(i=0,t=a=6;a>=0;t=--a)n=e%3,e=e/3|0,this.co[t]=n,i+=n;return this.co[7]=(3-i%3)%3,this}for(o=0,t=s=0;s<=6;t=++s)o=3*o+this.co[t];return o},flip:function(e){var t,a,s,n,i,o;if(null!=e){for(i=0,t=a=10;a>=0;t=--a)n=e%2,e=e/2|0,this.eo[t]=n,i+=n;return this.eo[11]=(2-i%2)%2,this}for(o=0,t=s=0;s<=10;t=++s)o=2*o+this.eo[t];return o},cornerParity:function(){var e,t,a,s,n,i;for(i=0,e=a=7,1;a>=1;e=--a)for(t=s=n=e-1,0;n<=0?s<=0:s>=0;t=n<=0?++s:--s)this.cp[t]>this.cp[e]&&i++;return i%2},edgeParity:function(){var e,t,a,s,n,i;for(i=0,e=a=11,1;a>=1;e=--a)for(t=s=n=e-1,0;n<=0?s<=0:s>=0;t=n<=0?++s:--s)this.ep[t]>this.ep[e]&&i++;return i%2},URFtoDLF:(y=function(t,a,s){var n,i,o,r,l,h,d=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return o=c((r=s-a)+1),"corners"===t?(i=7,h="cp"):(i=11,h="ep"),l=function(){var e,t,a;for(a=[],n=e=0,t=r;0<=t?e<=t:e>=t;n=0<=t?++e:--e)a.push(0);return a}(),function(t){var c,m,u,p,f,v,b,g,y,S,E,O,M,N,x,T,j,C,F,I,A,_,L,B,U,D,R;if(null!=t){for(n=v=0,E=r;0<=E?v<=E:v>=E;n=0<=E?++v:--v)l[n]=n+a;for(m=t%o,c=t/o|0,y=this[h],n=b=0,O=i;0<=O?b<=O:b>=O;n=0<=O?++b:--b)y[n]=-1;for(p=g=1,N=r;1<=N?g<=N:g>=N;p=1<=N?++g:--g)for(f=m%(p+1),m=m/(p+1)|0;f>0;)k(l,0,p),f--;if(U=r,d)for(p=S=0,x=i;0<=x?S<=x:S>=x;p=0<=x?++S:--S)c-(u=e(i-p,U+1))>=0&&(y[p]=l[r-U],c-=u,U--);else for(p=_=T=i;T<=0?_<=0:_>=0;p=T<=0?++_:--_)c-(u=e(p,U+1))>=0&&(y[p]=l[U],c-=u,U--);return this}for(y=this[h],n=L=0,j=r;0<=j?L<=j:L>=j;n=0<=j?++L:--L)l[n]=-1;if(c=m=U=0,d)for(p=B=C=i;C<=0?B<=0:B>=0;p=C<=0?++B:--B)a<=(F=y[p])&&F<=s&&(c+=e(i-p,U+1),l[r-U]=y[p],U++);else for(p=D=0,I=i;0<=I?D<=I:D>=I;p=0<=I?++D:--D)a<=(A=y[p])&&A<=s&&(c+=e(p,U+1),l[U]=y[p],U++);for(p=R=M=r;M<=0?R<=0:R>=0;p=M<=0?++R:--R){for(f=0;l[p]!==a+p;)w(l,0,p),f++;m=(p+1)*m+f}return c*o+m}})("corners",0,5),URtoUL:y("edges",0,2),UBtoDF:y("edges",3,5),URtoDF:y("edges",0,5),FRtoBR:y("edges",8,11,!0)})M=a[d],t.prototype[d]=M;return i=function(e,a,s){var n,i,o,r,l,c,h,d,m,u,p;for(n="corners"===e?"cornerMultiply":"edgeMultiply",i=new t,p=[],o=c=0,u=s-1;0<=u?c<=u:c>=u;o=0<=u?++c:--c){for(i[a](o),r=[],l=d=0;d<=5;l=++d){for(h=t.moves[l],m=0;m<=2;++m)i[n](h),r.push(i[a]());i[n](h)}p.push(r)}return p},f=function(){var e,a;return e=new t,a=new t,function(t,s){var n,i;for(e.URtoUL(t),a.UBtoDF(s),n=i=0;i<=7;n=++i)if(-1!==e.ep[n]){if(-1!==a.ep[n])return-1;a.ep[n]=e.ep[n]}return a.URtoDF()}}(),2187,2048,2,11880,495,24,20160,20160,1320,1320,t.moveTables={parity:[[1,0,1,1,0,1,1,0,1,1,0,1,1,0,1,1,0,1],[0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0]],twist:null,flip:null,FRtoBR:null,URFtoDLF:null,URtoDF:null,URtoUL:null,UBtoDF:null,mergeURtoDF:null},v={twist:["corners",2187],flip:["edges",2048],FRtoBR:["edges",11880],URFtoDLF:["corners",20160],URtoDF:["edges",20160],URtoUL:["edges",1320],UBtoDF:["edges",1320],mergeURtoDF:[]},t.computeMoveTables=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];var s,n,o,r,l,c;for(0===t.length&&(t=function(){var e;for(o in e=[],v)e.push(o);return e}()),n=0,s=t.length;n<s;n++)if(c=t[n],null===this.moveTables[c])if("mergeURtoDF"===c)this.moveTables.mergeURtoDF=function(){var e,t,a,s;for(s=[],t=a=0;a<=335;t=++a)s.push(function(){var a,s;for(s=[],e=a=0;a<=335;e=++a)s.push(f(t,e));return s}());return s}();else{var h=Object(E.a)(v[c],2);r=h[0],l=h[1],this.moveTables[c]=i(r,c,l)}return this},s=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17],b=function(){var e,t,a,s,n,i,o,r;for(r=[],t=a=0;a<=5;t=++a){for(s=[],e=n=0;n<=5;e=++n)if(e!==t&&e!==t-3)for(o=i=0;i<=2;o=++i)s.push(3*e+o);r.push(s)}return r}(),n=[0,1,2,4,7,9,10,11,13,16],g=function(){var e,t,a,s,n,i,o,r,l,c;for(c=[],t=s=0;s<=5;t=++s){for(n=[],e=i=0;i<=5;e=++i)if(e!==t&&e!==t-3)for(o=0,a=(l=0===e||3===e?[0,1,2]:[1]).length;o<a;o++)r=l[o],n.push(3*e+r);c.push(n)}return c}(),S=function(e,t,a){var s,n;return n=t>>3,s=t%8<<2,null!=a?(e[n]&=~(15<<s),e[n]|=a<<s,a):(e[n]&15<<s)>>>s},o=function(e,t,a,i){var o,r,l,c,h,d,m,u,p,f,v;for(v=function(){var e,a,s;for(s=[],e=0,a=Math.ceil(t/8)-1;0<=a?e<=a:e>=a;0<=a?++e:--e)s.push(4294967295);return s}(),m=1===e?s:n,S(v,0,r=0),l=1;l!==t;){for(c=d=0,f=t-1;0<=f?d<=f:d>=f;c=0<=f?++d:--d)if(S(v,c)===r)for(o=a(c),p=0,h=m.length;p<h;p++)u=i(o,m[p]),15===S(v,u)&&(S(v,u,r+1),l++);r++}return v},t.pruningTables={sliceTwist:null,sliceFlip:null,sliceURFtoDLFParity:null,sliceURtoDFParity:null},O={sliceTwist:[1,1082565,function(e){return[e%495,e/495|0]},function(e,a){var s,n,i,o=Object(E.a)(e,2);return n=o[0],i=o[1],s=t.moveTables.FRtoBR[24*n][a]/24|0,495*t.moveTables.twist[i][a]+s}],sliceFlip:[1,1013760,function(e){return[e%495,e/495|0]},function(e,a){var s,n,i,o=Object(E.a)(e,2);return i=o[0],s=o[1],n=t.moveTables.FRtoBR[24*i][a]/24|0,495*t.moveTables.flip[s][a]+n}],sliceURFtoDLFParity:[2,967680,function(e){return[e%2,(e/2|0)%24,(e/2|0)/24|0]},function(e,a){var s,n,i,o,r,l=Object(E.a)(e,3);return o=l[0],r=l[1],s=l[2],n=t.moveTables.parity[o][a],i=t.moveTables.FRtoBR[r][a],2*(24*t.moveTables.URFtoDLF[s][a]+i)+n}],sliceURtoDFParity:[2,967680,function(e){return[e%2,(e/2|0)%24,(e/2|0)/24|0]},function(e,a){var s,n,i,o,r,l=Object(E.a)(e,3);return o=l[0],r=l[1],s=l[2],n=t.moveTables.parity[o][a],i=t.moveTables.FRtoBR[r][a],2*(24*t.moveTables.URtoDF[s][a]+i)+n}]},t.computePruningTables=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];var s,n,i,r,l;for(0===t.length&&(t=function(){var e;for(i in e=[],O)e.push(i);return e}()),n=0,s=t.length;n<s;n++)l=t[n],null===this.pruningTables[l]&&(r=O[l],this.pruningTables[l]=o.apply(void 0,Object(h.a)(r)));return this},t.initSolver=function(){return t.computeMoveTables(),t.computePruningTables()},t.prototype.solveUpright=function(){var e,a,i,o,r,l,c,h,d,f=arguments.length>0&&void 0!==arguments[0]?arguments[0]:22;return i=function(){var e,t,a,s,n,i,o;for(t=["U","R","F","D","L","B"],i=["","2","'"],o=[],e=a=0;a<=5;e=++a)for(n=s=0;s<=2;n=++s)o.push(t[e]+i[n]);return o}(),e=function(){function e(t){Object(u.a)(this,e),this.parent=null,this.lastMove=null,this.depth=0,t&&this.init(t)}return Object(p.a)(e,[{key:"init",value:function(e){return this.flip=e.flip(),this.twist=e.twist(),this.slice=e.FRtoBR()/24|0,this.parity=e.cornerParity(),this.URFtoDLF=e.URFtoDLF(),this.FRtoBR=e.FRtoBR(),this.URtoUL=e.URtoUL(),this.UBtoDF=e.UBtoDF(),this}},{key:"solution",value:function(){return this.parent?this.parent.solution()+i[this.lastMove]+" ":""}},{key:"move",value:function(e,a,s){return t.moveTables[e][a][s]}},{key:"pruning",value:function(e,a){return S(t.pruningTables[e],a)}},{key:"moves1",value:function(){return null!==this.lastMove?b[this.lastMove/3|0]:s}},{key:"minDist1",value:function(){var e,t;return e=this.pruning("sliceFlip",495*this.flip+this.slice),t=this.pruning("sliceTwist",495*this.twist+this.slice),m(e,t)}},{key:"next1",value:function(e){var t;return(t=a.pop()).parent=this,t.lastMove=e,t.depth=this.depth+1,t.flip=this.move("flip",this.flip,e),t.twist=this.move("twist",this.twist,e),t.slice=this.move("FRtoBR",24*this.slice,e)/24|0,t}},{key:"moves2",value:function(){return null!==this.lastMove?g[this.lastMove/3|0]:n}},{key:"minDist2",value:function(){var e,t,a,s;return a=2*(24*this.URtoDF+this.FRtoBR)+this.parity,e=this.pruning("sliceURtoDFParity",a),s=2*(24*this.URFtoDLF+this.FRtoBR)+this.parity,t=this.pruning("sliceURFtoDLFParity",s),m(e,t)}},{key:"init2",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(null!==this.parent)return this.parent.init2(!1),this.URFtoDLF=this.move("URFtoDLF",this.parent.URFtoDLF,this.lastMove),this.FRtoBR=this.move("FRtoBR",this.parent.FRtoBR,this.lastMove),this.parity=this.move("parity",this.parent.parity,this.lastMove),this.URtoUL=this.move("URtoUL",this.parent.URtoUL,this.lastMove),this.UBtoDF=this.move("UBtoDF",this.parent.UBtoDF,this.lastMove),e?this.URtoDF=this.move("mergeURtoDF",this.URtoUL,this.UBtoDF):void 0}},{key:"next2",value:function(e){var t;return(t=a.pop()).parent=this,t.lastMove=e,t.depth=this.depth+1,t.URFtoDLF=this.move("URFtoDLF",this.URFtoDLF,e),t.FRtoBR=this.move("FRtoBR",this.FRtoBR,e),t.parity=this.move("parity",this.parity,e),t.URtoDF=this.move("URtoDF",this.URtoDF,e),t}}]),e}(),h=null,r=function(e){var t,a,s,n;for(n=[],t=a=1,s=f;(1<=s?a<=s:a>=s)&&(o(e,t),null===h);t=1<=s?++a:--a)n.push(void 0);return n},o=function(e,t){var s,i,r,l,d,m,u;if(0===t){if(0===e.minDist1()&&(null===e.lastMove||(d=e.lastMove,N.call(n,d)<0)))return c(e)}else if(t>0&&e.minDist1()<=t){for(u=[],i=0,s=(m=e.moves1()).length;i<s&&(r=m[i],l=e.next1(r),o(l,t-1),a.push(l),null===h);i++)u.push(void 0);return u}},c=function(e){var t,a,s,n;for(e.init2(),n=[],t=a=1,s=f-e.depth;(1<=s?a<=s:a>=s)&&(l(e,t),null===h);t=1<=s?++a:--a)n.push(void 0);return n},l=function(e,t){var s,n,i,o,r,c;if(0===t){if(0===e.minDist2())return h=e.solution()}else if(t>0&&e.minDist2()<=t){for(c=[],n=0,s=(r=e.moves2()).length;n<s&&(i=r[n],o=e.next2(i),l(o,t-1),a.push(o),null===h);n++)c.push(void 0);return c}},r(d=(a=function(){var t,a,s;for(s=[],t=0,a=f+1;0<=a?t<=a:t>=a;0<=a?++t:--t)s.push(new e);return s}()).pop().init(this)),a.push(d),h.trim()},l={U:0,R:1,F:2,D:3,L:4,B:5},r={0:"U",1:"R",2:"F",3:"D",4:"L",5:"B"},t.prototype.solve=function(){var e,a,s,n,i,o,c,h,d=arguments.length>0&&void 0!==arguments[0]?arguments[0]:22;for(h=(e=this.clone()).upright(),e.move(h),o=(new t).move(h).center,c=[],s=0,a=(i=e.solveUpright(d).split(" ")).length;s<a;s++)n=i[s],c.push(r[o[l[n[0]]]]),n.length>1&&(c[c.length-1]+=n[1]);return c.join(" ")},t.scramble=function(){return t.inverse(t.random().solve())},t}var w=a(6),k=a(17),M=a(96),N=a.n(M);var x=a(23),T=a.n(x),j=a(26),C=a.n(j),F=a(20),I=(a(290),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(f.a)(this,Object(v.a)(t).call(this,e))).state={modalIsOpen:!1},a.openModal=a.openModal.bind(Object(g.a)(Object(g.a)(a))),a.afterOpenModal=a.afterOpenModal.bind(Object(g.a)(Object(g.a)(a))),a.closeModal=a.closeModal.bind(Object(g.a)(Object(g.a)(a))),a.handleClearAll=a.handleClearAll.bind(Object(g.a)(Object(g.a)(a))),a.colorLuminance=a.colorLuminance.bind(Object(g.a)(Object(g.a)(a))),a}return Object(b.a)(t,e),Object(p.a)(t,[{key:"openModal",value:function(){this.setState({modalIsOpen:!0}),this.props.handleModal(),k.a.pageview("clear")}},{key:"afterOpenModal",value:function(){document.getElementById("clearconfirm").focus()}},{key:"closeModal",value:function(){this.setState({modalIsOpen:!1}),this.props.handleModal(),k.a.pageview("close")}},{key:"handleClearAll",value:function(){this.props.clearAll(),this.closeModal()}},{key:"colorLuminance",value:function(e,t){(e=String(e).replace(/[^0-9a-f]/gi,"")).length<6&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),t=t||0;var a,s,n="#";for(s=0;s<3;s++)a=parseInt(e.substr(2*s,2),16),n+=("00"+(a=Math.round(Math.min(Math.max(0,a+a*t),255)).toString(16))).substr(a.length);return n}},{key:"render",value:function(){var e=window.getComputedStyle(document.documentElement).getPropertyValue("--accent"),t=Object(F.createMuiTheme)({typography:{useNextVariants:!0},palette:{primary:{main:e,contrastText:this.props.theme.primary,dark:this.colorLuminance(e,-.2),light:this.colorLuminance(e,.2)},secondary:{main:this.colorLuminance(e,-.3),contrastText:this.props.theme.primary,dark:this.colorLuminance(e,-.5),light:this.colorLuminance(e,-.1)}},shadows:Array(25).fill("none")});return n.a.createElement("div",{className:"modal"},n.a.createElement("button",{id:"logstatbtn",onClick:this.openModal},n.a.createElement(w.a,{icon:"times"})),n.a.createElement(T.a,{isOpen:this.state.modalIsOpen,onAfterOpen:this.afterOpenModal,onRequestClose:this.closeModal,ariaHideApp:!1,closeTimeoutMS:200,contentLabel:"Example Modal",className:"ArrowModal",overlayClassName:"ArrowOverlay"},n.a.createElement("div",{className:"clearinfo"},n.a.createElement("h1",{id:"title"},"Clear All"),n.a.createElement("br",null),n.a.createElement("p",null,"This will clear your entire history. Coninue?"),n.a.createElement("div",{className:"choose"},n.a.createElement(F.MuiThemeProvider,{theme:t},n.a.createElement("div",{className:"cancel"},n.a.createElement(C.a,{onClick:this.closeModal,variant:"outlined",color:"primary",className:"confirm",tabIndex:"1"},"Cancel")),n.a.createElement("div",{className:"confirm"},n.a.createElement(C.a,{onClick:this.handleClearAll,id:"clearconfirm",variant:"contained",color:"primary",className:"confirm",tabIndex:"2"},"Confirm")))))))}}]),t}(s.Component)),A=a(82),_=(a(371),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(f.a)(this,Object(v.a)(t).call(this,e))).state={modalIsOpen:!1,x:1},a.openModal=a.openModal.bind(Object(g.a)(Object(g.a)(a))),a.afterOpenModal=a.afterOpenModal.bind(Object(g.a)(Object(g.a)(a))),a.closeModal=a.closeModal.bind(Object(g.a)(Object(g.a)(a))),a.handleAdd=a.handleAdd.bind(Object(g.a)(Object(g.a)(a))),a}return Object(b.a)(t,e),Object(p.a)(t,[{key:"openModal",value:function(){this.setState({modalIsOpen:!0}),this.props.handleModal(),k.a.pageview("/add")}},{key:"afterOpenModal",value:function(){document.getElementById("clearconfirm").focus()}},{key:"closeModal",value:function(){this.setState({modalIsOpen:!1}),this.props.handleModal(),k.a.pageview("/")}},{key:"handleChange",value:function(e){var t=e.target.value.replace(/[^0-9\.]/g,"");Number(t)<0?this.setState({x:0}):Number(t)>1440?this.setState({x:1440}):this.setState({x:t})}},{key:"handleFocus",value:function(e){e.target.select()}},{key:"handleAdd",value:function(){Number(this.state.x)&&this.props.addTime(Number(this.state.x)),this.closeModal()}},{key:"colorLuminance",value:function(e,t){(e=String(e).replace(/[^0-9a-f]/gi,"")).length<6&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),t=t||0;var a,s,n="#";for(s=0;s<3;s++)a=parseInt(e.substr(2*s,2),16),n+=("00"+(a=Math.round(Math.min(Math.max(0,a+a*t),255)).toString(16))).substr(a.length);return n}},{key:"render",value:function(){var e=this,t=window.getComputedStyle(document.documentElement).getPropertyValue("--accent"),a=Object(F.createMuiTheme)({typography:{useNextVariants:!0},palette:{primary:{main:t,contrastText:this.props.theme.primary,dark:this.colorLuminance(t,-.2),light:this.colorLuminance(t,.2)},secondary:{main:this.colorLuminance(t,-.3),contrastText:this.props.theme.primary,dark:this.colorLuminance(t,-.5),light:this.colorLuminance(t,-.1)}},shadows:Array(25).fill("none")});return n.a.createElement("div",{className:"modal"},n.a.createElement("button",{id:"logstatbtn",onClick:this.openModal},n.a.createElement(w.a,{icon:"plus"})),n.a.createElement(T.a,{isOpen:this.state.modalIsOpen,onAfterOpen:this.afterOpenModal,onRequestClose:this.closeModal,ariaHideApp:!1,contentLabel:"Example Modal",className:"ArrowModal",overlayClassName:"ArrowOverlay"},n.a.createElement("div",{className:"clearinfo"},n.a.createElement("h1",{id:"title"},"Add Time"),n.a.createElement("br",null),n.a.createElement("div",{style:{userSelect:"none"}},n.a.createElement("p",{id:"inline"},"Enter your time in seconds:"),n.a.createElement("div",{id:"inline2"},n.a.createElement(w.a,{icon:"caret-left",id:"changen",onClick:function(){e.state.x>0&&e.setState({x:e.state.x-1})}}),n.a.createElement("input",{id:"input",onFocus:this.handleFocus,min:0,step:.001,value:this.state.x,type:"text",onInput:function(t){return e.handleChange(t)}}),n.a.createElement(w.a,{icon:"caret-right",id:"changen",onClick:function(){e.state.x<1440&&e.setState({x:e.state.x+1})}}))),n.a.createElement("div",{className:"choose"},n.a.createElement(F.MuiThemeProvider,{theme:a},n.a.createElement("div",{className:"cancel"},n.a.createElement(C.a,{onClick:this.closeModal,variant:"outlined",color:"primary",className:"confirm",tabIndex:"1"},"Cancel")),n.a.createElement("div",{className:"confirm"},n.a.createElement(C.a,{onClick:this.handleAdd,id:"clearconfirm",variant:"contained",color:"primary",className:"confirm",tabIndex:"2"},"Confirm")))))))}}]),t}(s.Component)),L=a(22),B=a(62),U=a(261),D=a.n(U),R=(a(397),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(f.a)(this,Object(v.a)(t).call(this,e))).handleClick=a.handleClick.bind(Object(g.a)(Object(g.a)(a))),a}return Object(b.a)(t,e),Object(p.a)(t,[{key:"handleClick",value:function(){this.props.undo()}},{key:"colorLuminance",value:function(e,t){(e=String(e).replace(/[^0-9a-f]/gi,"")).length<6&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),t=t||0;var a,s,n="#";for(s=0;s<3;s++)a=parseInt(e.substr(2*s,2),16),n+=("00"+(a=Math.round(Math.min(Math.max(0,a+a*t),255)).toString(16))).substr(a.length);return n}},{key:"render",value:function(){var e=Object(F.createMuiTheme)({typography:{useNextVariants:!0},palette:{primary:{main:this.colorLuminance(this.props.theme.primary,.3),contrastText:this.props.theme.accent,dark:this.colorLuminance(this.props.theme.primary,.1),light:this.colorLuminance(this.props.theme.primary,.4)}},shadows:Array(25).fill("none")});return n.a.createElement("div",{className:"undo"},n.a.createElement(F.MuiThemeProvider,{theme:e},n.a.createElement("div",{className:"undobtn"},n.a.createElement(D.a,{onClick:this.handleClick,variant:"extended",color:"primary",className:"undofab"},"\xa0\xa0\xa0\xa0\xa0\xa0UNDO\xa0\xa0\xa0\xa0\xa0\xa0"))))}}]),t}(s.Component)),z=(a(202),a(399),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(f.a)(this,Object(v.a)(t).call(this,e))).handleSyncFirebase=function(){a.props.syncStateWithFirebase(),a.setState({synced:!0})},a.handleUndoSync=function(){a.props.undoSyncWithFirebase(),a.setState({synced:!1})},a.state={modalIsOpen:!1,tab:"left",filename:"dandytimer_results",selectedfile:null,upfilename:"no file chosen",saved:!1,loaded:!1,restored:!1,synced:!1},a.openModal=a.openModal.bind(Object(g.a)(Object(g.a)(a))),a.afterOpenModal=a.afterOpenModal.bind(Object(g.a)(Object(g.a)(a))),a.closeModal=a.closeModal.bind(Object(g.a)(Object(g.a)(a))),a.handleFileName=a.handleFileName.bind(Object(g.a)(Object(g.a)(a))),a.handleSelectedFile=a.handleSelectedFile.bind(Object(g.a)(Object(g.a)(a))),a.colorLuminance=a.colorLuminance.bind(Object(g.a)(Object(g.a)(a))),a.handleClick=a.handleClick.bind(Object(g.a)(Object(g.a)(a))),a.generageName=a.generateName.bind(Object(g.a)(Object(g.a)(a))),a.handleSaveFirebase=a.handleSaveFirebase.bind(Object(g.a)(Object(g.a)(a))),a.handleLoadFirebase=a.handleLoadFirebase.bind(Object(g.a)(Object(g.a)(a))),a.handleRestoreFirebase=a.handleRestoreFirebase.bind(Object(g.a)(Object(g.a)(a))),a.handleUndoSave=a.handleUndoSave.bind(Object(g.a)(Object(g.a)(a))),a.handleUndoLoad=a.handleUndoLoad.bind(Object(g.a)(Object(g.a)(a))),a.handleUndoRestore=a.handleUndoRestore.bind(Object(g.a)(Object(g.a)(a))),a.inputRef=n.a.createRef(),a}return Object(b.a)(t,e),Object(p.a)(t,[{key:"openModal",value:function(){this.setState({modalIsOpen:!0}),this.props.handleModal(),this.generateName(),k.a.pageview("/downup")}},{key:"afterOpenModal",value:function(){}},{key:"closeModal",value:function(){this.setState({modalIsOpen:!1,saved:!1,loaded:!1,restored:!1}),this.props.handleModal(),k.a.pageview("/")}},{key:"handleFocus",value:function(e){e.target.select()}},{key:"handleFileName",value:function(e){this.setState({filename:e.target.value})}},{key:"generateName",value:function(){var e=new Date,t="dandyresults-"+(e.getMonth()+1)+"-"+e.getDate()+"-"+e.getFullYear()+"-"+e.getHours()+e.getMinutes();this.setState({filename:t})}},{key:"handleSelectedFile",value:function(e){e.target.files[0].name&&this.setState({upfilename:e.target.files[0].name}),this.setState({selectedfile:e.target.files[0]})}},{key:"handleClick",value:function(){this.inputRef&&this.inputRef.current&&this.inputRef.current.click()}},{key:"handleSaveFirebase",value:function(){this.props.saveStateToFirebase(),this.setState({saved:!0})}},{key:"handleLoadFirebase",value:function(){this.props.loadStateFromFirebase(),this.setState({loaded:!0})}},{key:"handleRestoreFirebase",value:function(){this.props.restoreFirebaseBackup(),this.setState({restored:!0})}},{key:"handleUndoSave",value:function(){this.props.undoSaveToFirebase(),this.setState({saved:!1})}},{key:"handleUndoLoad",value:function(){this.props.undoLoadFromFirebase(),this.setState({loaded:!1})}},{key:"handleUndoRestore",value:function(){this.props.undoLoadFromFirebase(),this.setState({restored:!1})}},{key:"colorLuminance",value:function(e,t){(e=String(e).replace(/[^0-9a-f]/gi,"")).length<6&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),t=t||0;var a,s,n="#";for(s=0;s<3;s++)a=parseInt(e.substr(2*s,2),16),n+=("00"+(a=Math.round(Math.min(Math.max(0,a+a*t),255)).toString(16))).substr(a.length);return n}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"modal"},n.a.createElement("button",{id:"logstatbtn",onClick:this.openModal},n.a.createElement(w.a,{icon:"arrow-down"}),n.a.createElement(w.a,{icon:"arrow-up"})),n.a.createElement(T.a,{isOpen:this.state.modalIsOpen,onAfterOpen:this.afterOpenModal,onRequestClose:this.closeModal,ariaHideApp:!1,closeTimeoutMS:200,contentLabel:"Example Modal",className:"DownUpModal",overlayClassName:"DownUpOverlay"},n.a.createElement("h1",{className:"lefttitle"},"Export"),n.a.createElement("h1",{className:"righttitle"},"Import"),n.a.createElement("div",{className:"downupinfo"},n.a.createElement("div",{className:"leftdu"},n.a.createElement("div",{className:"transfer"},n.a.createElement("h2",{id:"h2du"},"Download JSON File"),n.a.createElement("div",{className:"signinmsg"},n.a.createElement("div",{className:"transferinfo"},n.a.createElement("input",{className:"downinput",type:"string",value:this.state.filename,onChange:this.handleFileName})),n.a.createElement("div",{className:"transferbtn"},n.a.createElement(L.AwesomeButton,{action:function(){return e.props.downloadFile(e.state.filename,"application/json")},type:"primary",className:"downloadbtn",id:"downloadbtn",size:"small"},n.a.createElement("div",{id:"downicon"},n.a.createElement(w.a,{icon:"download"})))))),n.a.createElement("div",{className:"transfer"},n.a.createElement("h2",{id:"h2du"},"Save To Your Account"),this.props.isSignedIn?n.a.createElement("div",{className:"signinmsg"},n.a.createElement("div",{className:"transferinfo"},n.a.createElement("div",{className:"timestamp"},this.props.lastsave&&"saved on ".concat(this.props.lastsave))),n.a.createElement("div",{className:"transferbtn"},n.a.createElement(L.AwesomeButton,{action:this.handleSaveFirebase,type:"primary",className:"firebasebtn",id:"firebasebtn",size:"small"},n.a.createElement("div",{id:"downicon"},n.a.createElement(w.a,{icon:"file-upload"}))),n.a.createElement(B.ClipLoader,{css:{display:"inline-block",float:"left",margin:"10px 10px"},sizeUnit:"px",size:35,color:this.props.theme.accent,loading:this.props.saving}),this.state.saved&&!this.props.saving?n.a.createElement("div",{className:"undodu"},n.a.createElement(R,{theme:this.props.theme,undo:this.handleUndoSave})):null)):n.a.createElement("div",{className:"signinmsg"},"Sign in to save to your account")),n.a.createElement("div",{className:"transfer"},n.a.createElement("h2",{id:"h2du"},"Sync With Your Account"),this.props.isSignedIn?n.a.createElement("div",{className:"signinmsg"},n.a.createElement("div",{className:"transferinfo"},n.a.createElement("div",{className:"syncmessage"},"Synchronize local results with online results so that no times are lost. If you've deleted any times that were recently uploaded or are still present on this device, they will be kept. Only recommended if you've forgotten to load previously saved results.")),n.a.createElement("div",{className:"transferbtn"},n.a.createElement(L.AwesomeButton,{action:this.handleSyncFirebase,type:"primary",className:"firebasebtn",id:"firebasebtn",size:"small"},n.a.createElement("div",{id:"downicon"},n.a.createElement(w.a,{icon:"sync-alt"}))),n.a.createElement(B.ClipLoader,{css:{display:"inline-block",float:"left",margin:"10px 10px"},sizeUnit:"px",size:35,color:this.props.theme.accent,loading:this.props.syncing}),this.state.synced&&!this.props.syncing?n.a.createElement("div",{className:"undodu"},n.a.createElement(R,{theme:this.props.theme,undo:this.handleUndoSync})):null)):n.a.createElement("div",{className:"signinmsg"},"Sign in to sync with your account"))),n.a.createElement("div",{className:"rightdu"},n.a.createElement("div",{className:"transfer"},n.a.createElement("h2",{id:"h2du"},"Upload JSON File"),n.a.createElement("div",{className:"signinmsg"},n.a.createElement("div",{style:{height:"0px",overflow:"hidden"}},n.a.createElement("input",{type:"file",ref:this.inputRef,onChange:this.handleSelectedFile})),n.a.createElement("div",{className:"transferinfo"},n.a.createElement("button",{className:"upinput",onClick:this.handleClick},this.state.upfilename)),n.a.createElement("div",{className:"transferbtn"},n.a.createElement(L.AwesomeButton,{action:function(){return e.props.uploadFile(e.state.selectedfile)},type:"primary",className:"downloadbtn",id:"downloadbtn",size:"small"},n.a.createElement("div",{id:"downicon"},n.a.createElement(w.a,{icon:"upload"})))))),n.a.createElement("div",{className:"transfer"},n.a.createElement("h2",{id:"h2du"},"Load From Your Account"),this.props.isSignedIn?n.a.createElement("div",{className:"signinmsg"},n.a.createElement("div",{className:"transferinfo"},n.a.createElement("div",{className:"timestamp"},this.props.lastsave&&"saved on ".concat(this.props.lastsave))),n.a.createElement("div",{className:"transferbtn"},n.a.createElement(L.AwesomeButton,{action:this.handleLoadFirebase,type:"primary",className:"firebasebtn",id:"firebasebtn",size:"small"},n.a.createElement("div",{id:"downicon"},n.a.createElement(w.a,{icon:"file-download"}))),n.a.createElement(B.ClipLoader,{css:{display:"inline-block",float:"left",margin:"10px 10px"},sizeUnit:"px",size:35,color:this.props.theme.accent,loading:this.props.loading}),this.state.loaded&&!this.props.loading?n.a.createElement("div",{className:"undodu"},n.a.createElement(R,{theme:this.props.theme,undo:this.handleUndoLoad})):null)):n.a.createElement("div",{className:"signinmsg"},"Sign in to load from your account")),this.props.isSignedIn&&this.props.backupsave?n.a.createElement("div",{className:"transfer"},n.a.createElement("h2",{id:"h2du"},"...Or Restore From Backup"),n.a.createElement("div",{className:"signinmsg"},n.a.createElement("div",{className:"transferinfo"},n.a.createElement("div",{className:"timestamp"},this.props.backupsave&&"saved on ".concat(this.props.backupsave))),n.a.createElement("div",{className:"transferbtn"},n.a.createElement(L.AwesomeButton,{action:this.handleRestoreFirebase,type:"primary",className:"firebasebtn",id:"firebasebtn",size:"small"},n.a.createElement("div",{id:"downicon"},n.a.createElement(w.a,{icon:"file-download"}))),n.a.createElement(B.ClipLoader,{css:{display:"inline-block",float:"left",margin:"10px 10px"},sizeUnit:"px",size:35,color:this.props.theme.accent,loading:this.props.restoring}),this.state.restored&&!this.props.restoring?n.a.createElement("div",{className:"undodu"},n.a.createElement(R,{theme:this.props.theme,undo:this.handleUndoRestore})):null))):null))))}}]),t}(s.Component)),P=(a(400),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(f.a)(this,Object(v.a)(t).call(this,e))).afterOpenModal=a.afterOpenModal.bind(Object(g.a)(Object(g.a)(a))),a}return Object(b.a)(t,e),Object(p.a)(t,[{key:"afterOpenModal",value:function(){}},{key:"handleFocus",value:function(e){e.target.select()}},{key:"colorLuminance",value:function(e,t){(e=String(e).replace(/[^0-9a-f]/gi,"")).length<6&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),t=t||0;var a,s,n="#";for(s=0;s<3;s++)a=parseInt(e.substr(2*s,2),16),n+=("00"+(a=Math.round(Math.min(Math.max(0,a+a*t),255)).toString(16))).substr(a.length);return n}},{key:"render",value:function(){var e=window.getComputedStyle(document.documentElement).getPropertyValue("--accent"),t=Object(F.createMuiTheme)({typography:{useNextVariants:!0},palette:{primary:{main:e,contrastText:this.props.theme.primary,dark:this.colorLuminance(e,-.2),light:this.colorLuminance(e,.2)},secondary:{main:this.colorLuminance(e,-.3),contrastText:this.props.theme.primary,dark:this.colorLuminance(e,-.5),light:this.colorLuminance(e,-.1)}},shadows:Array(25).fill("none")});return n.a.createElement("div",{className:"modal"},n.a.createElement(T.a,{isOpen:this.props.modalIsOpen,onAfterOpen:this.afterOpenModal,onRequestClose:this.props.closeModal,ariaHideApp:!1,closeTimeoutMS:200,contentLabel:"Example Modal",className:"AboutModal",overlayClassName:"AboutOverlay"},n.a.createElement("div",{className:"averageinfo"},n.a.createElement("h3",{id:"titleav"},"About"),n.a.createElement("br",null),n.a.createElement("div",{className:"about"},n.a.createElement("p",null,n.a.createElement("b",null,"dandytimer")," is made with love, and I hope you enjoy."),n.a.createElement("p",null,"I am (at the time of writing) a junior at the University of Minnesota majoring in Computer Science. I've loved cubing for the past 7 or so years, and made this cube timer to practice using the same frameworks that I'm expected to use at my internship. Not only has it been a great learning experience, it's been something that I've genuinely enjoyed working on."),n.a.createElement("p",null,"The source code for this project can be found\xa0",n.a.createElement("a",{href:"https://github.com/danieldylla/dandytimer",target:"_blank",rel:"noopener noreferrer"},"here"),". If you find any bugs or problems with dandytimer, let me know by raising an issue on the github linked. If you have any suggestions for this project, feel free to email me at my personal email, ",n.a.createElement("em",null,"daniel.dylla@gmail.com"),".")),n.a.createElement("div",{className:"avbuttons"},n.a.createElement(F.MuiThemeProvider,{theme:t},n.a.createElement("div",{className:"confirm"},n.a.createElement(C.a,{onClick:this.props.closeModal,id:"aboutconfirm",variant:"contained",color:"primary",className:"confirm",tabIndex:"2"},"close")))))))}}]),t}(s.Component)),H=(a(401),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(f.a)(this,Object(v.a)(t).call(this,e))).afterOpenModal=a.afterOpenModal.bind(Object(g.a)(Object(g.a)(a))),a}return Object(b.a)(t,e),Object(p.a)(t,[{key:"afterOpenModal",value:function(){document.getElementById("clearconfirm").focus()}},{key:"handleFocus",value:function(e){e.target.select()}},{key:"handleDeleteSession",value:function(e){this.props.deleteSession(e),this.props.closeModal()}},{key:"colorLuminance",value:function(e,t){(e=String(e).replace(/[^0-9a-f]/gi,"")).length<6&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),t=t||0;var a,s,n="#";for(s=0;s<3;s++)a=parseInt(e.substr(2*s,2),16),n+=("00"+(a=Math.round(Math.min(Math.max(0,a+a*t),255)).toString(16))).substr(a.length);return n}},{key:"render",value:function(){var e=this,t=window.getComputedStyle(document.documentElement).getPropertyValue("--accent"),a=Object(F.createMuiTheme)({typography:{useNextVariants:!0},palette:{primary:{main:t,contrastText:this.props.theme.primary,dark:this.colorLuminance(t,-.2),light:this.colorLuminance(t,.2)},secondary:{main:this.colorLuminance(t,-.3),contrastText:this.props.theme.primary,dark:this.colorLuminance(t,-.5),light:this.colorLuminance(t,-.1)}},shadows:Array(25).fill("none")});return n.a.createElement("div",{className:"modal"},n.a.createElement(T.a,{isOpen:this.props.modalIsOpen,onAfterOpen:this.afterOpenModal,onRequestClose:this.props.closeModal,ariaHideApp:!1,closeTimeoutMS:200,contentLabel:"Example Modal",className:"DeleteSessionModal",overlayClassName:"DeleteSessionOverlay"},n.a.createElement("div",{className:"deletesessinfo"},n.a.createElement("h1",{id:"dstitle"},"Delete Session"),n.a.createElement("br",null),n.a.createElement("p",{className:"dsinfo"},"Are you sure that you want to delete this session? This cannot be undone."),n.a.createElement("div",{className:"sesschoose"},n.a.createElement(F.MuiThemeProvider,{theme:a},n.a.createElement("div",{className:"sesscancel"},n.a.createElement(C.a,{onClick:this.props.closeModal,variant:"outlined",color:"primary",className:"confirm",tabIndex:"1"},"Cancel")),n.a.createElement("div",{className:"sessconfirm"},n.a.createElement(C.a,{onClick:function(){return e.handleDeleteSession(e.props.id)},id:"clearconfirm",variant:"contained",color:"primary",className:"confirm",tabIndex:"2"},"Confirm")))))))}}]),t}(s.Component)),J=(a(402),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(f.a)(this,Object(v.a)(t).call(this,e))).state={deleteSessionModalIsOpen:!1,deleteId:0},a.afterOpenModal=a.afterOpenModal.bind(Object(g.a)(Object(g.a)(a))),a.convertToTime=a.convertToTime.bind(Object(g.a)(Object(g.a)(a))),a.openDeleteSessionModal=a.openDeleteSessionModal.bind(Object(g.a)(Object(g.a)(a))),a.closeDeleteSessionModal=a.closeDeleteSessionModal.bind(Object(g.a)(Object(g.a)(a))),a}return Object(b.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.setState({deleteSessionModalIsOpen:!1})}},{key:"afterOpenModal",value:function(){}},{key:"openDeleteSessionModal",value:function(e){this.setState({deleteSessionModalIsOpen:!0,deleteId:e})}},{key:"closeDeleteSessionModal",value:function(){this.setState({deleteSessionModalIsOpen:!1})}},{key:"colorLuminance",value:function(e,t){(e=String(e).replace(/[^0-9a-f]/gi,"")).length<6&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),t=t||0;var a,s,n="#";for(s=0;s<3;s++)a=parseInt(e.substr(2*s,2),16),n+=("00"+(a=Math.round(Math.min(Math.max(0,a+a*t),255)).toString(16))).substr(a.length);return n}},{key:"displayHour",value:function(e){return e?e+":":""}},{key:"displayMinute",value:function(e,t){return t?t<10&&e?"0"+t+":":t+":":""}},{key:"displaySecond",value:function(e,t){return t<10&&e?"0"+t:t}},{key:"displayMillisecond",value:function(e){return e<10?"0"+e:e}},{key:"convertToTime",value:function(e){if("dnf"===e)return"DNF";if(0===e||null===e)return"-";var t=(e=Math.floor(e))%1e3,a=(e=(e-t)/1e3)%60,s=(e=(e-a)/60)%60;return e=(e-s)/60,t=Math.floor(t/10),this.displayHour(e)+this.displayMinute(e,s)+this.displaySecond(s,a)+"."+this.displayMillisecond(t)}},{key:"displaySessions",value:function(){var e=this,t=this.props.sessions.slice().map(function(t,a){return n.a.createElement("li",{className:"sessionbtn",key:a},n.a.createElement("button",{className:"choosesess",onClick:function(){return e.props.changeSession(a)}},n.a.createElement("h3",{className:"sessionname"},t.name?t.name:a+1),n.a.createElement("div",{className:"midsess"},"Solves: ",t.reps," ",n.a.createElement("br",null),"Average: ",e.convertToTime(t.average)),n.a.createElement(w.a,{className:"deletesess",icon:"times",onClick:function(){return e.openDeleteSessionModal(a)}})))});return n.a.createElement("ul",{className:"sesslist"},t)}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"modal"},n.a.createElement(T.a,{isOpen:this.props.modalIsOpen,onAfterOpen:this.afterOpenModal,onRequestClose:this.props.closeModal,ariaHideApp:!1,closeTimeoutMS:200,contentLabel:"Example Modal",className:"SessionModal",overlayClassName:"SessionOverlay"},n.a.createElement("div",{className:"sessinfo"},n.a.createElement("h1",{id:"titlesess"},"Sessions"),n.a.createElement("br",null),n.a.createElement("div",{className:"sessions"},this.displaySessions()),n.a.createElement("div",{className:"addsess"},n.a.createElement("button",{className:"newsess",onClick:this.props.newSession},n.a.createElement(w.a,{icon:"plus"}))))),n.a.createElement(H,{theme:this.props.theme,id:this.state.deleteId,modalIsOpen:this.state.deleteSessionModalIsOpen,openModal:this.openDeleteSessionModal,closeModal:this.closeDeleteSessionModal,newSession:this.props.newSession,deleteSession:function(t){return e.props.deleteSession(t)}}))}}]),t}(s.Component)),W=(a(403),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(f.a)(this,Object(v.a)(t).call(this,e))).state={aboutModalIsOpen:!1},a.openAboutModal=a.openAboutModal.bind(Object(g.a)(Object(g.a)(a))),a.closeAboutModal=a.closeAboutModal.bind(Object(g.a)(Object(g.a)(a))),a}return Object(b.a)(t,e),Object(p.a)(t,[{key:"openAboutModal",value:function(){this.setState({aboutModalIsOpen:!0}),this.props.handleModal(),k.a.pageview("/about")}},{key:"closeAboutModal",value:function(){this.setState({aboutModalIsOpen:!1}),this.props.handleModal(),k.a.pageview("/")}},{key:"displayHour",value:function(e){return e?e+":":""}},{key:"displayMinute",value:function(e,t){return t?t<10&&e?"0"+t+":":t+":":""}},{key:"displaySecond",value:function(e,t){return t<10&&e?"0"+t:t}},{key:"displayMillisecond",value:function(e){return e<10?"0"+e:e}},{key:"convertToTime",value:function(e){if("dnf"===e)return"DNF";if(0===e||null===e||0===this.props.reps)return"-";var t=(e=Math.floor(e))%1e3,a=(e=(e-t)/1e3)%60,s=(e=(e-a)/60)%60;return e=(e-s)/60,t=Math.floor(t/10),this.displayHour(e)+this.displayMinute(e,s)+this.displaySecond(s,a)+"."+this.displayMillisecond(t)}},{key:"displaySingle",value:function(e){return null===e?"-":e.dnf?"DNF":e.plus2?this.convertToTime(e.time)+"+":n.a.createElement("div",null,this.convertToTime(e.time))}},{key:"findMo3BestIndex",value:function(e){var t;for(t=0;t<this.props.log.length;t++)if(e===this.props.log[t].res.mo3)return t}},{key:"findAo5BestIndex",value:function(e){var t;for(t=0;t<this.props.log.length;t++)if(e===this.props.log[t].res.ao5)return t}},{key:"findAo12BestIndex",value:function(e){var t;for(t=0;t<this.props.log.length;t++)if(e===this.props.log[t].res.ao12)return t}},{key:"findAo50BestIndex",value:function(e){var t;for(t=0;t<this.props.log.length;t++)if(e===this.props.log[t].res.ao50)return t}},{key:"findAo100BestIndex",value:function(e){var t;for(t=0;t<this.props.log.length;t++)if(e===this.props.log[t].res.ao100)return t}},{key:"displayStats",value:function(){var e=this,t=this.findMo3BestIndex(this.props.best.mo3),a=this.findAo5BestIndex(this.props.best.ao5),s=this.findAo12BestIndex(this.props.best.ao12),i=this.findAo50BestIndex(this.props.best.ao50),o=this.findAo100BestIndex(this.props.best.ao100);return n.a.createElement("div",{className:"topstats"},n.a.createElement("div",{className:"third",id:"rowlabel"},"single"),n.a.createElement("button",{className:"third",onClick:this.props.res?function(){return e.props.openTimeModal(0,e.props.res)}:null},this.displaySingle(this.props.res)),n.a.createElement("button",{className:"third",onClick:this.props.best.res?function(){return e.props.openTimeModal(e.props.log.length-e.props.best.res.id,e.props.best.res)}:null},this.displaySingle(this.props.best.res)),n.a.createElement("div",{className:"third",id:"rowlabel"},"mo3"),n.a.createElement("button",{className:"third",onClick:this.props.res.mo3?function(){return e.props.openAvModal(0,e.props.res,e.props.res.mo3,3)}:null},this.convertToTime(this.props.res.mo3)),n.a.createElement("button",{className:"third",onClick:this.props.best.mo3?function(){return e.props.openAvModal(t,e.props.log[t].res,e.props.log[t].res.mo3,3)}:null},this.convertToTime(this.props.best.mo3)),n.a.createElement("div",{className:"third",id:"rowlabel"},"ao5"),n.a.createElement("button",{className:"third",onClick:this.props.res.ao5?function(){return e.props.openAvModal(0,e.props.res,e.props.res.ao5,5)}:null},this.convertToTime(this.props.res.ao5)),n.a.createElement("button",{className:"third",onClick:this.props.best.ao5?function(){return e.props.openAvModal(a,e.props.log[a].res,e.props.log[a].res.ao5,5)}:null},this.convertToTime(this.props.best.ao5)),n.a.createElement("div",{className:"third",id:"rowlabel"},"ao12"),n.a.createElement("button",{className:"third",onClick:this.props.res.ao12?function(){return e.props.openAvModal(0,e.props.res,e.props.res.ao12,12)}:null},this.convertToTime(this.props.res.ao12)),n.a.createElement("button",{className:"third",onClick:this.props.best.ao12?function(){return e.props.openAvModal(s,e.props.log[s].res,e.props.log[s].res.ao12,12)}:null},this.convertToTime(this.props.best.ao12)),n.a.createElement("div",{className:"third",id:"rowlabel"},"ao50"),n.a.createElement("button",{className:"third",onClick:this.props.res.ao50?function(){return e.props.openAvModal(0,e.props.res,e.props.res.ao50,50)}:null},this.convertToTime(this.props.res.ao50)),n.a.createElement("button",{className:"third",onClick:this.props.best.ao50?function(){return e.props.openAvModal(i,e.props.log[i].res,e.props.log[i].res.ao50,50)}:null},this.convertToTime(this.props.best.ao50)),n.a.createElement("div",{className:"third",id:"rowlabel"},"ao100"),n.a.createElement("button",{className:"third",onClick:this.props.res.ao100?function(){return e.props.openAvModal(0,e.props.res,e.props.res.ao100,100)}:null},this.convertToTime(this.props.res.ao100)),n.a.createElement("button",{className:"third",onClick:this.props.best.ao100?function(){return e.props.openAvModal(o,e.props.log[o].res,e.props.log[o].res.ao100,100)}:null},this.convertToTime(this.props.best.ao100)))}},{key:"render",value:function(){var e=this;return n.a.createElement("div",null,n.a.createElement("div",{className:"logstats"},n.a.createElement("h4",{onClick:this.openAboutModal},"dandytimer"),n.a.createElement(P,{theme:this.props.theme,modalIsOpen:this.state.aboutModalIsOpen,openModal:this.openAboutModal,closeModal:this.closeAboutModal}),n.a.createElement(J,{theme:this.props.theme,sessions:this.props.sessions,session:this.props.session,modalIsOpen:this.props.sessionModalIsOpen,openModal:this.props.openSessionModal,closeModal:this.props.closeSessionModal,newSession:this.props.newSession,changeSession:function(t){return e.props.changeSession(t)},deleteSession:function(t){return e.props.deleteSession(t)}}),n.a.createElement("div",{className:"third",id:"columnlabel"},n.a.createElement("p",null)),n.a.createElement("div",{className:"third",id:"columnlabel"},"current"),n.a.createElement("div",{className:"third",id:"columnlabel"},"best"),this.displayStats(),n.a.createElement("div",{className:"dothings"},n.a.createElement("div",{className:"third",id:"columnlabel"},n.a.createElement(_,{theme:this.props.theme,addTime:function(t){return e.props.addTime(t)},handleModal:function(){return e.props.handleModal()}})),n.a.createElement("div",{className:"third",id:"columnlabel"},n.a.createElement(z,{theme:this.props.theme,isSignedIn:this.props.isSignedIn,loading:this.props.loading,saving:this.props.saving,syncing:this.props.syncing,restoring:this.props.restoring,lastsave:this.props.lastsave,backupsave:this.props.backupsave,downloadFile:this.props.downloadFile,uploadFile:this.props.uploadFile,saveStateToFirebase:this.props.saveStateToFirebase,loadStateFromFirebase:this.props.loadStateFromFirebase,syncStateWithFirebase:this.props.syncStateWithFirebase,handleModal:function(){return e.props.handleModal()},restoreFirebaseBackup:this.props.restoreFirebaseBackup,undoSaveToFirebase:this.props.undoSaveToFirebase,undoLoadFromFirebase:this.props.undoLoadFromFirebase,undoSyncWithFirebase:this.props.undoSyncWithFirebase})),n.a.createElement("div",{className:"third",id:"columnlabel"},n.a.createElement(I,{theme:this.props.theme,clearAll:function(){return e.props.clearAll()},handleModal:function(){return e.props.handleModal()}}))),n.a.createElement("div",{className:"toprow"},n.a.createElement("div",{className:"quarter",id:"sessclick",onClick:this.props.openSessionModal},this.props.session+1),n.a.createElement("div",{className:"quarter"},"time"),n.a.createElement("div",{className:"quarter"},"ao5"),n.a.createElement("div",{className:"quarter"},"ao12"))))}}]),t}(s.Component)),q=a(126),V=(a(462),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(f.a)(this,Object(v.a)(t).call(this,e))).handleClose=function(){a.props.closeModal(),setTimeout(function(){return a.setState({x:1})},200)},a.renderRow=function(e){var t=e.index,s=e.key,i=e.style,o=a.props.log[a.props.index+t];return n.a.createElement("div",{key:s,style:i,className:"row"},n.a.createElement("div",{className:"half"},n.a.createElement("span",{id:"step"},o.res.id)),n.a.createElement("div",{className:"half"},n.a.createElement("span",{id:"step"},a.props.displayLogEntry(o.res))))},a.renderDeleted=function(){return n.a.createElement("div",{className:"deleted"},n.a.createElement(q.a,{width:window.innerWidth,height:280,rowHeight:30,rowRenderer:a.renderRow,rowCount:Number(a.state.x),overscanRowCount:5}))},a.state={x:1},a.afterOpenModal=a.afterOpenModal.bind(Object(g.a)(Object(g.a)(a))),a.handleDelete=a.handleDelete.bind(Object(g.a)(Object(g.a)(a))),a}return Object(b.a)(t,e),Object(p.a)(t,[{key:"afterOpenModal",value:function(){document.getElementById("clearconfirm").focus()}},{key:"handleChange",value:function(e){var t=e.target.value.toString().replace(/[^0-9]/g,""),a=this.props.log.length-this.props.index;console.log(a),Number(t)<0?this.setState({x:0}):Number(t)>a?this.setState({x:a}):this.setState({x:t})}},{key:"handleFocus",value:function(e){e.target.select()}},{key:"handleDelete",value:function(e){this.props.deleteEntry(e,Number(this.state.x)),this.setState({x:1}),this.props.closeModal()}},{key:"colorLuminance",value:function(e,t){(e=String(e).replace(/[^0-9a-f]/gi,"")).length<6&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),t=t||0;var a,s,n="#";for(s=0;s<3;s++)a=parseInt(e.substr(2*s,2),16),n+=("00"+(a=Math.round(Math.min(Math.max(0,a+a*t),255)).toString(16))).substr(a.length);return n}},{key:"render",value:function(){var e=this,t=window.getComputedStyle(document.documentElement).getPropertyValue("--accent"),a=Object(F.createMuiTheme)({typography:{useNextVariants:!0},palette:{primary:{main:t,contrastText:this.props.theme.primary,dark:this.colorLuminance(t,-.2),light:this.colorLuminance(t,.2)},secondary:{main:this.colorLuminance(t,-.3),contrastText:this.props.theme.primary,dark:this.colorLuminance(t,-.5),light:this.colorLuminance(t,-.1)}},shadows:Array(25).fill("none")});return n.a.createElement("div",{className:"modal"},n.a.createElement(T.a,{isOpen:this.props.modalIsOpen,onAfterOpen:this.afterOpenModal,onRequestClose:this.props.closeModal,ariaHideApp:!1,closeTimeoutMS:200,contentLabel:"Example Modal",className:"DeleteModal",overlayClassName:"DeleteOverlay"},n.a.createElement("div",{className:"clearinfo"},n.a.createElement("h1",{id:"title"},"Delete Time"),n.a.createElement("br",null),n.a.createElement("div",{style:{userSelect:"none"}},n.a.createElement("p",{id:"inline"},"How many results would you like to delete?"),n.a.createElement("div",{id:"inline2"},n.a.createElement(w.a,{icon:"caret-left",id:"changen",onClick:function(){e.state.x>0&&e.setState({x:e.state.x-1})}}),n.a.createElement("input",{id:"input",onFocus:this.handleFocus,step:1,type:"text",value:this.state.x,onInput:function(t){return e.handleChange(t)}}),n.a.createElement(w.a,{icon:"caret-right",id:"changen",onClick:function(){e.state.x<e.props.log.length-e.props.index&&e.setState({x:e.state.x+1})}}))),this.renderDeleted(),n.a.createElement("div",{className:"choosedelete"},n.a.createElement(F.MuiThemeProvider,{theme:a},n.a.createElement("div",{className:"cancel"},n.a.createElement(C.a,{onClick:this.handleClose,variant:"outlined",color:"primary",className:"confirm",tabIndex:"1"},"Cancel")),n.a.createElement("div",{className:"confirm"},n.a.createElement(C.a,{onClick:function(){return e.handleDelete(e.props.res.id)},id:"clearconfirm",variant:"contained",color:"primary",className:"confirm",tabIndex:"2"},"Confirm")))))))}}]),t}(s.Component)),G=(a(221),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(f.a)(this,Object(v.a)(t).call(this,e))).state={modalIsOpen:!1,dnf:a.props.res.dnf},a.openModal=a.openModal.bind(Object(g.a)(Object(g.a)(a))),a.afterOpenModal=a.afterOpenModal.bind(Object(g.a)(Object(g.a)(a))),a.closeModal=a.closeModal.bind(Object(g.a)(Object(g.a)(a))),a.convertToTime=a.convertToTime.bind(Object(g.a)(Object(g.a)(a))),a.copyTime=a.copyTime.bind(Object(g.a)(Object(g.a)(a))),a.plus2=a.plus2.bind(Object(g.a)(Object(g.a)(a))),a.dnf=a.dnf.bind(Object(g.a)(Object(g.a)(a))),a}return Object(b.a)(t,e),Object(p.a)(t,[{key:"openModal",value:function(){this.setState({modalIsOpen:!0})}},{key:"afterOpenModal",value:function(){document.getElementById("confirm").focus()}},{key:"closeModal",value:function(){this.setState({modalIsOpen:!1})}},{key:"handleFocus",value:function(e){e.target.select()}},{key:"copyTime",value:function(e){document.body.insertAdjacentHTML("beforeend",'<div id="copy" contenteditable>'+e+"</div>"),document.getElementById("copy").focus(),document.execCommand("selectAll"),document.execCommand("copy"),document.getElementById("copy").remove()}},{key:"colorLuminance",value:function(e,t){(e=String(e).replace(/[^0-9a-f]/gi,"")).length<6&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),t=t||0;var a,s,n="#";for(s=0;s<3;s++)a=parseInt(e.substr(2*s,2),16),n+=("00"+(a=Math.round(Math.min(Math.max(0,a+a*t),255)).toString(16))).substr(a.length);return n}},{key:"displayHour",value:function(e){return e?e+":":""}},{key:"displayMinute",value:function(e,t){return t?t<10&&e?"0"+t+":":t+":":""}},{key:"displaySecond",value:function(e,t){return t<10&&e?"0"+t:t}},{key:"displayMillisecond",value:function(e){return e<10?"0"+e:e}},{key:"displayLogEntry",value:function(e){return e.dnf?n.a.createElement("span",null,"DNF"):e.plus2?n.a.createElement("span",null,this.convertToTime(e.time)+"+"):n.a.createElement("span",null,this.convertToTime(e.time))}},{key:"convertToTime",value:function(e){if("dnf"===e)return"DNF";if(0===e||null===e)return"-";var t=(e=Math.floor(e))%1e3,a=(e=(e-t)/1e3)%60,s=(e=(e-a)/60)%60;return e=(e-s)/60,t=Math.floor(t/10),this.displayHour(e)+this.displayMinute(e,s)+this.displaySecond(s,a)+"."+this.displayMillisecond(t)}},{key:"plus2",value:function(){this.props.res.dnf?this.props.handleDNF(this.props.index,!0):this.props.handlePlus2(this.props.index,!1)}},{key:"dnf",value:function(){this.props.res.plus2?this.props.handlePlus2(this.props.index,!0):this.props.handleDNF(this.props.index,!1)}},{key:"render",value:function(){var e=window.getComputedStyle(document.documentElement).getPropertyValue("--accent"),t=Object(F.createMuiTheme)({typography:{useNextVariants:!0},palette:{primary:{main:e,contrastText:this.props.theme.primary,dark:this.colorLuminance(e,-.2),light:this.colorLuminance(e,.2)},secondary:{main:this.colorLuminance(e,-.3),contrastText:this.props.theme.primary,dark:this.colorLuminance(e,-.5),light:this.colorLuminance(e,-.1)}},shadows:Array(25).fill("none")});return n.a.createElement("div",{className:"modal"},n.a.createElement(T.a,{isOpen:this.props.modalIsOpen,onAfterOpen:this.props.afterOpenModal,onRequestClose:this.props.closeModal,ariaHideApp:!1,closeTimeoutMS:200,contentLabel:"Example Modal",className:"TimeModal",overlayClassName:"TimeOverlay"},n.a.createElement("div",{className:"clearinfo"},n.a.createElement("h3",{id:"titletime"},this.displayLogEntry(this.props.res)),n.a.createElement("br",null),n.a.createElement("div",{className:"timeinfo"},n.a.createElement("table",null,n.a.createElement("tbody",null,n.a.createElement("tr",{className:"tablehead"},n.a.createElement("th",{className:"category-time"}," ao5 "),n.a.createElement("th",{className:"category-time"}," ao12 "),n.a.createElement("th",null," Scramble ")),n.a.createElement("tr",null,n.a.createElement("td",{className:"category-time timestats"}," ",this.convertToTime(this.props.res.ao5)," "),n.a.createElement("td",{className:"category-time timestats"}," ",this.convertToTime(this.props.res.ao12)," "),n.a.createElement("td",{className:"timestats"}," ",this.props.res.scramble," ")))),n.a.createElement("div",{className:"btncenter"},n.a.createElement("button",{onClick:this.plus2,className:"plus2btn"},n.a.createElement("p",{className:this.props.res.plus2?"plus2btnon":"plus2btnoff"}," +2 ")),n.a.createElement("button",{onClick:this.dnf,className:"plus2btn"},this.props.res.dnf?n.a.createElement("p",{className:"plus2btnon"}," DNF "):n.a.createElement("p",{className:"plus2btnoff"}," DNF ")))),n.a.createElement("div",{className:"okay"},n.a.createElement(F.MuiThemeProvider,{theme:t},n.a.createElement("div",{className:"copy"},n.a.createElement(C.a,{onClick:this.props.closeModal,variant:"outlined",color:"primary",className:"confirm",tabIndex:"1"},"close")),n.a.createElement("div",{className:"confirm"},n.a.createElement(C.a,{onClick:this.props.redirectToDeleteModal,id:"confirm",variant:"contained",color:"primary",className:"confirm",tabIndex:"2"},"delete")))))))}}]),t}(s.Component)),Y=a(73),K=a(124),Q=a.n(K);a(222);Y.c.addAdapter(Q.a);var Z=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(f.a)(this,Object(v.a)(t).call(this,e))).state={graph:!1},a.afterOpenModal=a.afterOpenModal.bind(Object(g.a)(Object(g.a)(a))),a.convertToTime=a.convertToTime.bind(Object(g.a)(Object(g.a)(a))),a.handleGraph=a.handleGraph.bind(Object(g.a)(Object(g.a)(a))),a.handleCloseModal=a.handleCloseModal.bind(Object(g.a)(Object(g.a)(a))),a}return Object(b.a)(t,e),Object(p.a)(t,[{key:"afterOpenModal",value:function(){}},{key:"handleFocus",value:function(e){e.target.select()}},{key:"handleGraph",value:function(){this.setState({graph:!this.state.graph})}},{key:"handleCloseModal",value:function(){this.setState({graph:!1}),this.props.closeModal()}},{key:"copyTime",value:function(e){document.body.insertAdjacentHTML("beforeend",'<div id="copy" contenteditable>'+e+"</div>"),document.getElementById("copy").focus(),document.execCommand("selectAll"),document.execCommand("copy"),document.getElementById("copy").remove()}},{key:"colorLuminance",value:function(e,t){(e=String(e).replace(/[^0-9a-f]/gi,"")).length<6&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),t=t||0;var a,s,n="#";for(s=0;s<3;s++)a=parseInt(e.substr(2*s,2),16),n+=("00"+(a=Math.round(Math.min(Math.max(0,a+a*t),255)).toString(16))).substr(a.length);return n}},{key:"shiftColor",value:function(e,t){var a="rgb("+(e=e.replace("#","")).match(new RegExp("(.{"+e.length/3+"})","g")).map(function(t){return parseInt(e.length%2?t+t:t,16)}).join(",")+")",s=(a=a.replace(/[^\d,]/g,"").split(","))[0],n=a[1],i=a[2];s/=255,n/=255,i/=255;var o,r,l=Math.max(s,n,i),c=Math.min(s,n,i),h=(l+c)/2;if(l===c)o=r=0;else{var d=l-c;r=h>.5?d/(2-l-c):d/(l+c),l===s&&n>=i?o=1.0472*(n-i)/d:l===s&&n<i?o=1.0472*(n-i)/d+6.2832:l===n?o=1.0472*(i-s)/d+2.0944:l===i&&(o=1.0472*(s-n)/d+4.1888)}if(o=o/6.2832*360+0,(o+=t)>360&&(o-=360),o/=360,0===r)s=n=i=h;else{var m=function(e,t,a){return a<0&&(a+=1),a>1&&(a-=1),a<1/6?e+6*(t-e)*a:a<.5?t:a<2/3?e+(t-e)*(2/3-a)*6:e},u=h<.5?h*(1+r):h+r-h*r,p=2*h-u;s=m(p,u,o+1/3),n=m(p,u,o),i=m(p,u,o-1/3)}return s=Math.round(255*s),n=Math.round(255*n),"#"+(16777216|(a=(i=Math.round(255*i))|n<<8|s<<16)).toString(16).substring(1)}},{key:"displayHour",value:function(e){return e?e+":":""}},{key:"displayMinute",value:function(e,t){return t?t<10&&e?"0"+t+":":t+":":""}},{key:"displaySecond",value:function(e,t){return t<10&&e?"0"+t:t}},{key:"displayMillisecond",value:function(e){return e<10?"0"+e:e}},{key:"displayLogEntry",value:function(e){return e.dnf?n.a.createElement("span",null,"DNF"):e.plus2?n.a.createElement("span",null,this.convertToTime(e.time)+"+"):n.a.createElement("span",null,this.convertToTime(e.time))}},{key:"convertToTime",value:function(e){if("dnf"===e)return"DNF";if(0===e||null===e)return"-";var t=(e=Math.floor(e))%1e3,a=(e=(e-t)/1e3)%60,s=(e=(e-a)/60)%60;return e=(e-s)/60,t=Math.floor(t/10),this.displayHour(e)+this.displayMinute(e,s)+this.displaySecond(s,a)+"."+this.displayMillisecond(t)}},{key:"displayScrambles",value:function(e){var t=this,a=this.props.log.slice(this.props.index,this.props.index+e);if(a.length>=e){a.reverse();for(var s=0;a[s].res.dnf&&s<a.length;)s++;for(var i=a[s].res.time,o=a[0].res.time,r=a[s].res.id,l=a[0].res.id,c=a[0].res.dnf,h=s+1;h<e;h++)a[h].res.time<i&&!a[h].res.dnf&&(i=a[h].res.time,r=a[h].res.id),(!c&&a[h].res.time>o||a[h].res.dnf)&&(o=a[h].res.time,l=a[h].res.id,a[h].res.dnf&&(c=!0));var d=a.map(function(e,a){var s=e.res.id===r,i=e.res.id===l;return n.a.createElement("tr",{key:a},n.a.createElement("td",{className:"category-solve"},a+1),s||i?n.a.createElement("td",{className:"category-time"},n.a.createElement("span",{className:"tableinfo"},"(",t.displayLogEntry(e.res),")")):n.a.createElement("td",{className:"category-time"},n.a.createElement("span",{className:"tableinfo"},t.displayLogEntry(e.res))),n.a.createElement("td",null,n.a.createElement("span",{className:"tableinfo"},e.res.scramble)))});return n.a.createElement("div",{className:"tableview"},this.state.graph?n.a.createElement("div",{className:"graphview"},this.displayGraph(this.props.howmany)):n.a.createElement("table",null,n.a.createElement("tbody",null,n.a.createElement("tr",{className:"tablehead"},n.a.createElement("th",{className:"category-solve"}),n.a.createElement("th",{className:"category-time"}," Time "),n.a.createElement("th",null," Scramble ")),d)))}}},{key:"displayGraph",value:function(e){var t=this,a=this.props.log.slice(this.props.index,this.props.index+e);a.reverse();for(var s={},i=0,o=0;o<a.length;o++)a[o].res.time>i&&(i=a[o].res.time);a.map(function(e,a){var n=(a+1).toString();return e.res.dnf?s[n]=t.convertToTime(i):s[n]=t.convertToTime(e.res.time),null});var r=[{name:"single",data:s}];return n.a.createElement(Y.b,{data:r,curve:!1,legend:"top",download:!0,dataset:{borderWidth:2},points:!1,colors:[this.props.theme.accent,this.shiftColor(this.props.theme.accent,60),this.shiftColor(this.props.theme.accent,300)],min:null})}},{key:"render",value:function(){var e=window.getComputedStyle(document.documentElement).getPropertyValue("--accent"),t=Object(F.createMuiTheme)({typography:{useNextVariants:!0},palette:{primary:{main:e,contrastText:this.props.theme.primary,dark:this.colorLuminance(e,-.2),light:this.colorLuminance(e,.2)},secondary:{main:this.colorLuminance(e,-.3),contrastText:this.props.theme.primary,dark:this.colorLuminance(e,-.5),light:this.colorLuminance(e,-.1)}},shadows:Array(25).fill("none")});return n.a.createElement("div",{className:"modal"},n.a.createElement(T.a,{isOpen:this.props.modalIsOpen,onAfterOpen:this.afterOpenModal,onRequestClose:this.handleCloseModal,ariaHideApp:!1,closeTimeoutMS:200,contentLabel:"Example Modal",className:"TimeModal",overlayClassName:"TimeOverlay"},n.a.createElement("div",{className:"averageinfo"},n.a.createElement("h3",{id:"titleav"},this.convertToTime(this.props.av)),n.a.createElement("br",null),n.a.createElement("button",{className:"avstats"},this.state.graph?n.a.createElement(w.a,{icon:"chart-area",onClick:this.handleGraph,className:"on"}):n.a.createElement(w.a,{icon:"chart-area",onClick:this.handleGraph,className:"off"})),n.a.createElement("div",{className:"avinfo"},this.displayScrambles(this.props.howmany)),n.a.createElement("div",{className:"avbuttons"},n.a.createElement(F.MuiThemeProvider,{theme:t},n.a.createElement("div",{className:"confirm"},n.a.createElement(C.a,{onClick:this.handleCloseModal,id:"confirm",variant:"contained",color:"primary",className:"confirm",tabIndex:"2"},"close")))))))}}]),t}(s.Component),$=(a(463),a(464),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(f.a)(this,Object(v.a)(t).call(this,e))).redirectToDeleteModal=function(){a.setState({timeModalIsOpen:!1,deleteModalIsOpen:!0})},a.displayLogEntry=function(e){return e.dnf?n.a.createElement("span",null,"DNF"):e.plus2?n.a.createElement("span",null,a.convertToTime(e.time)+"+"):n.a.createElement("span",null,a.convertToTime(e.time))},a.colorLuminance=function(e,t){(e=String(e).replace(/[^0-9a-f]/gi,"")).length<6&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),t=t||0;var a,s,n="#";for(s=0;s<3;s++)a=parseInt(e.substr(2*s,2),16),n+=("00"+(a=Math.round(Math.min(Math.max(0,a+a*t),255)).toString(16))).substr(a.length);return n},a.state={rowheight:30,deleteModalIsOpen:!1,timeModalIsOpen:!1,avModalIsOpen:!1,sessionModalIsOpen:!1,timeindex:null,av:null,howmany:5,timeres:{id:0,time:null,ao5:null,ao12:null,scramble:null,dnf:!1,plus2:!1}},a.renderRow=a.renderRow.bind(Object(g.a)(Object(g.a)(a))),a.openDeleteModal=a.openDeleteModal.bind(Object(g.a)(Object(g.a)(a))),a.closeDeleteModal=a.closeDeleteModal.bind(Object(g.a)(Object(g.a)(a))),a.openTimeModal=a.openTimeModal.bind(Object(g.a)(Object(g.a)(a))),a.closeTimeModal=a.closeTimeModal.bind(Object(g.a)(Object(g.a)(a))),a.openAvModal=a.openAvModal.bind(Object(g.a)(Object(g.a)(a))),a.closeAvModal=a.closeAvModal.bind(Object(g.a)(Object(g.a)(a))),a.openSessionModal=a.openSessionModal.bind(Object(g.a)(Object(g.a)(a))),a.closeSessionModal=a.closeSessionModal.bind(Object(g.a)(Object(g.a)(a))),a.handleResize=a.handleResize.bind(Object(g.a)(Object(g.a)(a))),a}return Object(b.a)(t,e),Object(p.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return this.props.renderlog||this.props.reps!==e.reps&&this.props.stopped||this.props.average!==e.average&&this.props.stopped||this.state.timeModalIsOpen!==t.timeModalIsOpen||this.state.avModalIsOpen!==t.avModalIsOpen||this.state.ao12ModalIsOpen!==t.ao12ModalIsOpen||this.state.deleteModalIsOpen!==t.deleteModalIsOpen||this.state.sessionModalIsOpen!==t.sessionModalIsOpen||this.state.sessionModalIsOpen||this.props.isSignedIn!==e.isSignedIn||this.props.saving!==e.saving||this.props.loading!==e.loading||this.props.restoring!==e.restoring||this.props.syncing!==e.syncing}}]),Object(p.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize)}},{key:"handleResize",value:function(){this.forceUpdate()}},{key:"openDeleteModal",value:function(e,t){this.setState({timeindex:e,timeres:t,deleteModalIsOpen:!0}),this.props.handleModal(),k.a.pageview("/delete")}},{key:"closeDeleteModal",value:function(){this.setState({deleteModalIsOpen:!1}),this.props.handleModal(),k.a.pageview("/")}},{key:"openTimeModal",value:function(e,t){this.setState({timeindex:e,timeres:t,timeModalIsOpen:!0}),this.props.handleModal(),k.a.pageview("/time")}},{key:"closeTimeModal",value:function(){this.setState({timeModalIsOpen:!1}),this.props.handleModal(),k.a.pageview("/")}},{key:"openAvModal",value:function(e,t,a,s){a&&(this.setState({timeindex:e,timeres:t,av:a,howmany:s,avModalIsOpen:!0}),this.props.handleModal(),k.a.pageview("/av"))}},{key:"closeAvModal",value:function(){this.setState({avModalIsOpen:!1}),this.props.handleModal(),k.a.pageview("/")}},{key:"openSessionModal",value:function(){this.setState({sessionModalIsOpen:!0}),this.props.saveSession(),this.props.handleModal(),k.a.pageview("/session")}},{key:"closeSessionModal",value:function(){this.setState({sessionModalIsOpen:!1}),this.props.handleModal(),k.a.pageview("/")}},{key:"handlePlus2",value:function(e,t){this.props.handlePlus2(e),30===this.state.rowheight?this.setState({rowheight:30.001}):this.setState({rowheight:30}),this.forceUpdate(),t&&this.handleDNF(e)}},{key:"handleDNF",value:function(e,t){this.props.handleDNF(e),30===this.state.rowheight?this.setState({rowheight:30.001}):this.setState({rowheight:30}),this.forceUpdate(),t&&this.handlePlus2(e)}},{key:"renderRow",value:function(e){var t=this,a=e.index,s=e.key,i=e.style,o=this.props.log[a];return n.a.createElement("div",{key:s,style:i,className:"row"},n.a.createElement("div",{className:"quarter"},n.a.createElement("button",{onClick:function(){return t.openDeleteModal(a,o.res)}},n.a.createElement("span",{id:"step"},o.res.id),n.a.createElement("span",{id:"delete"},n.a.createElement(w.a,{icon:"times"})))),n.a.createElement("div",{className:"quarter"},n.a.createElement("button",{onClick:function(){return t.openTimeModal(a,o.res)}},this.displayLogEntry(o.res))),n.a.createElement("div",{className:"quarter"},n.a.createElement("button",{onClick:function(){return t.openAvModal(a,o.res,o.res.ao5,5)}},this.convertToTime(o.res.ao5))),n.a.createElement("div",{className:"quarter"},n.a.createElement("button",{onClick:function(){return t.openAvModal(a,o.res,o.res.ao12,12)}},this.convertToTime(o.res.ao12))))}},{key:"displayHour",value:function(e){return e?e+":":""}},{key:"displayMinute",value:function(e,t){return t?t<10&&e?"0"+t+":":t+":":""}},{key:"displaySecond",value:function(e,t){return t<10&&e?"0"+t:t}},{key:"displayMillisecond",value:function(e){return e<10?"0"+e:e}},{key:"convertToTime",value:function(e){if("dnf"===e)return"DNF";if(0===e||null===e)return"-";var t=(e=Math.floor(e))%1e3,a=(e=(e-t)/1e3)%60,s=(e=(e-a)/60)%60;return e=(e-s)/60,t=Math.floor(t/10),this.displayHour(e)+this.displayMinute(e,s)+this.displaySecond(s,a)+"."+this.displayMillisecond(t)}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"results"},n.a.createElement("div",{className:"statistics"},n.a.createElement(W,{best:this.props.best,res:this.props.log.length?this.props.log[0].res:this.props.reps,log:this.props.log,reps:this.props.reps,sessions:this.props.sessions,session:this.props.session,theme:this.props.theme,isSignedIn:this.props.isSignedIn,loading:this.props.loading,saving:this.props.saving,syncing:this.props.syncing,restoring:this.props.restoring,lastsave:this.props.lastsave,backupsave:this.props.backupsave,clearAll:function(){return e.props.clearAll()},handleModal:function(){return e.props.handleModal()},openTimeModal:function(t,a){return e.openTimeModal(t,a)},openAvModal:function(t,a,s,n){return e.openAvModal(t,a,s,n)},sessionModalIsOpen:this.state.sessionModalIsOpen,openSessionModal:function(){return e.openSessionModal()},closeSessionModal:function(){return e.closeSessionModal()},addTime:function(t){return e.props.addTime(t)},downloadFile:function(t,a){return e.props.downloadFile(t,a)},uploadFile:function(t){return e.props.uploadFile(t)},saveStateToFirebase:this.props.saveStateToFirebase,loadStateFromFirebase:this.props.loadStateFromFirebase,syncStateWithFirebase:this.props.syncStateWithFirebase,newSession:this.props.newSession,changeSession:function(t){return e.props.changeSession(t)},deleteSession:function(t){return e.props.deleteSession(t)},restoreFirebaseBackup:this.props.restoreFirebaseBackup,undoSaveToFirebase:this.props.undoSaveToFirebase,undoLoadFromFirebase:this.props.undoLoadFromFirebase,undoSyncWithFirebase:this.props.undoSyncWithFirebase})),n.a.createElement("div",{className:"singlemodal"},n.a.createElement(V,{theme:this.props.theme,log:this.props.log,index:this.state.timeindex,res:this.state.timeres,modalIsOpen:this.state.deleteModalIsOpen,openModal:this.openDeleteModal,closeModal:this.closeDeleteModal,displayLogEntry:this.displayLogEntry,deleteEntry:function(t,a){return e.props.deleteEntry(t,a)},colorLuminance:this.colorLuminance}),n.a.createElement(G,{theme:this.props.theme,index:this.state.timeindex,log:this.props.log,res:this.state.timeres,modalIsOpen:this.state.timeModalIsOpen,openModal:this.openTimeModal,closeModal:this.closeTimeModal,redirectToDeleteModal:this.redirectToDeleteModal,handlePlus2:function(t,a){return e.handlePlus2(t,a)},handleDNF:function(t,a){return e.handleDNF(t,a)}}),n.a.createElement(Z,{theme:this.props.theme,index:this.state.timeindex,log:this.props.log,res:this.state.timeres,av:this.state.av,howmany:this.state.howmany,modalIsOpen:this.state.avModalIsOpen,openModal:this.openAvModal,closeModal:this.closeAvModal})),n.a.createElement("div",{className:"scroll"},n.a.createElement(q.a,{width:window.innerWidth,height:window.innerHeight-335,rowHeight:this.state.rowheight,rowRenderer:this.renderRow,rowCount:this.props.log.length,overscanRowCount:5})),n.a.createElement("div",{className:"av"},n.a.createElement("b",null,"Average: ",this.convertToTime(this.props.average))))}}]),t}(s.Component)),X=a(33),ee=a.n(X),te=a(47),ae=a(83),se=(a(626),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(f.a)(this,Object(v.a)(t).call(this,e))).state={modalIsOpen:!1,name:""},a.openModal=a.openModal.bind(Object(g.a)(Object(g.a)(a))),a.afterOpenModal=a.afterOpenModal.bind(Object(g.a)(Object(g.a)(a))),a.closeModal=a.closeModal.bind(Object(g.a)(Object(g.a)(a))),a.handleName=a.handleName.bind(Object(g.a)(Object(g.a)(a))),a.handleConfirm=a.handleConfirm.bind(Object(g.a)(Object(g.a)(a))),a}return Object(b.a)(t,e),Object(p.a)(t,[{key:"openModal",value:function(){this.setState({modalIsOpen:!0})}},{key:"afterOpenModal",value:function(){document.getElementById("clearconfirm").focus()}},{key:"closeModal",value:function(){this.setState({modalIsOpen:!1})}},{key:"handleFocus",value:function(e){e.target.select()}},{key:"handleName",value:function(e){this.setState({name:e.target.value})}},{key:"handleConfirm",value:function(){this.props.saveTheme(this.state.name,this.props.theme),this.closeModal()}},{key:"colorLuminance",value:function(e,t){(e=String(e).replace(/[^0-9a-f]/gi,"")).length<6&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),t=t||0;var a,s,n="#";for(s=0;s<3;s++)a=parseInt(e.substr(2*s,2),16),n+=("00"+(a=Math.round(Math.min(Math.max(0,a+a*t),255)).toString(16))).substr(a.length);return n}},{key:"render",value:function(){var e=window.getComputedStyle(document.documentElement).getPropertyValue("--accent"),t=Object(F.createMuiTheme)({typography:{useNextVariants:!0},palette:{primary:{main:e,contrastText:this.props.theme.primary,dark:this.colorLuminance(e,-.2),light:this.colorLuminance(e,.2)},secondary:{main:this.colorLuminance(e,-.3),contrastText:this.props.theme.primary,dark:this.colorLuminance(e,-.5),light:this.colorLuminance(e,-.1)}},shadows:Array(25).fill("none")});return n.a.createElement("div",{className:"modal"},n.a.createElement(L.AwesomeButton,{action:this.openModal,type:"primary",className:"savetheme",size:"medium"},"Save Theme"),n.a.createElement(T.a,{isOpen:this.state.modalIsOpen,onAfterOpen:this.afterOpenModal,onRequestClose:this.closeModal,ariaHideApp:!1,closeTimeoutMS:200,contentLabel:"Example Modal",className:"CustomModal",overlayClassName:"ArrowOverlay"},n.a.createElement("div",{className:"clearinfo"},n.a.createElement("h1",{id:"title"},"Custom Theme"),n.a.createElement("br",null),n.a.createElement("p",null,"Enter the name of your theme:",n.a.createElement("input",{className:"nameinput",type:"string",value:this.state.name,onChange:this.handleName})),n.a.createElement("div",{className:"choose"},n.a.createElement(F.MuiThemeProvider,{theme:t},n.a.createElement("div",{className:"cancel"},n.a.createElement(C.a,{onClick:this.closeModal,variant:"outlined",color:"primary",className:"confirm",tabIndex:"1"},"Cancel")),n.a.createElement("div",{className:"confirm"},n.a.createElement(C.a,{onClick:this.handleConfirm,id:"clearconfirm",variant:"contained",color:"primary",className:"confirm",tabIndex:"2"},"Confirm")))))))}}]),t}(s.Component)),ne=(a(627),{primary:"#282c34",secondary:"#fff",accent:"#3fa8ff",text:"rgba(255, 255, 255, .6)",texthighlighted:"#fff"}),ie={primary:"#d5dce2",secondary:"#000",accent:"#3fa8ff",text:"rgba(0, 0, 0, .7)",texthighlighted:"#000"},oe={primary:"#3da1ff",secondary:"#0b1c2d",accent:"#af114b",text:"#163859",texthighlighted:"#0b1c2d"},re={primary:"#000b16",secondary:"#91c2ff",accent:"#af114b",text:"#3da1ff",texthighlighted:"#91c2ff"},le={primary:"#ff4949",secondary:"#470e0e",accent:"#4f4fff",text:"#661616",texthighlighted:"#470e0e"},ce={primary:"#1c0000",secondary:"#ff6363",accent:"#4f4fff",text:"#ff4949",texthighlighted:"#ff6363"},he={primary:"#1a1c21",secondary:"#efefef",accent:"#9621ff",text:"rgba(255, 255, 255, .6)",texthighlighted:"#efefef"},de={default:{picker:{boxShadow:"none",width:window.innerWidth>1080?"410px":"290px",fontFamily:"inherit"}}},me=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(f.a)(this,Object(v.a)(t).call(this,e))).state={primary:"#282c34",secondary:"#444c59",accent:"#3fa8ff",text:"rgba(255, 255, 255, .6)",texthighlighted:"#fff",modalIsOpen:!1,selected:"primary"},a.colorLuminance=a.colorLuminance.bind(Object(g.a)(Object(g.a)(a))),a.openModal=a.openModal.bind(Object(g.a)(Object(g.a)(a))),a.afterOpenModal=a.afterOpenModal.bind(Object(g.a)(Object(g.a)(a))),a.closeModal=a.closeModal.bind(Object(g.a)(Object(g.a)(a))),a.handleColor=a.handleColor.bind(Object(g.a)(Object(g.a)(a))),a.handleChangePrimary=a.handleChangePrimary.bind(Object(g.a)(Object(g.a)(a))),a.handleChangeSecondary=a.handleChangeSecondary.bind(Object(g.a)(Object(g.a)(a))),a.handleChangeAccent=a.handleChangeAccent.bind(Object(g.a)(Object(g.a)(a))),a.handleChangeText=a.handleChangeText.bind(Object(g.a)(Object(g.a)(a))),a.handleChangeTextHighlighted=a.handleChangeTextHighlighted.bind(Object(g.a)(Object(g.a)(a))),a.handlePartyMode=a.handlePartyMode.bind(Object(g.a)(Object(g.a)(a))),a.selectPrimary=a.selectPrimary.bind(Object(g.a)(Object(g.a)(a))),a.selectSecondary=a.selectSecondary.bind(Object(g.a)(Object(g.a)(a))),a.selectAccent=a.selectAccent.bind(Object(g.a)(Object(g.a)(a))),a.selectText=a.selectText.bind(Object(g.a)(Object(g.a)(a))),a.selectTextHighlighted=a.selectTextHighlighted.bind(Object(g.a)(Object(g.a)(a))),a.displaySavedThemes=a.displaySavedThemes.bind(Object(g.a)(Object(g.a)(a))),a}return Object(b.a)(t,e),Object(p.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return this.state.modalIsOpen!==t.modalIsOpen||this.state.selected!==t.selected||this.props!==e||this.state!==t}}]),Object(p.a)(t,[{key:"colorLuminance",value:function(e,t){(e=String(e).replace(/[^0-9a-f]/gi,"")).length<6&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),t=t||0;var a,s,n="#";for(s=0;s<3;s++)a=parseInt(e.substr(2*s,2),16),n+=("00"+(a=Math.round(Math.min(Math.max(0,a+a*t),255)).toString(16))).substr(a.length);return n}},{key:"openModal",value:function(){this.setState({primary:this.props.theme.primary,secondary:this.props.theme.secondary,accent:this.props.theme.accent,text:this.props.theme.text,texthighlighted:this.props.theme.texthighlighted,modalIsOpen:!0}),this.props.party_mode&&this.setState({accent:"#4c4c4c"}),this.props.handleModal(),k.a.pageview("/settings")}},{key:"afterOpenModal",value:function(){}},{key:"closeModal",value:function(){this.setState({modalIsOpen:!1}),this.props.handleModal(),k.a.pageview("/")}},{key:"handleColor",value:function(e){var t=this;this.props.changeColor(e),this.setState({primary:e.primary,secondary:e.secondary,accent:e.accent,text:e.text,texthighlighted:e.texthighlighted},function(){return document.getElementsByClassName(t.state.selected)[0].style.boxShadow="0px 0px 15px "+t.state.accent})}},{key:"handleChangePrimary",value:function(e,t){var a={primary:e.hex,secondary:this.state.secondary,accent:this.state.accent,text:this.state.text,texthighlighted:this.state.texthighlighted};this.handleColor(a)}},{key:"handleChangeSecondary",value:function(e,t){var a={primary:this.state.primary,secondary:e.hex,accent:this.state.accent,text:this.state.text,texthighlighted:this.state.texthighlighted};this.handleColor(a)}},{key:"handleChangeAccent",value:function(e,t){var a={primary:this.state.primary,secondary:this.state.secondary,accent:e.hex,text:this.state.text,texthighlighted:this.state.texthighlighted};this.handleColor(a)}},{key:"handleChangeText",value:function(e,t){var a={primary:this.state.primary,secondary:this.state.secondary,accent:this.state.accent,text:e.hex,texthighlighted:this.state.texthighlighted};this.handleColor(a)}},{key:"handleChangeTextHighlighted",value:function(e,t){var a={primary:this.state.primary,secondary:this.state.secondary,accent:this.state.accent,text:this.state.text,texthighlighted:e.hex};this.handleColor(a)}},{key:"selectPrimary",value:function(){document.getElementsByClassName(this.state.selected)[0].style.boxShadow="none",this.setState({selected:"primary"}),document.getElementsByClassName("primary")[0].style.boxShadow="0px 0px 15px "+this.state.accent}},{key:"selectSecondary",value:function(){document.getElementsByClassName(this.state.selected)[0].style.boxShadow="none",this.setState({selected:"secondary"}),document.getElementsByClassName("secondary")[0].style.boxShadow="0px 0px 15px "+this.state.accent}},{key:"selectAccent",value:function(){document.getElementsByClassName(this.state.selected)[0].style.boxShadow="none",this.setState({selected:"accent"}),document.getElementsByClassName("accent")[0].style.boxShadow="0px 0px 15px "+this.state.accent}},{key:"selectText",value:function(){document.getElementsByClassName(this.state.selected)[0].style.boxShadow="none",this.setState({selected:"text"}),document.getElementsByClassName("text")[0].style.boxShadow="0px 0px 15px "+this.state.accent}},{key:"selectTextHighlighted",value:function(){document.getElementsByClassName(this.state.selected)[0].style.boxShadow="none",this.setState({selected:"texthighlighted"}),document.getElementsByClassName("texthighlighted")[0].style.boxShadow="0px 0px 15px "+this.state.accent}},{key:"handlePartyMode",value:function(){this.props.party_mode?this.setState({accent:this.props.theme.accent}):this.setState({accent:"#4c4c4c"}),this.props.partyMode()}},{key:"displayColorPicker",value:function(){return"primary"===this.state.selected?n.a.createElement(ae.ChromePicker,{color:this.state.primary,onChangeComplete:this.handleChangePrimary,disableAlpha:!0,styles:de}):"secondary"===this.state.selected?n.a.createElement(ae.ChromePicker,{color:this.state.secondary,onChangeComplete:this.handleChangeSecondary,disableAlpha:!0,styles:de}):"accent"===this.state.selected?n.a.createElement(ae.ChromePicker,{color:this.state.accent,onChangeComplete:this.handleChangeAccent,disableAlpha:!0,styles:de}):"text"===this.state.selected?n.a.createElement(ae.ChromePicker,{color:this.state.text,onChangeComplete:this.handleChangeText,disableAlpha:!0,styles:de}):n.a.createElement(ae.ChromePicker,{color:this.state.texthighlighted,onChangeComplete:this.handleChangeTextHighlighted,disableAlpha:!0,styles:de})}},{key:"renderCustomTheme",value:function(e,t){var a=this;return n.a.createElement("div",null,n.a.createElement("button",{className:"deletetheme",onClick:function(){return a.props.deleteTheme(e)},style:{color:t.theme.secondary,backgroundColor:t.theme.primary}},n.a.createElement(w.a,{icon:"times"})),n.a.createElement("button",{onClick:function(){return a.handleColor(t.theme)},className:"themebtn",id:t.name,style:{backgroundColor:t.theme.primary,color:t.theme.secondary,borderColor:t.theme.accent,borderStyle:"none",borderWidth:"1px"}},n.a.createElement("div",{id:"tinyshift"},t.name)))}},{key:"displaySavedThemes",value:function(){var e=this,t=this.props.themes.map(function(t,a){return n.a.createElement("div",{className:"listitem",key:a},e.renderCustomTheme(a,t))});return n.a.createElement("div",{className:"btnlist"},n.a.createElement("div",{className:"unstyledlist"},t))}},{key:"render",value:function(){var e=this;return de={default:{picker:{boxShadow:"none",width:window.innerWidth>1080?"410px":"290px",fontFamily:"inherit"}}},n.a.createElement("div",null,n.a.createElement("button",{id:"icon",onClick:this.openModal},n.a.createElement(w.a,{icon:"cog"})),n.a.createElement(T.a,{isOpen:this.state.modalIsOpen,onAfterOpen:this.afterOpenModal,onRequestClose:this.closeModal,ariaHideApp:!1,closeTimeoutMS:200,contentLabel:"Example Modal",className:"Modal",overlayClassName:"Overlay",id:"settingsmodal"},n.a.createElement("div",{className:"setmodalinfo"},n.a.createElement(te.d,{defaultIndex:1},n.a.createElement("div",{className:"tabs"},n.a.createElement(te.b,null,n.a.createElement(te.a,{disabled:!0,className:"settingstitle"},n.a.createElement("b",null,"Settings")),n.a.createElement(te.a,null,"Colors"),n.a.createElement(te.a,null,"Timer"),n.a.createElement(te.a,null,"Display"))),n.a.createElement("div",{className:"pages"},n.a.createElement(te.c,null,"Settings"),n.a.createElement(te.c,null,n.a.createElement("h2",null,"Colors and Theming"),n.a.createElement("div",{className:"colorscontent"},n.a.createElement("div",{className:"presets"},"Presets",n.a.createElement("div",{className:"select"},n.a.createElement(L.AwesomeButton,{action:function(){return e.handleColor(he)},type:"primary",className:"dark-theme",size:"medium"},"Dark"),n.a.createElement(L.AwesomeButton,{action:function(){return e.handleColor(ie)},type:"primary",className:"light-theme",size:"medium"},"Light"),n.a.createElement(L.AwesomeButton,{action:function(){return e.handleColor(ne)},type:"primary",className:"gray-theme",size:"medium"},"Gray"),n.a.createElement(L.AwesomeButton,{action:function(){return e.handleColor(oe)},type:"primary",className:"blue-theme",size:"medium"},"Blue"),n.a.createElement(L.AwesomeButton,{action:function(){return e.handleColor(le)},type:"primary",className:"red-theme",size:"medium"},"Red"),n.a.createElement(L.AwesomeButton,{action:function(){return e.handleColor(re)},type:"primary",className:"dark-blue-theme",size:"medium"},"Dark Blue"),n.a.createElement(L.AwesomeButton,{action:function(){return e.handleColor(ce)},type:"primary",className:"dark-red-theme",size:"medium"},"Dark Red"))),n.a.createElement("div",{className:"custom"},"Custom Theme",n.a.createElement("div",{className:"theme"},n.a.createElement("div",{className:"createtheme"},n.a.createElement("div",{className:"colorbuttons"},n.a.createElement("div",{className:"choosecolor"},n.a.createElement(L.AwesomeButton,{action:this.selectPrimary,type:"primary",className:"primary",size:"large"},"Background")),n.a.createElement("div",{className:"choosecolor"},n.a.createElement(L.AwesomeButton,{action:this.selectSecondary,type:"primary",className:"secondary",size:"large"},"Time")),n.a.createElement("div",{className:"choosecolor"},n.a.createElement(L.AwesomeButton,{action:this.selectAccent,type:"primary",className:"accent",size:"large"},"Accent")),n.a.createElement("div",{className:"choosecolor"},n.a.createElement(L.AwesomeButton,{action:this.selectText,type:"primary",className:"text",size:"large"},"Text"),n.a.createElement(L.AwesomeButton,{action:this.selectTextHighlighted,type:"primary",className:"texthighlighted",size:"large"},"Emphasized Text")),n.a.createElement("div",{className:"choosecolor"},n.a.createElement(se,{theme:this.props.theme,saveTheme:function(t,a){return e.props.saveTheme(t,a)}}))),n.a.createElement("div",{className:"colors"},this.displayColorPicker()))),n.a.createElement("div",{className:"saved"},"Saved",this.displaySavedThemes())))),n.a.createElement(te.c,null,n.a.createElement("h2",null,"Timer Options"),n.a.createElement("div",{className:"setlist"},n.a.createElement("div",{className:"setting",id:"setting"},"Inspection Time",n.a.createElement("div",{className:"switches"},n.a.createElement(ee.a,{checked:this.props.inspection_time,onChange:this.props.handleInspection,onColor:this.colorLuminance(this.state.accent,-.4),onHandleColor:this.state.accent,handleDiameter:30,uncheckedIcon:!1,checkedIcon:!1,boxShadow:"0px 1px 5px rgba(0, 0, 0, 0.6)",activeBoxShadow:"0px 0px 1px 10px rgba(0, 0, 0, 0.2)",height:20,width:48,className:"react-switch",id:"material-switch"})),n.a.createElement("div",{className:"desc"},"15 second inspection time after first spacebar press")),n.a.createElement("div",{className:"setting"},"Hold To Start",n.a.createElement("div",{className:"switches"},n.a.createElement(ee.a,{checked:this.props.hold_to_start,onChange:this.props.handleHoldToStart,onColor:this.colorLuminance(this.state.accent,-.4),onHandleColor:this.state.accent,handleDiameter:30,uncheckedIcon:!1,checkedIcon:!1,boxShadow:"0px 1px 5px rgba(0, 0, 0, 0.6)",activeBoxShadow:"0px 0px 1px 10px rgba(0, 0, 0, 0.2)",height:20,width:48,className:"react-switch",id:"material-switch"})),n.a.createElement("div",{className:"desc"},"spacebar must be held to start timer")),n.a.createElement("div",{className:"setting",id:"setting"},"Hold To Start Length",n.a.createElement("div",{className:"switches"},n.a.createElement(w.a,{icon:"caret-left",id:"changen",onClick:function(){return e.props.handleHoldLen(e.props.hold_len/1e3-.1)}}),n.a.createElement(A.a,{className:"setinput",onFocus:this.handleFocus,step:.1,value:this.props.hold_len/1e3,onChange:function(t){return e.props.handleHoldLen(t)}}),n.a.createElement(w.a,{icon:"caret-right",id:"changen",onClick:function(){return e.props.handleHoldLen(e.props.hold_len/1e3+.1)}})),n.a.createElement("div",{className:"desc"},"if enabled, this is how many seconds you must hold to start the timer")),n.a.createElement("div",{className:"setting"},"Stop With Space Only",n.a.createElement("div",{className:"switches"},n.a.createElement(ee.a,{checked:this.props.space_to_stop,onChange:this.props.handleSpaceToStop,onColor:this.colorLuminance(this.state.accent,-.4),onHandleColor:this.state.accent,handleDiameter:30,uncheckedIcon:!1,checkedIcon:!1,boxShadow:"0px 1px 5px rgba(0, 0, 0, 0.6)",activeBoxShadow:"0px 0px 1px 10px rgba(0, 0, 0, 0.2)",height:20,width:48,className:"react-switch",id:"material-switch"})),n.a.createElement("div",{className:"desc"},"timer will only stop if the spacebar is hit, disable to stop with any key")),n.a.createElement("div",{className:"setting"},"Escape Clears Solve",n.a.createElement("div",{className:"switches"},n.a.createElement(ee.a,{checked:!this.props.escape_to_dnf,onChange:this.props.handleEscapeToDNF,onColor:this.colorLuminance(this.state.accent,-.4),onHandleColor:this.state.accent,handleDiameter:30,uncheckedIcon:!1,checkedIcon:!1,boxShadow:"0px 1px 5px rgba(0, 0, 0, 0.6)",activeBoxShadow:"0px 0px 1px 10px rgba(0, 0, 0, 0.2)",height:20,width:48,className:"react-switch",id:"material-switch"})),n.a.createElement("div",{className:"desc"},"hitting escape mid-stop will delete the solve rather than producing a DNF")),n.a.createElement("div",{className:"setting"},"Show Milliseconds",n.a.createElement("div",{className:"switches"},n.a.createElement(ee.a,{checked:this.props.display_milliseconds,onChange:this.props.handleDisplayMilliseconds,onColor:this.colorLuminance(this.state.accent,-.4),onHandleColor:this.state.accent,handleDiameter:30,uncheckedIcon:!1,checkedIcon:!1,boxShadow:"0px 1px 5px rgba(0, 0, 0, 0.6)",activeBoxShadow:"0px 0px 1px 10px rgba(0, 0, 0, 0.2)",height:20,width:48,className:"react-switch",id:"material-switch"})),n.a.createElement("div",{className:"desc"},"show accuracy to milliseconds, or 3 digits after the decimal")),n.a.createElement("div",{className:"setting"},"Hide Surroundings While Timing",n.a.createElement("div",{className:"switches"},n.a.createElement(ee.a,{checked:this.props.hide_surroundings,onChange:this.props.handleHideSurroundings,onColor:this.colorLuminance(this.state.accent,-.4),onHandleColor:this.state.accent,handleDiameter:30,uncheckedIcon:!1,checkedIcon:!1,boxShadow:"0px 1px 5px rgba(0, 0, 0, 0.6)",activeBoxShadow:"0px 0px 1px 10px rgba(0, 0, 0, 0.2)",height:20,width:48,className:"react-switch",id:"material-switch"})),n.a.createElement("div",{className:"desc"},"hide surrounding elements on the page while solving")),n.a.createElement("div",{className:"setting"},"Hide Time While Solving",n.a.createElement("div",{className:"switches"},n.a.createElement(ee.a,{checked:this.props.hide_time,onChange:this.props.handleHideTime,onColor:this.colorLuminance(this.state.accent,-.4),onHandleColor:this.state.accent,handleDiameter:30,uncheckedIcon:!1,checkedIcon:!1,boxShadow:"0px 1px 5px rgba(0, 0, 0, 0.6)",activeBoxShadow:"0px 0px 1px 10px rgba(0, 0, 0, 0.2)",height:20,width:48,className:"react-switch",id:"material-switch"})),n.a.createElement("div",{className:"desc"},"hide the running timer while solving")),n.a.createElement("div",{className:"setting",id:"setting"},"Track Ao1000",n.a.createElement("div",{className:"switches"},n.a.createElement(ee.a,{checked:this.props.track_best_ao1000,onChange:this.props.handleTrackBestAo1000,onColor:this.colorLuminance(this.state.accent,-.4),onHandleColor:this.state.accent,handleDiameter:30,uncheckedIcon:!1,checkedIcon:!1,boxShadow:"0px 1px 5px rgba(0, 0, 0, 0.6)",activeBoxShadow:"0px 0px 1px 10px rgba(0, 0, 0, 0.2)",height:20,width:48,className:"react-switch",id:"material-switch"})),n.a.createElement("div",{className:"desc"},"keep track of your best ao1000 in the statistics tool. performance may suffer slightly")),n.a.createElement("div",{className:"setting",id:"setting"},"Random State Scramble (3x3)",n.a.createElement("div",{className:"switches"},n.a.createElement(ee.a,{checked:this.props.random_state,onChange:this.props.handleRandomState,onColor:this.colorLuminance(this.state.accent,-.4),onHandleColor:this.state.accent,handleDiameter:30,uncheckedIcon:!1,checkedIcon:!1,boxShadow:"0px 1px 5px rgba(0, 0, 0, 0.6)",activeBoxShadow:"0px 0px 1px 10px rgba(0, 0, 0, 0.2)",height:20,width:48,className:"react-switch",id:"material-switch"})),n.a.createElement("div",{className:"desc"},"use random state scramble for 3x3x3. scramble generation will be slower")))),n.a.createElement(te.c,null,n.a.createElement("h2",null,"Display Options"),n.a.createElement("div",{className:"setlist"},n.a.createElement("div",{className:"setting"},"Party Mode",n.a.createElement("div",{className:"switches"},n.a.createElement(ee.a,{checked:this.props.party_mode,onChange:this.handlePartyMode,onColor:this.colorLuminance(this.state.accent,-.4),onHandleColor:this.state.accent,handleDiameter:30,uncheckedIcon:!1,checkedIcon:!1,boxShadow:"0px 1px 5px rgba(0, 0, 0, 0.6)",activeBoxShadow:"0px 0px 1px 10px rgba(0, 0, 0, 0.2)",height:20,width:48,className:"react-switch",id:"material-switch"})),n.a.createElement("div",{className:"desc"},"really mess with your eyes")),n.a.createElement("div",{className:"setting"},"Show Time List",n.a.createElement("div",{className:"switches"},n.a.createElement(ee.a,{checked:this.props.show_log,onChange:this.props.handleShowLog,onColor:this.colorLuminance(this.state.accent,-.4),onHandleColor:this.state.accent,handleDiameter:30,uncheckedIcon:!1,checkedIcon:!1,boxShadow:"0px 1px 5px rgba(0, 0, 0, 0.6)",activeBoxShadow:"0px 0px 1px 10px rgba(0, 0, 0, 0.2)",height:20,width:48,className:"react-switch",id:"material-switch"})),n.a.createElement("div",{className:"desc"},"list of times, as well as current and best times, is shown on left side")),n.a.createElement("div",{className:"setting"},"Show Averages Under Time",n.a.createElement("div",{className:"switches"},n.a.createElement(ee.a,{checked:this.props.show_av,onChange:this.props.handleShowAv,onColor:this.colorLuminance(this.state.accent,-.4),onHandleColor:this.state.accent,handleDiameter:30,uncheckedIcon:!1,checkedIcon:!1,boxShadow:"0px 1px 5px rgba(0, 0, 0, 0.6)",activeBoxShadow:"0px 0px 1px 10px rgba(0, 0, 0, 0.2)",height:20,width:48,className:"react-switch",id:"material-switch"})),n.a.createElement("div",{className:"desc"},"ao5 and ao12 are shown below time as well as on left side")),n.a.createElement("div",{className:"setting"},"Show Scramble",n.a.createElement("div",{className:"switches"},n.a.createElement(ee.a,{checked:this.props.show_scramble,onChange:this.props.handleShowScramble,onColor:this.colorLuminance(this.state.accent,-.4),onHandleColor:this.state.accent,handleDiameter:30,uncheckedIcon:!1,checkedIcon:!1,boxShadow:"0px 1px 5px rgba(0, 0, 0, 0.6)",activeBoxShadow:"0px 0px 1px 10px rgba(0, 0, 0, 0.2)",height:20,width:48,className:"react-switch",id:"material-switch"})),n.a.createElement("div",{className:"desc"},"scramble is generated for each solve and displayed on screen")),n.a.createElement("div",{className:"setting"},"Highlight on Hover",n.a.createElement("div",{className:"switches"},n.a.createElement(ee.a,{checked:this.props.highlight_text,onChange:this.props.handleHighlightText,onColor:this.colorLuminance(this.state.accent,-.4),onHandleColor:this.state.accent,handleDiameter:30,uncheckedIcon:!1,checkedIcon:!1,boxShadow:"0px 1px 5px rgba(0, 0, 0, 0.6)",activeBoxShadow:"0px 0px 1px 10px rgba(0, 0, 0, 0.2)",height:20,width:48,className:"react-switch",id:"material-switch"})),n.a.createElement("div",{className:"desc"},"elements brighten when hovered over")),n.a.createElement("div",{className:"setting",id:"setting"},"Timer Size",n.a.createElement("div",{className:"switches"},n.a.createElement(w.a,{icon:"caret-left",id:"changen",onClick:function(){e.props.timer_size>8&&e.props.handleTimerSize(e.props.timer_size-1)}}),n.a.createElement(A.a,{className:"setinput",onFocus:this.handleFocus,min:8,max:300,step:1,value:this.props.timer_size,onChange:function(t){return e.props.handleTimerSize(t)}}),n.a.createElement(w.a,{icon:"caret-right",id:"changen",onClick:function(){e.props.timer_size<300&&e.props.handleTimerSize(e.props.timer_size+1)}})),n.a.createElement("div",{className:"desc"},"change the size of the timer")),n.a.createElement("div",{className:"setting",id:"setting"},"Scramble Size",n.a.createElement("div",{className:"switches"},n.a.createElement(w.a,{icon:"caret-left",id:"changen",onClick:function(){e.props.scramble_size>8&&e.props.handleScrambleSize(e.props.scramble_size-1)}}),n.a.createElement(A.a,{className:"setinput",onFocus:this.handleFocus,min:8,max:64,step:1,value:this.props.scramble_size,onChange:function(t){return e.props.handleScrambleSize(t)}}),n.a.createElement(w.a,{icon:"caret-right",id:"changen",onClick:function(){e.props.scramble_size<64&&e.props.handleScrambleSize(e.props.scramble_size+1)}})),n.a.createElement("div",{className:"desc"},"change the size of the scramble")),n.a.createElement("div",{className:"setting",id:"setting"},"Average Size",n.a.createElement("div",{className:"switches"},n.a.createElement(w.a,{icon:"caret-left",id:"changen",onClick:function(){e.props.av_size>8&&e.props.handleAvSize(e.props.av_size-1)}}),n.a.createElement(A.a,{className:"setinput",onFocus:this.handleFocus,min:8,max:40,step:1,value:this.props.av_size,onChange:function(t){return e.props.handleAvSize(t)}}),n.a.createElement(w.a,{icon:"caret-right",id:"changen",onClick:function(){e.props.av_size<40&&e.props.handleAvSize(e.props.av_size+1)}})),n.a.createElement("div",{className:"desc"},"change the size of the averages below the timer")))))))))}}]),t}(s.Component),ue=a(266),pe=(a(628),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(f.a)(this,Object(v.a)(t).call(this,e))).state={modalIsOpen:!1,saved:!1,loaded:!1},a.openModal=a.openModal.bind(Object(g.a)(Object(g.a)(a))),a.closeModal=a.closeModal.bind(Object(g.a)(Object(g.a)(a))),a.onFail=a.onFail.bind(Object(g.a)(Object(g.a)(a))),a.onLogout=a.onLogout.bind(Object(g.a)(Object(g.a)(a))),a.handleSaveFirebase=a.handleSaveFirebase.bind(Object(g.a)(Object(g.a)(a))),a.handleLoadFirebase=a.handleLoadFirebase.bind(Object(g.a)(Object(g.a)(a))),a.handleUndoSave=a.handleUndoSave.bind(Object(g.a)(Object(g.a)(a))),a.handleUndoLoad=a.handleUndoLoad.bind(Object(g.a)(Object(g.a)(a))),a}return Object(b.a)(t,e),Object(p.a)(t,[{key:"openModal",value:function(){this.setState({modalIsOpen:!0}),this.props.handleModal(),k.a.pageview("/account")}},{key:"afterOpenModal",value:function(){}},{key:"closeModal",value:function(){this.setState({modalIsOpen:!1,saved:!1,loaded:!1}),this.props.handleModal(),k.a.pageview("/")}},{key:"handleFocus",value:function(e){e.target.select()}},{key:"onFail",value:function(){}},{key:"onLogout",value:function(){this.props.logOut()}},{key:"handleSaveFirebase",value:function(){this.props.saveStateToFirebase(),this.setState({saved:!0})}},{key:"handleLoadFirebase",value:function(){this.props.loadStateFromFirebase(),this.setState({loaded:!0})}},{key:"handleUndoSave",value:function(){this.props.undoSaveToFirebase(),this.setState({saved:!1})}},{key:"handleUndoLoad",value:function(){this.props.undoLoadFromFirebase(),this.setState({loaded:!1})}},{key:"colorLuminance",value:function(e,t){(e=String(e).replace(/[^0-9a-f]/gi,"")).length<6&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),t=t||0;var a,s,n="#";for(s=0;s<3;s++)a=parseInt(e.substr(2*s,2),16),n+=("00"+(a=Math.round(Math.min(Math.max(0,a+a*t),255)).toString(16))).substr(a.length);return n}},{key:"render",value:function(){return n.a.createElement("div",{className:"modal"},n.a.createElement("button",{id:"accountbtn",onClick:this.openModal},n.a.createElement(w.a,{icon:"user-circle"})),n.a.createElement(T.a,{isOpen:this.state.modalIsOpen,onAfterOpen:this.afterOpenModal,onRequestClose:this.closeModal,ariaHideApp:!1,closeTimeoutMS:200,contentLabel:"Account Modal",className:"AccountModal",overlayClassName:"AccountOverlay"},this.props.isSignedIn?n.a.createElement("div",{className:"accountinfo"},n.a.createElement("h1",{id:"title"},"Account"),n.a.createElement("br",null),n.a.createElement("div",{className:"userinfo"},n.a.createElement("img",{src:this.props.userProfile.photoURL,alt:"profile",className:"profilepic"}),n.a.createElement("div",{className:"welcome"},"Welcome, ",n.a.createElement("b",null,this.props.userProfile.displayName)),n.a.createElement("div",{className:"accountdesc"},"Accounts let you back up your data and access it anywhere, from any device. Your results were last saved to your account on ",n.a.createElement("strong",null,this.props.lastsave),"."),n.a.createElement("div",{className:"timestamp-act"})),n.a.createElement("div",{className:"updownbtns"},n.a.createElement("div",{className:"upbtnaccount"},n.a.createElement("h3",{className:"save-title"},"Save"),n.a.createElement(L.AwesomeButton,{action:this.handleSaveFirebase,type:"primary",className:"downloadbtn",id:"accountbtn",size:"large"},n.a.createElement("div",{id:"downicon"},n.a.createElement(w.a,{icon:"file-upload"}))),n.a.createElement("div",{className:"actsave"},n.a.createElement(B.ClipLoader,{css:{display:"inline-block",verticalAlign:"bottom"},sizeUnit:"px",size:40,color:this.props.theme.accent,loading:this.props.saving}),this.state.saved&&!this.props.saving?n.a.createElement("div",{className:"undodu"},n.a.createElement(R,{theme:this.props.theme,undo:this.handleUndoSave})):null)),n.a.createElement("div",{className:"downbtnaccount"},n.a.createElement("h3",{className:"load-title"},"Load"),n.a.createElement(L.AwesomeButton,{action:this.handleLoadFirebase,type:"primary",className:"downloadbtn",id:"accountbtn",size:"large"},n.a.createElement("div",{id:"downicon"},n.a.createElement(w.a,{icon:"file-download"}))),n.a.createElement("div",{className:"actload"},n.a.createElement(B.ClipLoader,{css:{display:"inline-block",verticalAlign:"bottom"},sizeUnit:"px",size:40,color:this.props.theme.accent,loading:this.props.loading}),this.state.loaded&&!this.props.loading?n.a.createElement("div",{className:"undodu"},n.a.createElement(R,{theme:this.props.theme,undo:this.handleUndoLoad})):null))),n.a.createElement("button",{onClick:this.onLogout,className:"logout"},"Log Out")):n.a.createElement("div",{className:"accountinfo"},n.a.createElement("h1",{id:"title"},"Sign In"),n.a.createElement("br",null),n.a.createElement("div",{className:"signininfo"},n.a.createElement("p",null,"Sign in with Google to save your results online and access them from any device."),n.a.createElement("div",{className:"signinbtn"},n.a.createElement(ue.a,{onClick:this.props.signIn}))))))}}]),t}(s.Component)),fe=a(125),ve=a.n(fe);a(256),a(629);Y.c.addAdapter(Q.a);var be=[{value:"graph",label:"Line Graph",className:"dropdown-item"},{value:"dist",label:"Distribution",className:"dropdown-item"},{value:"stats",label:"Statistics",className:"dropdown-item"}],ge=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(f.a)(this,Object(v.a)(t).call(this,e))).handleChange=a.handleChange.bind(Object(g.a)(Object(g.a)(a))),a}return Object(b.a)(t,e),Object(p.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return this.props.renderlog&&this.props.show_stats||this.props.show_stats!==e.show_stats||this.props.reps>e.reps&&this.props.show_stats||e.reps-this.props.reps>1&&this.props.show_stats||this.props.session!==e.session||this.props.stats_tab!==e.stats_tab||this.props.track_best_ao1000!==e.track_best_ao1000||this.props.bestAo1000!==e.bestAo1000}}]),Object(p.a)(t,[{key:"handleChange",value:function(e){"graph"===e.value?this.props.handleStatsTab(1):"dist"===e.value?this.props.handleStatsTab(2):"stats"===e.value&&this.props.handleStatsTab(3)}},{key:"displayHour",value:function(e){return e?e+":":""}},{key:"displayMinute",value:function(e,t){return t?t<10&&e?"0"+t+":":t+":":""}},{key:"displaySecond",value:function(e,t){return t<10&&e?"0"+t:t}},{key:"displayMillisecond",value:function(e){return e<10?"0"+e:e}},{key:"convertToTime",value:function(e){if("dnf"===e)return"DNF";if(0===e||null===e)return"-";var t=(e=Math.floor(e))%1e3,a=(e=(e-t)/1e3)%60,s=(e=(e-a)/60)%60;return e=(e-s)/60,t=Math.floor(t/10),this.displayHour(e)+this.displayMinute(e,s)+this.displaySecond(s,a)+"."+this.displayMillisecond(t)}},{key:"colorLuminance",value:function(e,t){(e=String(e).replace(/[^0-9a-f]/gi,"")).length<6&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),t=t||0;var a,s,n="#";for(s=0;s<3;s++)a=parseInt(e.substr(2*s,2),16),n+=("00"+(a=Math.round(Math.min(Math.max(0,a+a*t),255)).toString(16))).substr(a.length);return n}},{key:"shiftColor",value:function(e,t){var a="rgb("+(e=e.replace("#","")).match(new RegExp("(.{"+e.length/3+"})","g")).map(function(t){return parseInt(e.length%2?t+t:t,16)}).join(",")+")",s=(a=a.replace(/[^\d,]/g,"").split(","))[0],n=a[1],i=a[2];s/=255,n/=255,i/=255;var o,r,l=Math.max(s,n,i),c=Math.min(s,n,i),h=(l+c)/2;if(l===c)o=r=0;else{var d=l-c;r=h>.5?d/(2-l-c):d/(l+c),l===s&&n>=i?o=1.0472*(n-i)/d:l===s&&n<i?o=1.0472*(n-i)/d+6.2832:l===n?o=1.0472*(i-s)/d+2.0944:l===i&&(o=1.0472*(s-n)/d+4.1888)}if(o=o/6.2832*360+0,(o+=t)>360&&(o-=360),o/=360,0===r)s=n=i=h;else{var m=function(e,t,a){return a<0&&(a+=1),a>1&&(a-=1),a<1/6?e+6*(t-e)*a:a<.5?t:a<2/3?e+(t-e)*(2/3-a)*6:e},u=h<.5?h*(1+r):h+r-h*r,p=2*h-u;s=m(p,u,o+1/3),n=m(p,u,o),i=m(p,u,o-1/3)}return s=Math.round(255*s),n=Math.round(255*n),"#"+(16777216|(a=(i=Math.round(255*i))|n<<8|s<<16)).toString(16).substring(1)}},{key:"displayGraph",value:function(){var e=this,t=this.props.log.slice();t.reverse();for(var a={},s={},i={},o=0,r=0;r<t.length;r++)t[r].res.time>o&&(o=t[r].res.time);t.map(function(t,n){var r=(n+1).toString();return t.res.dnf?a[r]=e.convertToTime(o):a[r]=e.convertToTime(t.res.time),s[r]=e.convertToTime(t.res.ao5),i[r]=e.convertToTime(t.res.ao12),null});var l=[{name:"single",data:a},{name:"ao5",data:s},{name:"ao12",data:i}];return n.a.createElement("div",{className:"graphpanel"},n.a.createElement(Y.b,{data:l,curve:!1,legend:"top",download:!0,dataset:{borderWidth:2},points:!1,width:window.innerWidth>1080?"35vw":"100%",height:window.innerWidth>1080?"35vh":"30vh",colors:[this.props.theme.accent,this.shiftColor(this.props.theme.accent,60),this.shiftColor(this.props.theme.accent,300)],min:null}))}},{key:"displayDist",value:function(){var e=this.props.log.slice();if(this.props.best.res&&this.props.average){for(var t=this.props.average-this.props.best.res.time,a=Math.round(t/3e3),s=1e3*Math.round(this.props.best.res.time/1e3),i=s+1e3*a,o=i+1e3*a,r=o+1e3*a,l=r+1e3*a,c=l+1e3*a,h=0,d=0,m=0,u=0,p=0,f=0,v=0;v<e.length;v++)if(e[v].res.dnf)f++;else{var b=e[v].res.time;b<i?h++:b<o?d++:b<r?m++:b<l?u++:b<c?p++:f++}var g=[[s/1e3+" - "+i/1e3,h],[i/1e3+" - "+o/1e3,d],[o/1e3+" - "+r/1e3,m],[r/1e3+" - "+l/1e3,u],[l/1e3+" - "+c/1e3,p],[c/1e3+" +",f]];return n.a.createElement("div",{className:"graphpanel"},n.a.createElement(Y.a,{data:g,download:!0,width:window.innerWidth>1080?"35vw":"100%",height:window.innerWidth>1080?"35vh":"30vh",colors:[this.props.theme.accent]}))}}},{key:"displayStats",value:function(){if(this.props.best.res&&this.props.log.length){for(var e=this.props.log.slice(),t=this.props.best.res.time,a=0,s=0,i=0,o=0;o<e.length;o++)e[o].res.time>a&&!e[o].res.dnf&&(a=e[o].res.time),e[o].res.dnf||(s+=Math.pow(e[o].res.time-this.props.average,2),i+=e[o].res.time);s/=this.props.validreps,s=Math.sqrt(s);var r=0;if(this.props.track_best_ao1000){var l=10*this.props.average,c=0;if(e.length>=1e3){for(o=0;o<1e3;o++)e[o].res.time<l&&(l=e[o].res.time),e[o].res.time>c&&(c=e[o].res.time),r+=e[o].res.time;r=(r-c-l)/998}}return n.a.createElement("div",{className:"statpanel"},n.a.createElement("table",{className:"stat-table"},n.a.createElement("tbody",null,n.a.createElement("tr",null,n.a.createElement("td",{id:"stat"},"solves: ",this.props.reps),n.a.createElement("td",{id:"stat"},"average: ",this.convertToTime(this.props.average)),n.a.createElement("td",{id:"stat"},"total: ",this.convertToTime(i))),n.a.createElement("tr",null,n.a.createElement("td",{id:"stat"},"best: ",this.convertToTime(t)),n.a.createElement("td",{id:"stat"},"worst: ",this.convertToTime(a)),n.a.createElement("td",{id:"stat"},"\u03c3: ",this.convertToTime(s)))),n.a.createElement("tbody",{className:"blanktable"}),n.a.createElement("tbody",null,n.a.createElement("tr",null,n.a.createElement("th",null,"  "),n.a.createElement("th",null,"Current"),n.a.createElement("th",null,"Best")),n.a.createElement("tr",null,n.a.createElement("th",null,"single"),n.a.createElement("td",null,this.props.log.length?this.convertToTime(this.props.log[0].res.time):"-"),n.a.createElement("td",null,this.props.best.res?this.convertToTime(this.props.best.res.time):"-")),n.a.createElement("tr",null,n.a.createElement("th",null,"mo3"),n.a.createElement("td",null,this.props.log.length?this.convertToTime(this.props.log[0].res.mo3):"-"),n.a.createElement("td",null,this.props.best.mo3?this.convertToTime(this.props.best.mo3):"-")),n.a.createElement("tr",null,n.a.createElement("th",null,"ao5"),n.a.createElement("td",null,this.props.log.length?this.convertToTime(this.props.log[0].res.ao5):"-"),n.a.createElement("td",null,this.props.best.ao5?this.convertToTime(this.props.best.ao5):"-")),n.a.createElement("tr",null,n.a.createElement("th",null,"ao12"),n.a.createElement("td",null,this.props.log.length?this.convertToTime(this.props.log[0].res.ao12):"-"),n.a.createElement("td",null,this.props.best.ao12?this.convertToTime(this.props.best.ao12):"-")),n.a.createElement("tr",null,n.a.createElement("th",null,"ao50"),n.a.createElement("td",null,this.props.log.length?this.convertToTime(this.props.log[0].res.ao50):"-"),n.a.createElement("td",null,this.props.best.ao50?this.convertToTime(this.props.best.ao50):"-")),n.a.createElement("tr",null,n.a.createElement("th",null,"ao100"),n.a.createElement("td",null,this.props.log.length?this.convertToTime(this.props.log[0].res.ao100):"-"),n.a.createElement("td",null,this.props.best.ao100?this.convertToTime(this.props.best.ao100):"-")),n.a.createElement("tr",null,n.a.createElement("th",null,this.props.track_best_ao1000?"ao1000":null),n.a.createElement("td",null,this.props.track_best_ao1000?this.convertToTime(r):null),n.a.createElement("td",null,this.props.track_best_ao1000?this.convertToTime(this.props.bestAo1000):null)))))}}},{key:"displayTab",value:function(){return 1===this.props.stats_tab?this.displayGraph():2===this.props.stats_tab?this.displayDist():3===this.props.stats_tab?this.displayStats():void 0}},{key:"render",value:function(){var e=this;return n.a.createElement("div",null,this.props.show_stats?n.a.createElement("div",{className:"StatsModal"},this.displayTab(),n.a.createElement(ve.a,{className:"dropdown",controlClassName:"dropdown-ctrl",menuClassName:"dropdown-menu",placeholderClassName:"dropdown-place",options:be,value:be[this.props.stats_tab-1],onChange:function(t){return e.handleChange(t)}})):null)}}]),t}(s.Component),ye=(a(630),[{value:"2x2",label:"2x2x2",className:"dropdown-item"},{value:"3x3",label:"3x3x3",className:"dropdown-item"},{value:"4x4",label:"4x4x4",className:"dropdown-item"},{value:"5x5",label:"5x5x5",className:"dropdown-item"},{value:"6x6",label:"6x6x6",className:"dropdown-item"},{value:"7x7",label:"7x7x7",className:"dropdown-item"}]),Se=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(f.a)(this,Object(v.a)(t).call(this,e))).handleChange=a.handleChange.bind(Object(g.a)(Object(g.a)(a))),a}return Object(b.a)(t,e),Object(p.a)(t,[{key:"handleChange",value:function(e){this.props.handleCube(e.value)}},{key:"render",value:function(){var e=this;return n.a.createElement("div",null,n.a.createElement(ve.a,{className:"scramble-dropdown",controlClassName:"scramble-dropdown-ctrl",menuClassName:"scramble-dropdown-menu",placeholderClassName:"scramble-dropdown-place",arrowClassName:"scramble-dropdown-arrow",options:ye,value:this.props.cube,onChange:function(t){return e.handleChange(t)}}),n.a.createElement("div",{className:"scrambletext"},this.props.scramble))}}]),t}(s.Component),Ee=(a(631),a(27)),Oe=a(13);Ee.b.add(Oe.i),Ee.b.add(Oe.p),Ee.b.add(Oe.n),Ee.b.add(Oe.a),Ee.b.add(Oe.b),Ee.b.add(Oe.k),Ee.b.add(Oe.q),Ee.b.add(Oe.j),Ee.b.add(Oe.h),Ee.b.add(Oe.f),Ee.b.add(Oe.c),Ee.b.add(Oe.e),Ee.b.add(Oe.d),Ee.b.add(Oe.r),Ee.b.add(Oe.g),Ee.b.add(Oe.l),Ee.b.add(Oe.m),Ee.b.add(Oe.o);var we=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(f.a)(this,Object(v.a)(t).call(this,e))).hydrateStateWithLocalStorage=function(){for(var e in a.state)if(localStorage.hasOwnProperty(e)){var t=localStorage.getItem(e);try{t=JSON.parse(t),a.setState(Object(m.a)({},e,t))}catch(s){a.setState(Object(m.a)({},e,t))}}},a.syncStateWithFirebase=Object(d.a)(c.a.mark(function e(){var t,s,n,i,o;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.state.isSignedIn){e.next=10;break}return a.saveStateToLocalStorage(),e.next=4,a.setState({syncing:!0});case 4:return t=N()(new Date).format("MMMM Do YYYY, h:mm:ss a"),n=S.a.firestore(),i=n.collection("user-results").doc(a.state.userProfile.email),o=n.collection("user-backups").doc(a.state.userProfile.email),e.next=10,i.get().then(function(e){var n=e.data();if(n){o.set({average:n.average,best:n.best,session:n.session,reps:n.reps,sessions:n.sessions,themes:n.themes,validreps:n.validreps,lastsave:n.lastsave}),s=JSON.parse(n.lastsave);for(var r=a.state.sessions.slice(),l=JSON.parse(n.sessions).slice(),c=[],d=0;d<Math.max(r.length,l.length);d++){for(var m=JSON.parse(n.session)===a.state.session&&a.state.session===d?a.state.log.slice():d<r.length?Object(h.a)(r[d].log):[],u=d<l.length?Object(h.a)(l[d].log):[],p=u.slice(),f=u.length,v=function(e,t){for(var a=0;a<t.length;a++)if(t[a].res.timestamp===e.res.timestamp)return!0;return!1},b=m.length-1;b>=0;b--)v(m[b],p)||(p.unshift(m[b]),f++);p.sort(function(e,t){return t.res.timestamp-e.res.timestamp});for(var g=0;g<f;g++)p[g].res.id=p.length-g,a.forceUpdateMean(p,g,3),a.forceUpdateAv(p,g,5),a.forceUpdateAv(p,g,12),a.forceUpdateAv(p,g,50),a.forceUpdateAv(p,g,100);for(var y=0,S=0;S<p.length;S++)p[S].res.dnf||y++;c=c.concat({id:d,name:r[d]?r[d].name:(d+1).toString(),log:p,cube:r[d]?r[d].cube:"3x3",best:{res:a.forceUpdateBest(p),mo3:a.forceUpdateBestMo3(p),ao5:a.forceUpdateBestAo5(p),ao12:a.forceUpdateBestAo12(p),ao50:a.forceUpdateBestAo50(p),ao100:a.forceUpdateBestAo100(p)},average:a.forceCalculateAverage(p),reps:p.length,validreps:y})}for(var E=a.state.themes.slice(),O=JSON.parse(n.themes).slice(),w=0;w<O.length;){for(var k=!1,M=0;M<E.length;M++)O[w].name===E[M].name&&(k=!0);k||(E=E.concat(O[w])),w++}a.setState({sessions:c,lastsave:t,backupsave:s,themes:E},function(){return a.loadSession(a.state.session)}),i.set({average:JSON.stringify(c[n.session].average),best:JSON.stringify(c[n.session].best),session:JSON.stringify(a.state.session),reps:JSON.stringify(c[n.session].reps),sessions:JSON.stringify(c),themes:JSON.stringify(E),validreps:JSON.stringify(c[n.session].validreps),lastsave:JSON.stringify(t)})}a.setState({syncing:!1})});case 10:case"end":return e.stop()}},e)})),a.undoSaveToFirebase=function(){if(a.state.isSignedIn){a.setState({saving:!0});var e=S.a.firestore(),t=e.collection("user-results").doc(a.state.userProfile.email),s=e.collection("user-backups").doc(a.state.userProfile.email);a.saveSession(),s.get().then(function(e){var s=JSON.parse(JSON.stringify(e.data()));t.set({average:s.average,best:s.best,session:s.session,reps:s.reps,sessions:s.sessions,themes:s.themes,validreps:s.validreps,lastsave:s.lastsave}),a.setState({saving:!1,lastsave:JSON.parse(s.lastsave)})})}},a.undoSyncWithFirebase=function(){if(a.undoLoadFromFirebase(),a.state.isSignedIn){a.setState({syncing:!0});var e=S.a.firestore(),t=e.collection("user-results").doc(a.state.userProfile.email),s=e.collection("user-backups").doc(a.state.userProfile.email);a.saveSession(),s.get().then(function(e){var s=JSON.parse(JSON.stringify(e.data()));t.set({average:s.average,best:s.best,session:s.session,reps:s.reps,sessions:s.sessions,themes:s.themes,validreps:s.validreps,lastsave:s.lastsave}),a.setState({syncing:!1,lastsave:JSON.parse(s.lastsave)})})}},a.displayTime=function(e){return a.state.res.plus2&&a.state.stopped?a.convertToTime(e)+"+":a.convertToTime(e)},a.handleRandomState=function(){a.setState({random_state:!a.state.random_state},function(){"3x3"===a.state.cube&&a.generateScramble()})},a.state={isSignedIn:!1,userProfile:null,token:null,email:null,stopped:!0,running:!1,canceled:!1,renderlog:!0,fifteen:!1,hold_done:!1,modal:!1,time:0,inspecttime:15,start:null,end:null,res:{id:0,time:null,mo3:null,ao5:null,ao12:null,ao50:null,ao100:null,scramble:null,dnf:!1,plus2:!1,timestamp:null},best:{res:null,mo3:null,ao5:null,ao12:null,ao50:null,ao100:null},log:[],sessions:[{id:0,name:null,log:[],cube:"3x3",best:null,reps:0,validreps:0,average:null}],session:0,reps:0,validreps:0,average:0,bestAo1000:null,lastsave:null,backupsave:null,undoload:!1,undosave:!1,loading:!1,syncing:!1,saving:!1,restoring:!1,scramble_on_side:!1,show_av:!0,show_scramble:!0,show_log:!0,show_stats:!1,inspection_time:!1,hold_to_start:!1,highlight_text:!0,space_to_stop:!0,display_milliseconds:!1,hide_time:!1,hide_surroundings:!0,track_best_ao1000:!0,escape_to_dnf:!0,random_state:!0,party_mode:!1,theme:{primary:"#1a1c21",secondary:"#efefef",accent:"#9621ff",text:"rgba(255, 255, 255, .6)",texthighlighted:"#efefef"},themes:[],scramble_size:28,timer_size:144,av_size:24,hold_len:300,stats_tab:1,cube:"3x3"},a.signIn=a.signIn.bind(Object(g.a)(Object(g.a)(a))),a.logOut=a.logOut.bind(Object(g.a)(Object(g.a)(a))),a.display=a.display.bind(Object(g.a)(Object(g.a)(a))),a.resetTime=a.resetTime.bind(Object(g.a)(Object(g.a)(a))),a.updateTime=a.updateTime.bind(Object(g.a)(Object(g.a)(a))),a.updateInspectionTime=a.updateInspectionTime.bind(Object(g.a)(Object(g.a)(a))),a.displayInspection=a.displayInspection.bind(Object(g.a)(Object(g.a)(a))),a.hideStuff=a.hideStuff.bind(Object(g.a)(Object(g.a)(a))),a.unhideStuff=a.unhideStuff.bind(Object(g.a)(Object(g.a)(a))),a.updateBests=a.updateBests.bind(Object(g.a)(Object(g.a)(a))),a.updateBestAo1000=a.updateBestAo1000.bind(Object(g.a)(Object(g.a)(a))),a.startTime=a.startTime.bind(Object(g.a)(Object(g.a)(a))),a.endTime=a.endTime.bind(Object(g.a)(Object(g.a)(a))),a.calculateTime=a.calculateTime.bind(Object(g.a)(Object(g.a)(a))),a.saveTime=a.saveTime.bind(Object(g.a)(Object(g.a)(a))),a.addTime=a.addTime.bind(Object(g.a)(Object(g.a)(a))),a.calculateAverage=a.calculateAverage.bind(Object(g.a)(Object(g.a)(a))),a.calculateAv=a.calculateAv.bind(Object(g.a)(Object(g.a)(a))),a.calculateMean=a.calculateMean.bind(Object(g.a)(Object(g.a)(a))),a.clearAll=a.clearAll.bind(Object(g.a)(Object(g.a)(a))),a.deleteEntry=a.deleteEntry.bind(Object(g.a)(Object(g.a)(a))),a.downloadFile=a.downloadFile.bind(Object(g.a)(Object(g.a)(a))),a.uploadFile=a.uploadFile.bind(Object(g.a)(Object(g.a)(a))),a.readFileToState=a.readFileToState.bind(Object(g.a)(Object(g.a)(a))),a.generateScramble=a.generateScramble.bind(Object(g.a)(Object(g.a)(a))),a.startInspection=a.startInspection.bind(Object(g.a)(Object(g.a)(a))),a.endInspection=a.endInspection.bind(Object(g.a)(Object(g.a)(a))),a.saveSession=a.saveSession.bind(Object(g.a)(Object(g.a)(a))),a.loadSession=a.loadSession.bind(Object(g.a)(Object(g.a)(a))),a.newSession=a.newSession.bind(Object(g.a)(Object(g.a)(a))),a.changeSession=a.changeSession.bind(Object(g.a)(Object(g.a)(a))),a.deleteSession=a.deleteSession.bind(Object(g.a)(Object(g.a)(a))),a.handleModal=a.handleModal.bind(Object(g.a)(Object(g.a)(a))),a.handleModalFalse=a.handleModalFalse.bind(Object(g.a)(Object(g.a)(a))),a.handleInspection=a.handleInspection.bind(Object(g.a)(Object(g.a)(a))),a.handleHoldToStart=a.handleHoldToStart.bind(Object(g.a)(Object(g.a)(a))),a.handleShowAv=a.handleShowAv.bind(Object(g.a)(Object(g.a)(a))),a.handleShowScramble=a.handleShowScramble.bind(Object(g.a)(Object(g.a)(a))),a.handleShowLog=a.handleShowLog.bind(Object(g.a)(Object(g.a)(a))),a.handleShowStats=a.handleShowStats.bind(Object(g.a)(Object(g.a)(a))),a.handleScrambleSize=a.handleScrambleSize.bind(Object(g.a)(Object(g.a)(a))),a.handleTimerSize=a.handleTimerSize.bind(Object(g.a)(Object(g.a)(a))),a.handleAvSize=a.handleAvSize.bind(Object(g.a)(Object(g.a)(a))),a.handleHoldLen=a.handleHoldLen.bind(Object(g.a)(Object(g.a)(a))),a.handleSpaceToStop=a.handleSpaceToStop.bind(Object(g.a)(Object(g.a)(a))),a.handleHighlightText=a.handleHighlightText.bind(Object(g.a)(Object(g.a)(a))),a.handleDisplayMilliseconds=a.handleDisplayMilliseconds.bind(Object(g.a)(Object(g.a)(a))),a.handleHideTime=a.handleHideTime.bind(Object(g.a)(Object(g.a)(a))),a.handleHideSurroundings=a.handleHideSurroundings.bind(Object(g.a)(Object(g.a)(a))),a.handleStatsTab=a.handleStatsTab.bind(Object(g.a)(Object(g.a)(a))),a.handleTrackBestAo1000=a.handleTrackBestAo1000.bind(Object(g.a)(Object(g.a)(a))),a.handleEscapeToDNF=a.handleEscapeToDNF.bind(Object(g.a)(Object(g.a)(a))),a.handleCube=a.handleCube.bind(Object(g.a)(Object(g.a)(a))),a.handleBestAo1000=a.handleBestAo1000.bind(Object(g.a)(Object(g.a)(a))),a.handlePlus2=a.handlePlus2.bind(Object(g.a)(Object(g.a)(a))),a.handleDNF=a.handleDNF.bind(Object(g.a)(Object(g.a)(a))),a.saveTheme=a.saveTheme.bind(Object(g.a)(Object(g.a)(a))),a.deleteTheme=a.deleteTheme.bind(Object(g.a)(Object(g.a)(a))),a.changeColor=a.changeColor.bind(Object(g.a)(Object(g.a)(a))),a.partyMode=a.partyMode.bind(Object(g.a)(Object(g.a)(a))),a.timeHold=a.timeHold.bind(Object(g.a)(Object(g.a)(a))),a.onTouchStart=a.onTouchStart.bind(Object(g.a)(Object(g.a)(a))),a.onTouchEnd=a.onTouchEnd.bind(Object(g.a)(Object(g.a)(a))),a.onTouchCancel=a.onTouchCancel.bind(Object(g.a)(Object(g.a)(a))),a.onTouchMove=a.onTouchMove.bind(Object(g.a)(Object(g.a)(a))),a.reset=a.reset.bind(Object(g.a)(Object(g.a)(a))),a.saveStateToFirebase=a.saveStateToFirebase.bind(Object(g.a)(Object(g.a)(a))),a.loadStateFromFirebase=a.loadStateFromFirebase.bind(Object(g.a)(Object(g.a)(a))),a.restoreFirebaseBackup=a.restoreFirebaseBackup.bind(Object(g.a)(Object(g.a)(a))),a.undoSaveToFirebase=a.undoSaveToFirebase.bind(Object(g.a)(Object(g.a)(a))),a.undoLoadFromFirebase=a.undoLoadFromFirebase.bind(Object(g.a)(Object(g.a)(a))),a}return Object(b.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.unregisterAuthObserver=S.a.auth().onAuthStateChanged(function(t){e.setState({isSignedIn:!!t,userProfile:t})}),this.hydrateStateWithLocalStorage(),window.addEventListener("beforeunload",this.saveStateToLocalStorage.bind(this),this.saveSession.bind(this)),this.reset(),this.handleModalFalse(),this.handlePartyModeOff();var t=localStorage.getItem("theme");t?(t=JSON.parse(t),this.changeColor(t)):this.setState({theme:{primary:"#1a1c21",secondary:"#efefef",accent:"#9621ff",text:"rgba(255, 255, 255, .6)",texthighlighted:"#efefef"}},function(){return e.changeColor(e.state.theme)});var a=JSON.parse(localStorage.getItem("cube"));this.setState({cube:a||"3x3"},this.generateScramble),this.handleScrambleSize(this.state.scramble_size),this.handleTimerSize(this.state.timer_size),this.handleAvSize(this.state.av_size),document.getElementById("time").addEventListener("touchstart",this.onTouchStart,!1),document.getElementById("time").addEventListener("touchend",this.onTouchEnd,!1),document.getElementById("time").addEventListener("touchcancel",this.onTouchCancel,!1),document.getElementById("time").addEventListener("touchmove",this.onTouchMove,!1),document.getElementById("time").addEventListener("contextmenu",function(e){e.preventDefault()}),this.solve=O(),this.solve.initSolver()}},{key:"componentWillUnmount",value:function(){this.unregisterAuthObserver(),window.removeEventListener("beforeunload",this.saveStateToLocalStorage.bind(this),this.saveSession.bind(this)),this.saveSession(),this.saveStateToLocalStorage()}},{key:"saveStateToFirebase",value:function(){var e=this;if(this.state.isSignedIn){this.setState({saving:!0});var t,a=N()(new Date).format("MMMM Do YYYY, h:mm:ss a"),s=S.a.firestore(),n=s.collection("user-results").doc(this.state.userProfile.email),i=s.collection("user-backups").doc(this.state.userProfile.email);this.saveSession(),n.get().then(function(s){if(e.state.lastsave){var o=JSON.parse(JSON.stringify(s.data()));i.set({average:o.average,best:o.best,session:o.session,reps:o.reps,sessions:o.sessions,themes:o.themes,validreps:o.validreps,lastsave:o.lastsave}),t=JSON.parse(o.lastsave)}n.set({average:JSON.stringify(e.state.average),best:JSON.stringify(e.state.best),session:JSON.stringify(e.state.session),reps:JSON.stringify(e.state.reps),sessions:JSON.stringify(e.state.sessions),themes:JSON.stringify(e.state.themes),validreps:JSON.stringify(e.state.validreps),lastsave:JSON.stringify(a)}),e.setState({saving:!1,lastsave:a,backupsave:t})})}}},{key:"loadStateFromFirebase",value:function(){var e=this;this.state.isSignedIn&&(this.setState({loading:!0}),this.saveStateToLocalStorage(),S.a.firestore().collection("user-results").doc(this.state.userProfile.email).get().then(function(t){var a=t.data();for(var s in a)e.setState(Object(m.a)({},s,JSON.parse(a[s])));a&&e.loadSession(a.session),e.setState({loading:!1})}))}},{key:"restoreFirebaseBackup",value:function(){var e=this;this.state.isSignedIn&&(this.setState({restoring:!0}),this.saveStateToLocalStorage(),S.a.firestore().collection("user-backups").doc(this.state.userProfile.email).get().then(function(t){var a=t.data();for(var s in a)e.setState(Object(m.a)({},s,JSON.parse(a[s])));a&&e.loadSession(a.session),e.setState({restoring:!1})}))}},{key:"undoLoadFromFirebase",value:function(){this.clearAll(),this.hydrateStateWithLocalStorage()}},{key:"saveStateToLocalStorage",value:function(){for(var e in this.state)localStorage.setItem(e,JSON.stringify(this.state[e]))}},{key:"readFileToState",value:function(e){var t=JSON.parse(e);for(var a in this.state)if(t.hasOwnProperty(a)&&"theme"!==a){var s=t[a];this.setState(Object(m.a)({},a,s))}}},{key:"downloadFile",value:function(e,t){var a=JSON.stringify(this.state),s=document.createElement("a"),n=new Blob([a],{type:t});s.href=URL.createObjectURL(n),s.download=e,s.click()}},{key:"uploadFile",value:function(e,t){if(e){var a=new FileReader;a.onload=function(e){t(e.target.result)},a.readAsText(e)}}},{key:"signIn",value:function(e,t){var a=this,s=new S.a.auth.GoogleAuthProvider;S.a.auth().signInWithPopup(s).then(function(e){var t=e.credential.accessToken,s=e.user;a.setState({userProfile:s,token:t,isSignedIn:!0})}).catch(function(e){var t=e.message;console.log("Sign-In Failed. "+t)})}},{key:"logOut",value:function(){S.a.auth().signOut(),this.setState({userProfile:null,isSignedIn:!1,token:null,email:null})}},{key:"newSession",value:function(){var e=this;this.saveSession(),this.setState({sessions:this.state.sessions.concat([{id:this.state.sessions.length,name:null,cube:"3x3",best:{res:null,mo3:null,ao5:null,ao12:null,ao50:null,ao100:null},log:[],average:null,reps:0,validreps:0}]),session:this.state.sessions.length},function(){return e.loadSession(e.state.sessions.length-1)}),this.clearAll()}},{key:"saveSession",value:function(){var e=this.state.sessions.slice(),t=this.state.log.slice();e[this.state.session].log=t,e[this.state.session].cube=this.state.cube,e[this.state.session].best=this.state.best,e[this.state.session].reps=this.state.reps,e[this.state.session].validreps=this.state.validreps,e[this.state.session].average=this.state.average,this.setState({sessions:e})}},{key:"loadSession",value:function(e){var t=this,a=this.state.cube;this.setState({log:this.state.sessions[e].log,cube:this.state.sessions[e].cube,best:this.state.sessions[e].best,reps:this.state.sessions[e].reps,validreps:this.state.sessions[e].validreps,average:this.state.sessions[e].average},function(){return t.scrambleSession(a)})}},{key:"scrambleSession",value:function(e){e!==this.state.cube&&this.generateScramble()}},{key:"changeSession",value:function(e){this.saveSession(),this.setState({session:e}),this.loadSession(e)}},{key:"deleteSession",value:function(e){var t=this.state.sessions.slice();if(t.length>1){t.splice(e,1);for(var a=e;a<t.length;a++)t[a].id-=1;this.setState({sessions:t}),e<=this.state.sessions.length-2?(this.loadSession(e),this.setState({session:e,name:e+1})):(this.loadSession(this.state.sessions.length-2),this.setState({session:this.state.sessions.length-2,name:this.state.sessions.length-1}))}else this.clearAll(),this.setState({sessions:[{id:0,name:null,log:[],cube:"3x3",best:null,reps:0,validreps:0,average:null}]})}},{key:"resetTime",value:function(){this.setState({time:0,start:null,end:null,res:{id:this.state.res.id,time:this.state.res.time,mo3:this.state.res.mo3,ao5:this.state.res.ao5,ao12:this.state.res.ao12,ao50:this.state.res.ao50,ao100:this.state.res.ao100,scramble:this.state.res.scramble,dnf:!1,plus2:!1}})}},{key:"reset",value:function(){clearInterval(this.timer),this.setState({running:!1,stopped:!0,fifteen:!1}),this.resetTime()}},{key:"updateTime",value:function(){var e=(new Date).getTime()-this.state.start;this.setState({time:e})}},{key:"updateInspectionTime",value:function(){var e=this;this.setState({inspecttime:this.state.inspecttime-1},function(){e.state.inspecttime<-1&&!e.state.res.dnf?e.setState({res:{id:e.state.res.id,time:e.state.res.time,mo3:e.state.res.mo3,ao5:e.state.res.ao5,ao12:e.state.res.ao12,ao50:e.state.res.ao50,ao100:e.state.res.ao100,scramble:e.state.res.scramble,timestamp:e.state.res.timestamp,dnf:!0,plus2:!1}}):e.state.inspecttime<1&&!e.state.res.plus2&&!e.state.res.dnf&&e.setState({res:{id:e.state.res.id,time:e.state.res.time,mo3:e.state.res.mo3,ao5:e.state.res.ao5,ao12:e.state.res.ao12,ao50:e.state.res.ao50,ao100:e.state.res.ao100,scramble:e.state.res.scramble,timestamp:e.state.res.timestamp,dnf:!1,plus2:!0}})})}},{key:"startTime",value:function(){var e=(new Date).getTime();this.setState({start:e,running:!0}),this.timer=setInterval(this.updateTime,16)}},{key:"endTime",value:function(){var e=(new Date).getTime();this.setState({end:e,running:!1,reps:this.state.reps+1}),this.state.res.dnf||this.setState({validreps:this.state.validreps+1}),clearInterval(this.timer)}},{key:"calculateTime",value:function(){var e=this.state.end-this.state.start;this.state.res.plus2&&(e+=2e3),this.setState({res:{scramble:this.state.res.scramble,time:e,id:this.state.reps,mo3:this.calculateMean(3,e,this.state.reps,this.state.res.dnf),ao5:this.calculateAv(5,e,this.state.reps,this.state.res.dnf),ao12:this.calculateAv(12,e,this.state.reps,this.state.res.dnf),ao50:this.calculateAv(50,e,this.state.reps,this.state.res.dnf),ao100:this.calculateAv(100,e,this.state.reps,this.state.res.dnf),timestamp:this.state.end,dnf:this.state.res.dnf,plus2:this.state.res.plus2},average:this.calculateAverage(e,this.state.validreps),time:e})}},{key:"calculateAverage",value:function(e,t){return this.state.res.dnf?this.state.average:1===t?e:(this.state.average*(t-1)+e)/t}},{key:"forceCalculateAverage",value:function(e){for(var t=0,a=0,s=0;s<e.length;s++)e[s].res.dnf||(t+=e[s].res.time,a++);return t/a}},{key:"calculateMean",value:function(e,t,a,s){if(s)return"dnf";if(a<e)return null;for(var n=t,i=this.state.log.slice(0,e),o=i.map(function(e,t){return e.res.time}),r=0;r<e-1;r++){if(i[r].res.dnf)return"dnf";n+=o[r]}return n/e}},{key:"forceCalculateMean",value:function(e,t,a){if(a>t.length-e)return null;for(var s=t.slice(a,a+e),n=s.map(function(e,t){return e.res.time}),i=n[0],o=1;o<e;o++){if(s[o].res.dnf)return"dnf";i+=n[o]}return i/e}},{key:"calculateAv",value:function(e,t,a,s){if(a<e)return null;var n=this.state.log.slice(0,e),i=n.map(function(e,t){return e.res.time}),o=0,r=t;if(s){o++;var l=0;for(l=0;l<e-1;l++)if(!n[l].res.dnf){r=n[l].res.time;break}}var c=t,h=s,d=0,m=t;for(d=0;d<e-1;d++){if(n[d].res.dnf&&++o>1)return"dnf";i[d]<r&&!n[d].res.dnf&&(r=i[d]),(n[d].res.dnf||i[d]>c&&!h)&&(c=i[d],n[d].res.dnf&&(h=!0)),m+=i[d]}return(m-r-c)/(e-2)}},{key:"forceCalculateAv",value:function(e,t,a){if(a>t.length-e)return null;var s,n=t.slice(a,a+e),i=n.map(function(e,t){return e.res.time}),o=0,r=i[0],l=n[0].res.dnf,c=0,h=0;for(h=0;h<e-1;h++)if(!n[h].res.dnf){s=n[h].res.time;break}n[0].res.dnf&&o++;var d=i[0];for(c=1;c<e;c++){if(n[c].res.dnf&&++o>1)return"dnf";i[c]<s&&!n[c].res.dnf&&(s=i[c]),(n[c].res.dnf||i[c]>r&&!l)&&(r=i[c],n[c].res.dnf&&(l=!0)),d+=i[c]}return(d-s-r)/(e-2)}},{key:"updateBests",value:function(){if(!this.state.res.dnf){var e={res:this.state.best.res,mo3:this.state.best.mo3,ao5:this.state.best.ao5,ao12:this.state.best.ao12,ao50:this.state.best.ao50,ao100:this.state.best.ao100};(null===this.state.best.res||this.state.res.time<this.state.best.res.time)&&(e.res=this.state.res),(null===this.state.best.mo3&&null!==this.state.res.mo3||this.state.res.mo3<this.state.best.mo3)&&(e.mo3=this.state.res.mo3),(null===this.state.best.ao5&&null!==this.state.res.ao5||this.state.res.ao5<this.state.best.ao5)&&(e.ao5=this.state.res.ao5),(null===this.state.best.ao12&&null!==this.state.res.ao12||this.state.res.ao12<this.state.best.ao12)&&(e.ao12=this.state.res.ao12),(null===this.state.best.ao50&&null!==this.state.res.ao50||this.state.res.ao50<this.state.best.ao50)&&(e.ao50=this.state.res.ao50),(null===this.state.best.ao100&&null!==this.state.res.ao100||this.state.res.ao100<this.state.best.ao100)&&(e.ao100=this.state.res.ao100),this.setState({best:e}),this.updateBestAo1000()}}},{key:"updateBestAo1000",value:function(){if(this.state.log.length>999&&this.state.track_best_ao1000){for(var e=this.state.log.slice(),t=0,a=10*this.state.average,s=0,n=0;n<1e3;n++)e[n].res.time<a&&(a=e[n].res.time),e[n].res.time>s&&(s=e[n].res.time),t+=e[n].res.time;((t=(t-s-a)/998)<this.state.bestAo1000||!this.state.bestAo1000)&&this.setState({bestAo1000:t})}}},{key:"forceUpdateBestAo1000",value:function(e){if(e.length>=1e3&&this.state.track_best_ao1000){for(var t=10*this.state.average,a=0;a<e.length-999;a++){for(var s=0,n=10*this.state.average,i=0,o=0;o<1e3;o++)e[o].res.time<n&&(n=e[o].res.time),e[o].res.time>i&&(i=e[o].res.time),s+=e[o].res.time;(s=(s-i-n)/998)<t&&(t=s)}return t}return null}},{key:"saveTime",value:function(){this.setState({log:[{res:this.state.res}].concat(this.state.log)})}},{key:"addTime",value:function(e){var t=1e3*e,a=this.state.reps+1,s=this.calculateMean(3,t,a,!1),n=this.calculateAv(5,t,a,!1),i=this.calculateAv(12,t,a,!1),o=this.calculateAv(50,t,a,!1),r=this.calculateAv(100,t,a,!1),l=this.calculateAverage(t,this.state.validreps+1),c=(new Date).getTime();(null===this.state.best.res||t<this.state.best.res.time)&&this.setState({best:{res:{time:t,id:a,mo3:s,ao5:n,ao12:i,ao50:o,ao100:r,scramble:this.state.res.scramble,timestamp:c,dnf:!1,plus2:!1},mo3:this.state.best.mo3,ao5:this.state.best.ao5,ao12:this.state.best.ao12,ao50:this.state.best.ao50,ao100:this.state.best.ao100}});var h={res:this.state.best.res,mo3:this.state.best.mo3,ao5:this.state.best.ao5,ao12:this.state.best.ao12,ao50:this.state.best.ao50,ao100:this.state.best.ao100};(null===this.state.best.mo3&&null!==this.state.res.mo3||s<this.state.best.mo3)&&(h.mo3=s),(null===this.state.best.ao5&&null!==this.state.res.ao5||n<this.state.best.ao5)&&(h.ao5=n),(null===this.state.best.ao12&&null!==this.state.res.ao12||i<this.state.best.ao12)&&(h.ao12=i),(null===this.state.best.ao50&&null!==this.state.res.ao50||o<this.state.best.ao50)&&(h.ao50=o),(null===this.state.best.ao100&&null!==this.state.res.ao100||r<this.state.best.ao100)&&(h.ao100=r),this.setState({log:[{res:{time:t,id:a,mo3:s,ao5:n,ao12:i,ao50:o,ao100:r,scramble:this.state.res.scramble,timestamp:c,dnf:!1,plus2:!1}}].concat(this.state.log),reps:a,validreps:this.state.validreps+1,average:l,best:h,res:{time:t,id:a,mo3:s,ao5:n,ao12:i,ao50:o,ao100:r,scramble:this.state.res.scramble,timestamp:c,dnf:!1,plus2:!1}},this.updateBestAo1000),this.generateScramble()}},{key:"clearAll",value:function(){this.setState({log:[],reps:0,validreps:0,average:0,cube:this.state.cube,best:{res:null,mo3:null,ao5:null,ao12:null,ao50:null,ao100:null},res:{scramble:this.state.res.scramble,time:null,id:0,mo3:null,ao5:null,ao12:null,ao50:null,ao100:null,timestamp:null,dnf:!1,plus2:!1},bestAo1000:null}),this.resetTime()}},{key:"deleteEntry",value:function(e,t){var a=this.state.log.slice();e=this.state.log.length-e,t>a.length-e&&(t=a.length-e);var s=a.splice(e,t);if(0===a.length)this.clearAll();else{for(var n=0;n<e;n++)a[n].res.id-=t;var i=this.state.average,o=0;for(n=0;n<s.length;n++)s[n].res.dnf?o++:i=(i*(this.state.validreps-n)-s[n].res.time)/(this.state.validreps-n-1);this.state.validreps-t+o===0&&(i=null),this.forceUpdateMean(a,e,3),this.forceUpdateAv(a,e,5),this.forceUpdateAv(a,e,12),this.forceUpdateAv(a,e,50),this.forceUpdateAv(a,e,100),this.setState({log:a,reps:this.state.reps-t,validreps:this.state.validreps-t+o,average:this.forceCalculateAverage(a),best:{res:this.forceUpdateBest(a),mo3:this.forceUpdateBestMo3(a),ao5:this.forceUpdateBestAo5(a),ao12:this.forceUpdateBestAo12(a),ao50:this.forceUpdateBestAo50(a),ao100:this.forceUpdateBestAo100(a)},bestAo1000:this.forceUpdateBestAo1000(a)})}}},{key:"forceUpdateMean",value:function(e,t,a){var s;if(t-=1,3===a)for(s=t;s>t-2;s--)s>=0&&(e[s].res.mo3=this.forceCalculateMean(3,e,s))}},{key:"forceUpdateAv",value:function(e,t,a){var s;if(t-=1,5===a)for(s=t;s>t-4;s--)s>=0&&(e[s].res.ao5=this.forceCalculateAv(5,e,s));if(12===a)for(s=t;s>t-11;s--)s>=0&&(e[s].res.ao12=this.forceCalculateAv(12,e,s));if(50===a)for(s=t;s>t-49;s--)s>=0&&(e[s].res.ao50=this.forceCalculateAv(50,e,s));if(100===a)for(s=t;s>t-99;s--)s>=0&&(e[s].res.ao100=this.forceCalculateAv(100,e,s))}},{key:"forceUpdateBest",value:function(e){var t,a=0;if(e.length>1)for(;e[a].res.dnf&&a<e.length;)a++;t=e[a].res.time;for(var s=a,n=1;n<e.length;n++)e[n].res.time<t&&!e[n].res.dnf&&(t=e[n].res.time,s=n);return e[s].res}},{key:"forceUpdateBestMo3",value:function(e){if(e.length>2){for(var t=0;"dnf"===e[t].res.mo3&&t<e.length;)t++;for(var a=e[t].res.mo3,s=t,n=1;n<e.length-2;n++)e[n].res.mo3<a&&"dnf"!==e[n].res.mo3&&(a=e[n].res.mo3,s=n);return e[s].res.mo3}return null}},{key:"forceUpdateBestAo5",value:function(e){if(e.length>4){for(var t=0;"dnf"===e[t].res.ao5&&t<e.length;)t++;for(var a=e[t].res.ao5,s=t,n=1;n<e.length-4;n++)e[n].res.ao5<a&&"dnf"!==e[n].res.ao5&&(a=e[n].res.ao5,s=n);return e[s].res.ao5}return null}},{key:"forceUpdateBestAo12",value:function(e){if(e.length>11){for(var t=0;"dnf"===e[t].res.ao12&&t<e.length;)t++;for(var a=e[t].res.ao12,s=t,n=1;n<e.length-11;n++)e[n].res.ao12<a&&"dnf"!==e[n].res.ao12&&(a=e[n].res.ao12,s=n);return e[s].res.ao12}return null}},{key:"forceUpdateBestAo50",value:function(e){if(e.length>49){for(var t=0;"dnf"===e[t].res.ao50&&t<e.length;)t++;for(var a=e[t].res.ao50,s=t,n=1;n<e.length-49;n++)e[n].res.ao50<a&&"dnf"!==e[n].res.ao50&&(a=e[n].res.ao50,s=n);return e[s].res.ao50}return null}},{key:"forceUpdateBestAo100",value:function(e){if(e.length>99){for(var t=0;"dnf"===e[t].res.ao100&&t<e.length;)t++;for(var a=e[t].res.ao100,s=t,n=1;n<e.length-99;n++)e[n].res.ao100<a&&"dnf"!==e[n].res.ao100&&(a=e[n].res.ao100,s=n);return e[s].res.ao100}return null}},{key:"startInspection",value:function(){this.setState({fifteen:!0,inspecttime:15}),this.inspection=setInterval(this.updateInspectionTime,1e3)}},{key:"endInspection",value:function(){this.setState({fifteen:!1}),clearInterval(this.inspection)}},{key:"convertToTime",value:function(e){if("dnf"===e)return"DNF";if(0===e||null===e)return"-";var t=(e=Math.floor(e))%1e3,a=(e=(e-t)/1e3)%60,s=(e=(e-a)/60)%60;return e=(e-s)/60,this.state.display_milliseconds||(t=Math.floor(t/10)),this.displayHour(e)+this.displayMinute(e,s)+this.displaySecond(s,a)+"."+this.displayMillisecond(t)}},{key:"displayHour",value:function(e){return e?e+":":""}},{key:"displayMinute",value:function(e,t){return t?t<10&&e?"0"+t+":":t+":":""}},{key:"displaySecond",value:function(e,t){return t<10&&e?"0"+t:t}},{key:"displayMillisecond",value:function(e){if(this.state.display_milliseconds){if(e<10)return"00"+e;if(e<100)return"0"+e}return e<10?"0"+e:e}},{key:"displayAverages",value:function(){if(this.state.show_av)return this.state.log.length?n.a.createElement("div",null,"ao5: ",this.convertToTime(this.state.log[0].res.ao5),n.a.createElement("br",null),"ao12: ",this.convertToTime(this.state.log[0].res.ao12)):n.a.createElement("div",null,"ao5: ",this.convertToTime(this.state.res.ao5),n.a.createElement("br",null),"ao12: ",this.convertToTime(this.state.res.ao12))}},{key:"displayInspection",value:function(){var e=this.state.inspecttime;return e<=-2?n.a.createElement("p",null,"DNF"):e<=0?n.a.createElement("p",null,"+2"):n.a.createElement("p",null,this.displaySecond(0,e))}},{key:"display",value:function(){return this.state.fifteen?this.displayInspection():this.state.stopped&&this.state.res.dnf?n.a.createElement("p",null,"DNF"):null===this.state.time||0===this.state.time?this.state.display_milliseconds?n.a.createElement("p",null,"0.000"):n.a.createElement("p",null,"0.00"):n.a.createElement("p",null,this.displayTime(this.state.time))}},{key:"generateScramble",value:function(){var e;"3x3"===this.state.cube?e=this.state.random_state?this.solve.scramble():function(){var e,t=Math.floor(4*Math.random())+23,a=["U","B","R","D","F","L","U'","B'","R'","D'","F'","L'","U2","B2","R2","D2","F2","L2"],s=.5,n=.5,i=0,o="";for(i=0;i<t;i++)((e=Math.floor(18*Math.random()))%6===s%6||e%6===n%6&&e%3===s%3)&&(0!==e?e--:e++),n=s,s=e,o+=a[e]+" ";return o}():"2x2"===this.state.cube?e=function(){var e,t=Math.floor(2*Math.random())+9,a=["U","R","F","U'","R'","F'","U2","R2","F2"],s=.5,n=0,i="";for(n=0;n<t;n++)(e=Math.floor(9*Math.random()))%3===s%3&&(0!==e?e--:e++),s=e,i+=a[e]+" ";return i}():"4x4"===this.state.cube?e=function(){var e,t=Math.floor(6*Math.random())+37,a=["U","B","R","D","F","L","U'","B'","R'","D'","F'","L'","U2","B2","R2","D2","F2","L2","Rw","Uw","Fw","Rw'","Uw'","Fw'","Rw2","Uw2","Fw2"],s=.5,n=.5,i=0,o="";for(i=0;i<t;i++)((e=Math.floor(27*Math.random()))%6===s%6&&e<18&&s<18||e%6===n%6&&e%3===s%3&&e<18&&s<18||e>=18&&s>=18&&e%3===s%3)&&(0!==e?e--:e++),n=s,s=e,o+=a[e]+" ";return o}():"5x5"===this.state.cube?e=function(){var e,t=["U","B","R","D","F","L","U'","B'","R'","D'","F'","L'","U2","B2","R2","D2","F2","L2","Uw","Bw","Rw","Dw","Fw","Lw","Uw'","Bw'","Rw'","Dw'","Fw'","Lw'","Uw2","Bw2","Rw2","Dw2","Fw2","Lw2"],a=.5,s=.5,n=0,i="";for(n=0;n<60;n++)((e=Math.floor(36*Math.random()))<18&&a<18&&e%6===a%6||e%6===s%6&&e%3===a%3||e>=18&&a>=18&&e%6===a%6||e%6===s%6&&e%3===a%3)&&(0!==e?e--:e++),s=a,a=e,i+=t[e]+" ";return i}():"6x6"===this.state.cube?e=function(){var e,t=["U","B","R","D","F","L","U'","B'","R'","D'","F'","L'","U2","B2","R2","D2","F2","L2","Uw","Bw","Rw","Dw","Fw","Lw","Uw'","Bw'","Rw'","Dw'","Fw'","Lw'","Uw2","Bw2","Rw2","Dw2","Fw2","Lw2","3Rw","3Uw","3Fw","3Rw'","3Uw'","3Fw'","3Rw2","3Uw2","3Fw2"],a=.5,s=.5,n=0,i="";for(n=0;n<80;n++)((e=Math.floor(45*Math.random()))<18&&a<18&&e%6===a%6||e%6===s%6&&e%3===a%3||e>=18&&a>=18&&e<36&&a<36&&e%6===a%6||e%6===s%6&&e%3===a%3||e>36&&a>36&&e%3===a%3)&&(0!==e?e--:e++),s=a,a=e,i+=t[e]+"  ";return i}():"7x7"===this.state.cube&&(e=function(){var e,t=["U","B","R","D","F","L","U'","B'","R'","D'","F'","L'","U2","B2","R2","D2","F2","L2","Uw","Bw","Rw","Dw","Fw","Lw","Uw'","Bw'","Rw'","Dw'","Fw'","Lw'","Uw2","Bw2","Rw2","Dw2","Fw2","Lw2","3Uw","3Bw","3Rw","3Dw","3Fw","3Lw","3Uw'","3Bw'","3Rw'","3Dw'","3Fw'","3Lw'","3Uw2","3Bw2","3Rw2","3Dw2","3Fw2","3Lw2"],a=.5,s=.5,n=0,i="";for(n=0;n<100;n++)((e=Math.floor(54*Math.random()))<18&&a<18&&e%6===a%6||e%6===s%6&&e%3===a%3||e>=18&&a>=18&&e<36&&a<36&&e%6===a%6||e%6===s%6&&e%3===a%3||e>36&&a>36&&e%3===a%3||e%6===s%6&&e%3===a%3)&&(0!==e?e--:e++),s=a,a=e,i+=t[e]+"  ";return i}()),this.setState({res:{scramble:e,id:this.state.res.id,time:this.state.res.time,mo3:this.state.res.mo3,ao5:this.state.res.ao5,ao12:this.state.res.ao12,ao50:this.state.res.ao50,ao100:this.state.res.ao100,timestamp:this.state.res.timestamp,dnf:this.state.res.dnf,plus2:this.state.res.plus2}})}},{key:"saveTheme",value:function(e,t){this.setState({themes:this.state.themes.concat([{name:e,theme:t}])})}},{key:"deleteTheme",value:function(e){var t=this.state.themes;t.splice(e,1),this.setState({themes:t})}},{key:"hideStuff",value:function(){this.state.hide_surroundings&&(document.getElementById("log").style.display="none",document.getElementById("settings").style.display="none",document.getElementById("scramble").style.display="none",document.getElementById("average").style.display="none",document.getElementById("statistics").style.display="none",document.getElementById("account").style.display="none")}},{key:"unhideStuff",value:function(){this.state.hide_surroundings&&(document.getElementById("log").style.display="block",document.getElementById("settings").style.display="block",document.getElementById("scramble").style.display="block",document.getElementById("average").style.display="block",document.getElementById("statistics").style.display="block",document.getElementById("account").style.display="block")}},{key:"colorLuminance",value:function(e,t){(e=String(e).replace(/[^0-9a-f]/gi,"")).length<6&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),t=t||0;var a,s,n="#";for(s=0;s<3;s++)a=parseInt(e.substr(2*s,2),16),n+=("00"+(a=Math.round(Math.min(Math.max(0,a+a*t),255)).toString(16))).substr(a.length);return n}},{key:"changeColor",value:function(e){this.state.party_mode||(document.documentElement.style.setProperty("--primary",e.primary),document.documentElement.style.setProperty("--secondary",e.secondary),document.documentElement.style.setProperty("--accent",e.accent),document.documentElement.style.setProperty("--text",e.text),document.documentElement.style.setProperty("--texthighlighted",e.texthighlighted),document.documentElement.style.setProperty("--dark",this.colorLuminance(e.accent,-.3)),document.documentElement.style.setProperty("--hover",this.colorLuminance(e.accent,-.1)),document.documentElement.style.setProperty("--click",this.colorLuminance(e.accent,-.2))),this.setState({theme:e})}},{key:"partyMode",value:function(){if(this.state.party_mode)this.setState({party_mode:!1}),clearInterval(this.party_mode_timer),this.changeColor(this.state.theme);else{this.setState({party_mode:!0}),document.documentElement.style.setProperty("--secondary","#000"),document.documentElement.style.setProperty("--text","#1d1d1d"),document.documentElement.style.setProperty("--texthighlighted","#000");var e=255,t=0,a=0,s=this.colorLuminance;this.party_mode_timer=setInterval(function(){255===e&&0===a&&255!==t?t++:255===t&&0===a&&0!==e?e--:0===e&&255===t&&255!==a?a++:0===e&&255===a&&0!==t?t--:0===t&&255===a&&255!==e?e++:255===e&&0===t&&0!==a&&a--;document.documentElement.style.setProperty("--primary","rgb("+e+","+t+","+a+")");var n="#"+("rgb("+(255-e)+","+(255-t)+","+(255-a)+")").match(/\d+/g).map(function(e){return(+e<16?"0":"")+(+e).toString(16)}).join("");document.documentElement.style.setProperty("--accent",n),document.documentElement.style.setProperty("--dark",s(n,-.3)),document.documentElement.style.setProperty("--hover",s(n,-.1)),document.documentElement.style.setProperty("--click",s(n,-.2))},33),k.a.event({category:"User",action:"Turned Party Mode On"})}}},{key:"timeHold",value:function(){this.setState({hold_done:!0}),document.getElementById("time").style.color="#2dff57",this.hideStuff(),this.state.fifteen||this.resetTime()}},{key:"onTouchStart",value:function(e){this.setState({canceled:!1}),this.state.running||!this.state.stopped||this.state.modal?this.state.running&&(this.endTime(),this.calculateTime(),document.getElementById("time").style.color="#f73b3b"):!this.state.hold_to_start||this.state.inspection_time&&!this.state.fifteen?(document.getElementById("time").style.color="#2dff57",this.hideStuff(),this.state.fifteen||this.resetTime()):(document.getElementById("time").style.color="#ffff2d",this.hold_touch_timer=setTimeout(this.timeHold,this.state.hold_len))}},{key:"onTouchEnd",value:function(e){this.state.running||!this.state.stopped||this.state.modal||this.state.canceled?this.state.fifteen||this.state.stopped||(document.getElementById("time").style.color="inherit",this.unhideStuff(),this.setState({hold_done:!1}),this.saveTime(),this.updateBests(),this.generateScramble(),this.handleRenderLog(),this.handleStopped()):(this.state.inspection_time&&(this.state.fifteen?this.state.hold_to_start?this.state.hold_done?this.endInspection():(document.getElementById("time").style.color="#f73b3b",clearTimeout(this.hold_touch_timer)):this.endInspection():(document.getElementById("time").style.color="#f73b3b",this.startInspection(),this.state.hold_to_start&&this.setState({hold_done:!1}))),this.state.fifteen||(this.state.hold_to_start?this.state.hold_done?(this.handleStopped(),this.startTime(),document.getElementById("time").style.color="inherit"):(document.getElementById("time").style.color="inherit",clearTimeout(this.hold_touch_timer),this.unhideStuff()):(this.handleStopped(),this.startTime(),document.getElementById("time").style.color="inherit")))}},{key:"onTouchCancel",value:function(e){this.setState({canceled:!0,running:!1,stopped:!0}),this.unhideStuff(),this.state.hold_to_start&&clearTimeout(this.hold_touch_timer),document.getElementById("time").style.color="inherit"}},{key:"onTouchMove",value:function(e){this.onTouchCancel(e)}},{key:"handleModal",value:function(){this.setState({modal:!this.state.modal})}},{key:"handlePartyModeOff",value:function(){this.setState({party_mode:!1})}},{key:"handleScramble",value:function(){this.setState({scramble_on_side:!this.state.scramble_on_side})}},{key:"handleInspection",value:function(){this.setState({inspection_time:!this.state.inspection_time})}},{key:"handleHoldToStart",value:function(){this.setState({hold_to_start:!this.state.hold_to_start})}},{key:"handleShowAv",value:function(){this.setState({show_av:!this.state.show_av})}},{key:"handleShowScramble",value:function(){this.setState({show_scramble:!this.state.show_scramble})}},{key:"handleShowLog",value:function(){this.setState({show_log:!this.state.show_log})}},{key:"handleShowStats",value:function(){this.setState({show_stats:!this.state.show_stats})}},{key:"handleStopped",value:function(){this.setState({stopped:!this.state.stopped})}},{key:"handleRenderLog",value:function(){this.setState({renderlog:!1},this.setState({renderlog:!0}))}},{key:"handleModalFalse",value:function(){this.setState({modal:!1})}},{key:"handleScrambleSize",value:function(e){this.setState({scramble_size:e}),document.getElementById("scramble").style.fontSize=e+"px"}},{key:"handleTimerSize",value:function(e){this.setState({timer_size:e}),document.getElementById("time").style.fontSize=e+"px"}},{key:"handleAvSize",value:function(e){this.setState({av_size:e}),document.getElementById("average").style.fontSize=e+"px"}},{key:"handleSpaceToStop",value:function(){this.setState({space_to_stop:!this.state.space_to_stop})}},{key:"handleDisplayMilliseconds",value:function(){this.setState({display_milliseconds:!this.state.display_milliseconds})}},{key:"handleHideTime",value:function(){this.setState({hide_time:!this.state.hide_time})}},{key:"handleHideSurroundings",value:function(){this.setState({hide_surroundings:!this.state.hide_surroundings})}},{key:"handleHoldLen",value:function(e){e<.1||e>3||this.setState({hold_len:1e3*e})}},{key:"handleStatsTab",value:function(e){this.setState({stats_tab:e})}},{key:"handleHighlightText",value:function(){this.state.highlight_text?document.documentElement.style.setProperty("--highlighted","var(--text)"):document.documentElement.style.setProperty("--highlighted","var(--texthighlighted)"),this.setState({highlight_text:!this.state.highlight_text})}},{key:"handleTrackBestAo1000",value:function(){this.state.track_best_ao1000||this.handleBestAo1000(),this.setState({track_best_ao1000:!this.state.track_best_ao1000})}},{key:"handleEscapeToDNF",value:function(){this.setState({escape_to_dnf:!this.state.escape_to_dnf})}},{key:"handleCube",value:function(e){this.setState({cube:e},this.generateScramble)}},{key:"handleBestAo1000",value:function(){if(this.state.log.length>=1e3){for(var e=this.state.log.slice(),t=10*this.state.average,a=0;a<e.length-999;a++){for(var s=0,n=10*this.state.average,i=0,o=0;o<1e3;o++)e[o].res.time<n&&(n=e[o].res.time),e[o].res.time>i&&(i=e[o].res.time),s+=e[o].res.time;(s=(s-i-n)/998)<t&&(t=s)}this.setState({bestAo1000:t})}else this.setState({bestAo1000:null})}},{key:"handlePlus2",value:function(e){var t,a=this.state.log.slice();for(a[e].res.plus2=!a[e].res.plus2,a[e].res.plus2?a[e].res.time+=2e3:a[e].res.time-=2e3,t=e;t>e-12;t--)t>=0&&t>e-5&&(a[t].res.ao5=this.forceCalculateAv(5,a,t)),t>=0&&(a[t].res.ao12=this.forceCalculateAv(12,a,t));this.setState({log:a,best:{res:this.forceUpdateBest(a),mo3:this.forceUpdateBestMo3(a),ao5:this.forceUpdateBestAo5(a),ao12:this.forceUpdateBestAo12(a),ao50:this.forceUpdateBestAo50(a),ao100:this.forceUpdateBestAo100(a)},average:this.forceCalculateAverage(a)})}},{key:"handleDNF",value:function(e){var t,a=this.state.log.slice();for(a[e].res.dnf=!a[e].res.dnf,a[e].res.dnf?this.setState({validreps:this.state.validreps-1}):this.setState({validreps:this.state.validreps+1}),t=e;t>e-12;t--)t>=0&&t>e-5&&(a[t].res.ao5=this.forceCalculateAv(5,a,t)),t>=0&&(a[t].res.ao12=this.forceCalculateAv(12,a,t));this.setState({log:a,best:{res:this.forceUpdateBest(a),mo3:this.forceUpdateBestMo3(a),ao5:this.forceUpdateBestAo5(a),ao12:this.forceUpdateBestAo12(a),ao50:this.forceUpdateBestAo50(a),ao100:this.forceUpdateBestAo100(a)},average:this.forceCalculateAverage(a)})}},{key:"render",value:function(){var e=this,t=!1;return document.body.onkeydown=function(e){if(!e.repeat)if(32!==e.keyCode||this.state.running||!this.state.stopped||this.state.modal)if(27!==e.keyCode||this.state.modal){if(this.state.running&&18!==e.keyCode&&9!==e.keyCode&&!t){if(this.state.space_to_stop&&32!==e.keyCode)return;t=!0,this.endTime(),this.calculateTime(),document.getElementById("time").style.color="#f73b3b"}}else this.state.stopped?this.resetTime():this.state.escape_to_dnf?(t=!0,this.setState({res:Object(r.a)({},this.state.res,{dnf:!0})}),this.endTime(),this.calculateTime(),document.getElementById("time").style.color="#f73b3b"):(this.reset(),document.getElementById("time").style.color="inherit",this.unhideStuff());else e.preventDefault(),!this.state.hold_to_start||this.state.inspection_time&&!this.state.fifteen?(document.getElementById("time").style.color="#2dff57",this.hideStuff(),this.state.fifteen||this.resetTime()):(document.getElementById("time").style.color="#ffff2d",this.hold_timer=setTimeout(this.timeHold,this.state.hold_len))}.bind(this),document.body.onkeyup=function(e){if(t=!1,32!==e.keyCode||this.state.running||!this.state.stopped||this.state.modal){if(18!==e.keyCode&&9!==e.keyCode&&!this.state.fifteen&&!this.state.stopped){if(this.state.space_to_stop&&32!==e.keyCode&&(27!==e.keyCode||!this.state.escape_to_dnf))return;document.getElementById("time").style.color="inherit",this.unhideStuff(),this.setState({hold_done:!1}),this.saveTime(),this.updateBests(),this.generateScramble(),this.handleRenderLog(),this.handleStopped()}}else this.state.inspection_time&&(this.state.fifteen?this.state.hold_to_start?this.state.hold_done?this.endInspection():(document.getElementById("time").style.color="#f73b3b",clearTimeout(this.hold_timer)):this.endInspection():(document.getElementById("time").style.color="#f73b3b",this.startInspection(),this.state.hold_to_start&&this.setState({hold_done:!1}))),this.state.fifteen||(this.state.hold_to_start?this.state.hold_done?(this.handleStopped(),this.startTime(),document.getElementById("time").style.color="inherit"):(document.getElementById("time").style.color="inherit",this.unhideStuff(),clearTimeout(this.hold_timer)):(this.handleStopped(),this.startTime(),document.getElementById("time").style.color="inherit"))}.bind(this),n.a.createElement("div",{id:"body",className:"timer"},n.a.createElement("div",{className:"log",id:"log"},this.state.show_log?n.a.createElement($,{log:this.state.log,res:this.state.res,best:this.state.best,reps:this.state.reps,running:this.state.running,stopped:this.state.stopped,renderlog:this.state.renderlog,fifteen:this.state.fifteen,average:this.state.average,new_on_top:this.state.new_on_top,sessions:this.state.sessions,session:this.state.session,theme:this.state.theme,isSignedIn:this.state.isSignedIn,loading:this.state.loading,saving:this.state.saving,syncing:this.state.syncing,restoring:this.state.restoring,lastsave:this.state.lastsave,backupsave:this.state.backupsave,handleModal:function(){return e.handleModal()},handlePlus2:function(t){return e.handlePlus2(t)},handleDNF:function(t){return e.handleDNF(t)},clearAll:function(){return e.clearAll()},deleteEntry:function(t,a){return e.deleteEntry(t,a)},addTime:function(t){return e.addTime(t)},downloadFile:function(t,a){return e.downloadFile(t,a)},uploadFile:function(t){return e.uploadFile(t,e.readFileToState)},saveStateToFirebase:this.saveStateToFirebase,loadStateFromFirebase:this.loadStateFromFirebase,syncStateWithFirebase:this.syncStateWithFirebase,newSession:this.newSession,changeSession:function(t){return e.changeSession(t)},saveSession:this.saveSession,deleteSession:function(t){return e.deleteSession(t)},restoreFirebaseBackup:this.restoreFirebaseBackup,undoSaveToFirebase:this.undoSaveToFirebase,undoLoadFromFirebase:this.undoLoadFromFirebase,undoSyncWithFirebase:this.undoSyncWithFirebase}):null),n.a.createElement("div",{className:"scramble",id:"scramble"},this.state.show_scramble?n.a.createElement(Se,{cube:this.state.cube,scramble:this.state.res.scramble,handleCube:this.handleCube}):null),n.a.createElement("div",{className:"average",id:"average"},this.displayAverages()),n.a.createElement("div",{className:"settings",id:"settings"},n.a.createElement(me,{stopped:this.state.stopped,theme:this.state.theme,party_mode:this.state.party_mode,inspection_time:this.state.inspection_time,hold_to_start:this.state.hold_to_start,show_av:this.state.show_av,show_scramble:this.state.show_scramble,show_log:this.state.show_log,scramble_size:this.state.scramble_size,timer_size:this.state.timer_size,av_size:this.state.av_size,hold_len:this.state.hold_len,highlight_text:this.state.highlight_text,space_to_stop:this.state.space_to_stop,display_milliseconds:this.state.display_milliseconds,hide_time:this.state.hide_time,hide_surroundings:this.state.hide_surroundings,track_best_ao1000:this.state.track_best_ao1000,escape_to_dnf:this.state.escape_to_dnf,random_state:this.state.random_state,themes:this.state.themes,handleModal:function(){return e.handleModal()},handleInspection:this.handleInspection,handleHoldToStart:this.handleHoldToStart,handleShowAv:this.handleShowAv,handleShowScramble:this.handleShowScramble,handleShowLog:this.handleShowLog,handleScrambleSize:function(t){return e.handleScrambleSize(t)},handleTimerSize:function(t){return e.handleTimerSize(t)},handleAvSize:function(t){return e.handleAvSize(t)},handleHoldLen:function(t){return e.handleHoldLen(t)},handleHighlightText:this.handleHighlightText,handleSpaceToStop:this.handleSpaceToStop,handleDisplayMilliseconds:this.handleDisplayMilliseconds,handleHideTime:this.handleHideTime,handleHideSurroundings:this.handleHideSurroundings,handleTrackBestAo1000:this.handleTrackBestAo1000,handleEscapeToDNF:this.handleEscapeToDNF,handleRandomState:this.handleRandomState,saveTheme:function(t,a){return e.saveTheme(t,a)},deleteTheme:function(t){return e.deleteTheme(t)},changeColor:function(t){return e.changeColor(t)},partyMode:this.partyMode})),n.a.createElement("div",{className:"statistics",id:"statistics"},n.a.createElement("div",{className:"stats",id:"stats"},this.state.show_stats?n.a.createElement("button",{id:"statsiconon",onClick:this.handleShowStats},n.a.createElement(w.a,{icon:"chart-pie"})):n.a.createElement("button",{id:"statsicon",onClick:this.handleShowStats},n.a.createElement(w.a,{icon:"chart-pie"}))),n.a.createElement(ge,{log:this.state.log,best:this.state.best,average:this.state.average,running:this.state.running,stopped:this.state.stopped,renderlog:this.state.renderlog,reps:this.state.reps,validreps:this.state.validreps,fifteen:this.state.fifteen,theme:this.state.theme,session:this.state.session,bestAo1000:this.state.bestAo1000,show_stats:this.state.show_stats,track_best_ao1000:this.state.track_best_ao1000,stats_tab:this.state.stats_tab,handleShowStats:this.handleShowStats,handleStatsTab:function(t){return e.handleStatsTab(t)}})),n.a.createElement("div",{className:"account",id:"account"},n.a.createElement(pe,{userProfile:this.state.userProfile,isSignedIn:this.state.isSignedIn,theme:this.state.theme,loading:this.state.loading,saving:this.state.saving,lastsave:this.state.lastsave,backupsave:this.state.backupsave,signIn:function(t,a){return e.signIn(t,a)},logOut:this.logOut,handleModal:this.handleModal,loadStateFromFirebase:this.loadStateFromFirebase,saveStateToFirebase:this.saveStateToFirebase,undoSaveToFirebase:this.undoSaveToFirebase,undoLoadFromFirebase:this.undoLoadFromFirebase})),n.a.createElement("div",{id:"time"},!this.state.hide_time||this.state.stopped?n.a.createElement("div",null,this.display()):null))}}]),t}(s.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));k.a.initialize("UA-136117398-1"),k.a.pageview(window.location.pathname+window.location.search),o.a.render(n.a.createElement(we,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[267,1,2]]]);
//# sourceMappingURL=main.a3527613.chunk.js.map