(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{244:function(e,t,a){},252:function(e,t,a){},312:function(e,t,a){e.exports=a(766)},317:function(e,t,a){},379:function(e,t,a){},463:function(e,t,a){},490:function(e,t,a){},492:function(e,t,a){},493:function(e,t,a){},494:function(e,t,a){},495:function(e,t,a){},496:function(e,t,a){},497:function(e,t,a){},539:function(e,t,a){},760:function(e,t,a){},761:function(e,t,a){},762:function(e,t,a){},763:function(e,t,a){},764:function(e,t,a){},765:function(e,t,a){},766:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a.n(s),i=a(40),o=a.n(i),l=(a(317),a(92)),r=a(10),c=a(9),d=a(12),h=a(11),m=a(13),u=a(1),p=a(50),b=a.n(p),v=(b.a.initializeApp({apiKey:"AIzaSyBQ8dnvJkM6-Pa7aqCjCiOPKJ23UjU0Z9A",authDomain:"dandytimer.firebaseapp.com",databaseURL:"https://dandytimer.firebaseio.com",projectId:"dandytimer",storageBucket:"dandytimer.appspot.com",messagingSenderId:"761979688892"}),a(365),a(367),a(8)),f=a(17),g=a(204),y=a.n(g);var E=a(24),S=a.n(E),O=a(27),k=a.n(O),M=a(22),j=(a(379),function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={modalIsOpen:!1},a.openModal=a.openModal.bind(Object(u.a)(Object(u.a)(a))),a.afterOpenModal=a.afterOpenModal.bind(Object(u.a)(Object(u.a)(a))),a.closeModal=a.closeModal.bind(Object(u.a)(Object(u.a)(a))),a.handleClearAll=a.handleClearAll.bind(Object(u.a)(Object(u.a)(a))),a.colorLuminance=a.colorLuminance.bind(Object(u.a)(Object(u.a)(a))),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"openModal",value:function(){this.setState({modalIsOpen:!0}),this.props.handleModal(),f.a.pageview("clear")}},{key:"afterOpenModal",value:function(){document.getElementById("clearconfirm").focus()}},{key:"closeModal",value:function(){this.setState({modalIsOpen:!1}),this.props.handleModal(),f.a.pageview("close")}},{key:"handleClearAll",value:function(){this.props.clearAll(),this.closeModal()}},{key:"colorLuminance",value:function(e,t){(e=String(e).replace(/[^0-9a-f]/gi,"")).length<6&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),t=t||0;var a,s,n="#";for(s=0;s<3;s++)a=parseInt(e.substr(2*s,2),16),n+=("00"+(a=Math.round(Math.min(Math.max(0,a+a*t),255)).toString(16))).substr(a.length);return n}},{key:"render",value:function(){var e=window.getComputedStyle(document.documentElement).getPropertyValue("--accent"),t=Object(M.createMuiTheme)({typography:{useNextVariants:!0},palette:{primary:{main:e,contrastText:this.props.theme.primary,dark:this.colorLuminance(e,-.2),light:this.colorLuminance(e,.2)},secondary:{main:this.colorLuminance(e,-.3),contrastText:this.props.theme.primary,dark:this.colorLuminance(e,-.5),light:this.colorLuminance(e,-.1)}},shadows:Array(25).fill("none")});return n.a.createElement("div",{className:"modal"},n.a.createElement("button",{id:"logstatbtn",onClick:this.openModal},n.a.createElement(v.a,{icon:"times"})),n.a.createElement(S.a,{isOpen:this.state.modalIsOpen,onAfterOpen:this.afterOpenModal,onRequestClose:this.closeModal,ariaHideApp:!1,contentLabel:"Example Modal",className:"ArrowModal",overlayClassName:"ArrowOverlay"},n.a.createElement("div",{className:"clearinfo"},n.a.createElement("h1",{id:"title"},"Clear All"),n.a.createElement("br",null),n.a.createElement("p",null,"This will clear your entire history. Coninue?"),n.a.createElement("div",{className:"choose"},n.a.createElement(M.MuiThemeProvider,{theme:t},n.a.createElement("div",{className:"cancel"},n.a.createElement(k.a,{onClick:this.closeModal,variant:"outlined",color:"primary",className:"confirm",tabIndex:"1"},"Cancel")),n.a.createElement("div",{className:"confirm"},n.a.createElement(k.a,{onClick:this.handleClearAll,id:"clearconfirm",variant:"contained",color:"primary",className:"confirm",tabIndex:"2"},"Confirm")))))))}}]),t}(s.Component)),w=a(60),T=(a(463),function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={modalIsOpen:!1,x:1},a.openModal=a.openModal.bind(Object(u.a)(Object(u.a)(a))),a.afterOpenModal=a.afterOpenModal.bind(Object(u.a)(Object(u.a)(a))),a.closeModal=a.closeModal.bind(Object(u.a)(Object(u.a)(a))),a.handleAdd=a.handleAdd.bind(Object(u.a)(Object(u.a)(a))),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"openModal",value:function(){this.setState({modalIsOpen:!0}),this.props.handleModal(),f.a.pageview("/add")}},{key:"afterOpenModal",value:function(){document.getElementById("clearconfirm").focus()}},{key:"closeModal",value:function(){this.setState({modalIsOpen:!1}),this.props.handleModal(),f.a.pageview("/")}},{key:"handleChange",value:function(e){this.setState({x:e})}},{key:"handleFocus",value:function(e){e.target.select()}},{key:"handleAdd",value:function(){this.props.addTime(this.state.x),this.closeModal()}},{key:"colorLuminance",value:function(e,t){(e=String(e).replace(/[^0-9a-f]/gi,"")).length<6&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),t=t||0;var a,s,n="#";for(s=0;s<3;s++)a=parseInt(e.substr(2*s,2),16),n+=("00"+(a=Math.round(Math.min(Math.max(0,a+a*t),255)).toString(16))).substr(a.length);return n}},{key:"render",value:function(){var e=this,t=window.getComputedStyle(document.documentElement).getPropertyValue("--accent"),a=Object(M.createMuiTheme)({typography:{useNextVariants:!0},palette:{primary:{main:t,contrastText:this.props.theme.primary,dark:this.colorLuminance(t,-.2),light:this.colorLuminance(t,.2)},secondary:{main:this.colorLuminance(t,-.3),contrastText:this.props.theme.primary,dark:this.colorLuminance(t,-.5),light:this.colorLuminance(t,-.1)}},shadows:Array(25).fill("none")});return n.a.createElement("div",{className:"modal"},n.a.createElement("button",{id:"logstatbtn",onClick:this.openModal},n.a.createElement(v.a,{icon:"plus"})),n.a.createElement(S.a,{isOpen:this.state.modalIsOpen,onAfterOpen:this.afterOpenModal,onRequestClose:this.closeModal,ariaHideApp:!1,contentLabel:"Example Modal",className:"ArrowModal",overlayClassName:"ArrowOverlay"},n.a.createElement("div",{className:"clearinfo"},n.a.createElement("h1",{id:"title"},"Add Time"),n.a.createElement("br",null),n.a.createElement("p",null,"Enter your time in seconds:",n.a.createElement(w.a,{className:"input",onFocus:this.handleFocus,min:0,step:.001,value:this.state.x,onChange:function(t){return e.handleChange(t)}})),n.a.createElement("div",{className:"choose"},n.a.createElement(M.MuiThemeProvider,{theme:a},n.a.createElement("div",{className:"cancel"},n.a.createElement(k.a,{onClick:this.closeModal,variant:"outlined",color:"primary",className:"confirm",tabIndex:"1"},"Cancel")),n.a.createElement("div",{className:"confirm"},n.a.createElement(k.a,{onClick:this.handleAdd,id:"clearconfirm",variant:"contained",color:"primary",className:"confirm",tabIndex:"2"},"Confirm")))))))}}]),t}(s.Component)),N=a(25),x=a(32),C=a(83),I=a(306),A=a.n(I),_=(a(490),function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).handleClick=a.handleClick.bind(Object(u.a)(Object(u.a)(a))),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"handleClick",value:function(){this.props.undo()}},{key:"colorLuminance",value:function(e,t){(e=String(e).replace(/[^0-9a-f]/gi,"")).length<6&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),t=t||0;var a,s,n="#";for(s=0;s<3;s++)a=parseInt(e.substr(2*s,2),16),n+=("00"+(a=Math.round(Math.min(Math.max(0,a+a*t),255)).toString(16))).substr(a.length);return n}},{key:"render",value:function(){var e=Object(M.createMuiTheme)({typography:{useNextVariants:!0},palette:{primary:{main:this.colorLuminance(this.props.theme.primary,.3),contrastText:this.props.theme.accent,dark:this.colorLuminance(this.props.theme.primary,.1),light:this.colorLuminance(this.props.theme.primary,.4)}},shadows:Array(25).fill("none")});return n.a.createElement("div",{className:"undo"},n.a.createElement(M.MuiThemeProvider,{theme:e},n.a.createElement("div",{className:"undobtn"},n.a.createElement(A.a,{onClick:this.handleClick,variant:"extended",color:"primary",className:"undofab"},"\xa0\xa0\xa0\xa0\xa0\xa0UNDO\xa0\xa0\xa0\xa0\xa0\xa0"))))}}]),t}(s.Component)),F=(a(243),a(492),function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={modalIsOpen:!1,tab:"left",filename:"dandytimer_results",selectedfile:null,upfilename:"no file chosen",saved:!1,loaded:!1,restored:!1},a.openModal=a.openModal.bind(Object(u.a)(Object(u.a)(a))),a.afterOpenModal=a.afterOpenModal.bind(Object(u.a)(Object(u.a)(a))),a.closeModal=a.closeModal.bind(Object(u.a)(Object(u.a)(a))),a.handleFileName=a.handleFileName.bind(Object(u.a)(Object(u.a)(a))),a.handleSelectedFile=a.handleSelectedFile.bind(Object(u.a)(Object(u.a)(a))),a.colorLuminance=a.colorLuminance.bind(Object(u.a)(Object(u.a)(a))),a.handleClick=a.handleClick.bind(Object(u.a)(Object(u.a)(a))),a.generageName=a.generateName.bind(Object(u.a)(Object(u.a)(a))),a.handleSaveFirebase=a.handleSaveFirebase.bind(Object(u.a)(Object(u.a)(a))),a.handleLoadFirebase=a.handleLoadFirebase.bind(Object(u.a)(Object(u.a)(a))),a.handleRestoreFirebase=a.handleRestoreFirebase.bind(Object(u.a)(Object(u.a)(a))),a.handleUndoSave=a.handleUndoSave.bind(Object(u.a)(Object(u.a)(a))),a.handleUndoLoad=a.handleUndoLoad.bind(Object(u.a)(Object(u.a)(a))),a.handleUndoRestore=a.handleUndoRestore.bind(Object(u.a)(Object(u.a)(a))),a.inputRef=n.a.createRef(),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"openModal",value:function(){this.setState({modalIsOpen:!0}),this.props.handleModal(),this.generateName(),document.documentElement.style.setProperty("--tabselect","var(--primary)"),document.documentElement.style.setProperty("--tab","rgba(0, 0, 0, .3)"),f.a.pageview("/downup")}},{key:"afterOpenModal",value:function(){}},{key:"closeModal",value:function(){this.setState({modalIsOpen:!1,saved:!1,loaded:!1,restored:!1}),this.props.handleModal(),document.documentElement.style.setProperty("--tab","var(--primary)"),document.documentElement.style.setProperty("--tabselect","rgba(0, 0, 0, .3)"),f.a.pageview("/")}},{key:"handleFocus",value:function(e){e.target.select()}},{key:"handleFileName",value:function(e){this.setState({filename:e.target.value})}},{key:"generateName",value:function(){var e=new Date,t="dandyresults-"+(e.getMonth()+1)+"-"+e.getDate()+"-"+e.getFullYear()+"-"+e.getHours()+e.getMinutes();this.setState({filename:t})}},{key:"handleSelectedFile",value:function(e){e.target.files[0].name&&this.setState({upfilename:e.target.files[0].name}),this.setState({selectedfile:e.target.files[0]})}},{key:"handleClick",value:function(){this.inputRef&&this.inputRef.current&&this.inputRef.current.click()}},{key:"handleSaveFirebase",value:function(){this.props.saveStateToFirebase(),this.setState({saved:!0})}},{key:"handleLoadFirebase",value:function(){this.props.loadStateFromFirebase(),this.setState({loaded:!0})}},{key:"handleRestoreFirebase",value:function(){this.props.restoreFirebaseBackup(),this.setState({restored:!0})}},{key:"handleUndoSave",value:function(){this.props.undoSaveToFirebase(),this.setState({saved:!1})}},{key:"handleUndoLoad",value:function(){this.props.undoLoadFromFirebase(),this.setState({loaded:!1})}},{key:"handleUndoRestore",value:function(){this.props.undoLoadFromFirebase(),this.setState({restored:!1})}},{key:"colorLuminance",value:function(e,t){(e=String(e).replace(/[^0-9a-f]/gi,"")).length<6&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),t=t||0;var a,s,n="#";for(s=0;s<3;s++)a=parseInt(e.substr(2*s,2),16),n+=("00"+(a=Math.round(Math.min(Math.max(0,a+a*t),255)).toString(16))).substr(a.length);return n}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"modal"},n.a.createElement("button",{id:"logstatbtn",onClick:this.openModal},n.a.createElement(v.a,{icon:"arrow-down"}),n.a.createElement(v.a,{icon:"arrow-up"})),n.a.createElement(S.a,{isOpen:this.state.modalIsOpen,onAfterOpen:this.afterOpenModal,onRequestClose:this.closeModal,ariaHideApp:!1,contentLabel:"Example Modal",className:"DownUpModal",overlayClassName:"DownUpOverlay"},n.a.createElement("div",{className:"downupinfo"},n.a.createElement(x.d,{defaultIndex:0,className:"downup-tabs"},n.a.createElement("div",{className:"toptab"},n.a.createElement(x.b,null,n.a.createElement(x.a,{className:"lefttab"},n.a.createElement("h1",null,"Export")),n.a.createElement(x.a,{className:"righttab"},n.a.createElement("h1",null,"Import")))),n.a.createElement("div",{className:"pages"},n.a.createElement(x.c,null,n.a.createElement("h2",null,"Download JSON File"),n.a.createElement("input",{className:"downinput",type:"string",value:this.state.filename,onChange:this.handleFileName}),n.a.createElement(N.AwesomeButton,{action:function(){return e.props.downloadFile(e.state.filename,"application/json")},type:"primary",className:"downloadbtn",id:"downloadbtn",size:"small"},n.a.createElement("div",{id:"downicon"},n.a.createElement(v.a,{icon:"download"}))),n.a.createElement("h2",null,"Save To Your Account"),this.props.isSignedIn?n.a.createElement("div",{className:"signinmsg"},n.a.createElement("div",{className:"timestamp"},"saved on ",this.props.lastsave),n.a.createElement(N.AwesomeButton,{action:this.handleSaveFirebase,type:"primary",className:"firebasebtn",id:"firebasebtn",size:"small"},n.a.createElement("div",{id:"downicon"},n.a.createElement(v.a,{icon:"file-upload"}))),n.a.createElement(C.ClipLoader,{css:{display:"inline-block",verticalAlign:"bottom",marginBottom:"7px"},sizeUnit:"px",size:35,color:this.props.theme.accent,loading:this.props.saving}),this.state.saved&&!this.props.saving?n.a.createElement("div",{className:"undodu"},n.a.createElement(_,{theme:this.props.theme,undo:this.handleUndoSave})):null):n.a.createElement("div",{className:"signinmsg"},"Sign in to save to your account")),n.a.createElement(x.c,null,n.a.createElement("h2",null,"Upload JSON File"),n.a.createElement("div",{style:{height:"0px",overflow:"hidden"}},n.a.createElement("input",{type:"file",ref:this.inputRef,onChange:this.handleSelectedFile})),n.a.createElement("button",{className:"upinput",onClick:this.handleClick},this.state.upfilename),n.a.createElement(N.AwesomeButton,{action:function(){return e.props.uploadFile(e.state.selectedfile)},type:"primary",className:"downloadbtn",id:"downloadbtn",size:"small"},n.a.createElement("div",{id:"downicon"},n.a.createElement(v.a,{icon:"upload"}))),n.a.createElement("h2",null,"Load From Your Account"),this.props.isSignedIn?n.a.createElement("div",{className:"signinmsg"},n.a.createElement("div",{className:"timestamp"},"saved on ",this.props.lastsave),n.a.createElement(N.AwesomeButton,{action:this.handleLoadFirebase,type:"primary",className:"firebasebtn",id:"firebasebtn",size:"small"},n.a.createElement("div",{id:"downicon"},n.a.createElement(v.a,{icon:"file-download"}))),n.a.createElement(C.ClipLoader,{css:{display:"inline-block",verticalAlign:"bottom",marginBottom:"7px"},sizeUnit:"px",size:35,color:this.props.theme.accent,loading:this.props.loading}),this.state.loaded&&!this.props.loading?n.a.createElement("div",{className:"undodu"},n.a.createElement(_,{theme:this.props.theme,undo:this.handleUndoLoad})):null):n.a.createElement("div",{className:"signinmsg"},"Sign in to load from your account"),this.props.isSignedIn&&this.props.backupsave?n.a.createElement("div",null,n.a.createElement("h2",null,"...Or Restore From Backup"),n.a.createElement("div",{className:"signinmsg"},n.a.createElement("div",{className:"timestamp"},"saved on ",this.props.backupsave),n.a.createElement(N.AwesomeButton,{action:this.handleRestoreFirebase,type:"primary",className:"firebasebtn",id:"firebasebtn",size:"small"},n.a.createElement("div",{id:"downicon"},n.a.createElement(v.a,{icon:"file-download"}))),n.a.createElement(C.ClipLoader,{css:{display:"inline-block",verticalAlign:"bottom",marginBottom:"7px"},sizeUnit:"px",size:35,color:this.props.theme.accent,loading:this.props.restoring}),this.state.restored&&!this.props.restoring?n.a.createElement("div",{className:"undodu"},n.a.createElement(_,{theme:this.props.theme,undo:this.handleUndoRestore})):null)):null))))))}}]),t}(s.Component)),L=(a(493),function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).afterOpenModal=a.afterOpenModal.bind(Object(u.a)(Object(u.a)(a))),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"afterOpenModal",value:function(){}},{key:"handleFocus",value:function(e){e.target.select()}},{key:"colorLuminance",value:function(e,t){(e=String(e).replace(/[^0-9a-f]/gi,"")).length<6&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),t=t||0;var a,s,n="#";for(s=0;s<3;s++)a=parseInt(e.substr(2*s,2),16),n+=("00"+(a=Math.round(Math.min(Math.max(0,a+a*t),255)).toString(16))).substr(a.length);return n}},{key:"render",value:function(){var e=window.getComputedStyle(document.documentElement).getPropertyValue("--accent"),t=Object(M.createMuiTheme)({typography:{useNextVariants:!0},palette:{primary:{main:e,contrastText:this.props.theme.primary,dark:this.colorLuminance(e,-.2),light:this.colorLuminance(e,.2)},secondary:{main:this.colorLuminance(e,-.3),contrastText:this.props.theme.primary,dark:this.colorLuminance(e,-.5),light:this.colorLuminance(e,-.1)}},shadows:Array(25).fill("none")});return n.a.createElement("div",{className:"modal"},this.props.modalIsOpen?n.a.createElement(S.a,{isOpen:this.props.modalIsOpen,onAfterOpen:this.afterOpenModal,onRequestClose:this.props.closeModal,ariaHideApp:!1,contentLabel:"Example Modal",className:"TimeModal",overlayClassName:"TimeOverlay"},n.a.createElement("div",{className:"averageinfo"},n.a.createElement("h3",{id:"titleav"},"About"),n.a.createElement("br",null),n.a.createElement("div",{className:"about"},n.a.createElement("p",null,n.a.createElement("b",null,"dandytimer")," is made with love, and I hope you enjoy."),n.a.createElement("p",null,"I am (at the time of writing) a junior at the University of Minnesota majoring in Computer Science. I've loved cubing for the past 7 or so years, and made this cube timer to practice using the same frameworks that I'm expected to use at my internship. Not only has it been a great learning experience, it's been something that I've genuinely enjoyed working on."),n.a.createElement("p",null,"The source code for this project can be found\xa0",n.a.createElement("a",{href:"https://github.com/danieldylla/dandytimer",target:"_blank",rel:"noopener noreferrer"},"here"),". If you find any bugs or problems with dandytimer, let me know by raising an issue on the github linked. If you have any suggestions for this project, feel free to email me at my personal email, ",n.a.createElement("em",null,"daniel.dylla@gmail.com"),".")),n.a.createElement("div",{className:"avbuttons"},n.a.createElement(M.MuiThemeProvider,{theme:t},n.a.createElement("div",{className:"confirm"},n.a.createElement(k.a,{onClick:this.props.closeModal,id:"confirm",variant:"contained",color:"primary",className:"confirm",tabIndex:"2"},"ok")))))):null)}}]),t}(s.Component)),B=(a(494),function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).afterOpenModal=a.afterOpenModal.bind(Object(u.a)(Object(u.a)(a))),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"afterOpenModal",value:function(){document.getElementById("clearconfirm").focus()}},{key:"handleFocus",value:function(e){e.target.select()}},{key:"handleDeleteSession",value:function(e){this.props.deleteSession(e),this.props.closeModal()}},{key:"colorLuminance",value:function(e,t){(e=String(e).replace(/[^0-9a-f]/gi,"")).length<6&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),t=t||0;var a,s,n="#";for(s=0;s<3;s++)a=parseInt(e.substr(2*s,2),16),n+=("00"+(a=Math.round(Math.min(Math.max(0,a+a*t),255)).toString(16))).substr(a.length);return n}},{key:"render",value:function(){var e=this,t=window.getComputedStyle(document.documentElement).getPropertyValue("--accent"),a=Object(M.createMuiTheme)({typography:{useNextVariants:!0},palette:{primary:{main:t,contrastText:this.props.theme.primary,dark:this.colorLuminance(t,-.2),light:this.colorLuminance(t,.2)},secondary:{main:this.colorLuminance(t,-.3),contrastText:this.props.theme.primary,dark:this.colorLuminance(t,-.5),light:this.colorLuminance(t,-.1)}},shadows:Array(25).fill("none")});return n.a.createElement("div",{className:"modal"},this.props.modalIsOpen?n.a.createElement(S.a,{isOpen:this.props.modalIsOpen,onAfterOpen:this.afterOpenModal,onRequestClose:this.props.closeModal,ariaHideApp:!1,contentLabel:"Example Modal",className:"DeleteSessionModal",overlayClassName:"DeleteSessionOverlay"},n.a.createElement("div",{className:"deletesessinfo"},n.a.createElement("h1",{id:"dstitle"},"Delete Session"),n.a.createElement("br",null),n.a.createElement("p",{className:"dsinfo"},"Are you sure that you want to delete this session? This cannot be undone."),n.a.createElement("div",{className:"sesschoose"},n.a.createElement(M.MuiThemeProvider,{theme:a},n.a.createElement("div",{className:"sesscancel"},n.a.createElement(k.a,{onClick:this.props.closeModal,variant:"outlined",color:"primary",className:"confirm",tabIndex:"1"},"Cancel")),n.a.createElement("div",{className:"sessconfirm"},n.a.createElement(k.a,{onClick:function(){return e.handleDeleteSession(e.props.id)},id:"clearconfirm",variant:"contained",color:"primary",className:"confirm",tabIndex:"2"},"Confirm")))))):null)}}]),t}(s.Component)),D=(a(495),function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={deleteSessionModalIsOpen:!1,deleteId:0},a.afterOpenModal=a.afterOpenModal.bind(Object(u.a)(Object(u.a)(a))),a.convertToTime=a.convertToTime.bind(Object(u.a)(Object(u.a)(a))),a.openDeleteSessionModal=a.openDeleteSessionModal.bind(Object(u.a)(Object(u.a)(a))),a.closeDeleteSessionModal=a.closeDeleteSessionModal.bind(Object(u.a)(Object(u.a)(a))),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.setState({deleteSessionModalIsOpen:!1})}},{key:"afterOpenModal",value:function(){}},{key:"openDeleteSessionModal",value:function(e){this.setState({deleteSessionModalIsOpen:!0,deleteId:e})}},{key:"closeDeleteSessionModal",value:function(){this.setState({deleteSessionModalIsOpen:!1})}},{key:"colorLuminance",value:function(e,t){(e=String(e).replace(/[^0-9a-f]/gi,"")).length<6&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),t=t||0;var a,s,n="#";for(s=0;s<3;s++)a=parseInt(e.substr(2*s,2),16),n+=("00"+(a=Math.round(Math.min(Math.max(0,a+a*t),255)).toString(16))).substr(a.length);return n}},{key:"displayHour",value:function(e){return e?e+":":""}},{key:"displayMinute",value:function(e,t){return t?t<10&&e?"0"+t+":":t+":":""}},{key:"displaySecond",value:function(e,t){return t<10&&e?"0"+t:t}},{key:"displayMillisecond",value:function(e){return e<10?"0"+e:e}},{key:"convertToTime",value:function(e){if("dnf"===e)return"DNF";if(0===e||null===e)return"-";var t=(e=Math.floor(e))%1e3,a=(e=(e-t)/1e3)%60,s=(e=(e-a)/60)%60;return e=(e-s)/60,t=Math.floor(t/10),this.displayHour(e)+this.displayMinute(e,s)+this.displaySecond(s,a)+"."+this.displayMillisecond(t)}},{key:"displaySessions",value:function(){var e=this,t=this.props.sessions.slice().map(function(t,a){return n.a.createElement("li",{className:"sessionbtn",key:a},n.a.createElement("button",{className:"choosesess",onClick:function(){return e.props.changeSession(a)}},n.a.createElement("h3",{className:"sessionname"},t.name?t.name:a+1),n.a.createElement("div",{className:"midsess"},"Solves: ",t.reps," ",n.a.createElement("br",null),"Average: ",e.convertToTime(t.average)),n.a.createElement(v.a,{className:"deletesess",icon:"times",onClick:function(){return e.openDeleteSessionModal(a)}})))});return n.a.createElement("ul",{className:"sesslist"},t)}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"modal"},n.a.createElement(S.a,{isOpen:this.props.modalIsOpen,onAfterOpen:this.afterOpenModal,onRequestClose:this.props.closeModal,ariaHideApp:!1,contentLabel:"Example Modal",className:"SessionModal",overlayClassName:"SessionOverlay"},n.a.createElement("div",{className:"sessinfo"},n.a.createElement("h1",{id:"titlesess"},"Sessions"),n.a.createElement("br",null),n.a.createElement("div",{className:"sessions"},this.displaySessions()),n.a.createElement("div",{className:"addsess"},n.a.createElement("button",{className:"newsess",onClick:this.props.newSession},n.a.createElement(v.a,{icon:"plus"}))))),n.a.createElement(B,{theme:this.props.theme,id:this.state.deleteId,modalIsOpen:this.state.deleteSessionModalIsOpen,openModal:this.openDeleteSessionModal,closeModal:this.closeDeleteSessionModal,newSession:this.props.newSession,deleteSession:function(t){return e.props.deleteSession(t)}}))}}]),t}(s.Component)),z=(a(496),function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={aboutModalIsOpen:!1},a.openAboutModal=a.openAboutModal.bind(Object(u.a)(Object(u.a)(a))),a.closeAboutModal=a.closeAboutModal.bind(Object(u.a)(Object(u.a)(a))),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"openAboutModal",value:function(){this.setState({aboutModalIsOpen:!0}),this.props.handleModal(),f.a.pageview("/about")}},{key:"closeAboutModal",value:function(){this.setState({aboutModalIsOpen:!1}),this.props.handleModal(),f.a.pageview("/")}},{key:"displayHour",value:function(e){return e?e+":":""}},{key:"displayMinute",value:function(e,t){return t?t<10&&e?"0"+t+":":t+":":""}},{key:"displaySecond",value:function(e,t){return t<10&&e?"0"+t:t}},{key:"displayMillisecond",value:function(e){return e<10?"0"+e:e}},{key:"convertToTime",value:function(e){if("dnf"===e)return"DNF";if(0===e||null===e||0===this.props.reps)return"-";var t=(e=Math.floor(e))%1e3,a=(e=(e-t)/1e3)%60,s=(e=(e-a)/60)%60;return e=(e-s)/60,t=Math.floor(t/10),this.displayHour(e)+this.displayMinute(e,s)+this.displaySecond(s,a)+"."+this.displayMillisecond(t)}},{key:"displaySingle",value:function(e){return null===e?"-":e.plus2?this.convertToTime(e.time)+"+":n.a.createElement("div",null,this.convertToTime(e.time))}},{key:"findMo3BestIndex",value:function(e){var t;for(t=0;t<this.props.log.length;t++)if(e===this.props.log[t].res.mo3)return t}},{key:"findAo5BestIndex",value:function(e){var t;for(t=0;t<this.props.log.length;t++)if(e===this.props.log[t].res.ao5)return t}},{key:"findAo12BestIndex",value:function(e){var t;for(t=0;t<this.props.log.length;t++)if(e===this.props.log[t].res.ao12)return t}},{key:"findAo50BestIndex",value:function(e){var t;for(t=0;t<this.props.log.length;t++)if(e===this.props.log[t].res.ao50)return t}},{key:"findAo100BestIndex",value:function(e){var t;for(t=0;t<this.props.log.length;t++)if(e===this.props.log[t].res.ao100)return t}},{key:"displayStats",value:function(){var e=this,t=this.findMo3BestIndex(this.props.best.mo3),a=this.findAo5BestIndex(this.props.best.ao5),s=this.findAo12BestIndex(this.props.best.ao12),i=this.findAo50BestIndex(this.props.best.ao50),o=this.findAo100BestIndex(this.props.best.ao100);return n.a.createElement("div",{className:"topstats"},n.a.createElement("div",{className:"third",id:"rowlabel"},"single"),n.a.createElement("button",{className:"third",onClick:this.props.res?function(){return e.props.openTimeModal(0,e.props.res)}:null},this.displaySingle(this.props.res)),n.a.createElement("button",{className:"third",onClick:this.props.best.res?function(){return e.props.openTimeModal(e.props.log.length-e.props.best.res.id,e.props.best.res)}:null},this.displaySingle(this.props.best.res)),n.a.createElement("div",{className:"third",id:"rowlabel"},"mo3"),n.a.createElement("button",{className:"third",onClick:this.props.res.mo3?function(){return e.props.openAvModal(0,e.props.res,e.props.res.mo3,3)}:null},this.convertToTime(this.props.res.mo3)),n.a.createElement("button",{className:"third",onClick:this.props.best.mo3?function(){return e.props.openAvModal(t,e.props.log[t].res,e.props.log[t].res.mo3,3)}:null},this.convertToTime(this.props.best.mo3)),n.a.createElement("div",{className:"third",id:"rowlabel"},"ao5"),n.a.createElement("button",{className:"third",onClick:this.props.res.ao5?function(){return e.props.openAvModal(0,e.props.res,e.props.res.ao5,5)}:null},this.convertToTime(this.props.res.ao5)),n.a.createElement("button",{className:"third",onClick:this.props.best.ao5?function(){return e.props.openAvModal(a,e.props.log[a].res,e.props.log[a].res.ao5,5)}:null},this.convertToTime(this.props.best.ao5)),n.a.createElement("div",{className:"third",id:"rowlabel"},"ao12"),n.a.createElement("button",{className:"third",onClick:this.props.res.ao12?function(){return e.props.openAvModal(0,e.props.res,e.props.res.ao12,12)}:null},this.convertToTime(this.props.res.ao12)),n.a.createElement("button",{className:"third",onClick:this.props.best.ao12?function(){return e.props.openAvModal(s,e.props.log[s].res,e.props.log[s].res.ao12,12)}:null},this.convertToTime(this.props.best.ao12)),n.a.createElement("div",{className:"third",id:"rowlabel"},"ao50"),n.a.createElement("button",{className:"third",onClick:this.props.res.ao50?function(){return e.props.openAvModal(0,e.props.res,e.props.res.ao50,50)}:null},this.convertToTime(this.props.res.ao50)),n.a.createElement("button",{className:"third",onClick:this.props.best.ao50?function(){return e.props.openAvModal(i,e.props.log[i].res,e.props.log[i].res.ao50,50)}:null},this.convertToTime(this.props.best.ao50)),n.a.createElement("div",{className:"third",id:"rowlabel"},"ao100"),n.a.createElement("button",{className:"third",onClick:this.props.res.ao100?function(){return e.props.openAvModal(0,e.props.res,e.props.res.ao100,100)}:null},this.convertToTime(this.props.res.ao100)),n.a.createElement("button",{className:"third",onClick:this.props.best.ao100?function(){return e.props.openAvModal(o,e.props.log[o].res,e.props.log[o].res.ao100,100)}:null},this.convertToTime(this.props.best.ao100)))}},{key:"render",value:function(){var e=this;return n.a.createElement("div",null,n.a.createElement("div",{className:"logstats"},n.a.createElement("h4",{onClick:this.openAboutModal},"dandytimer"),n.a.createElement(L,{theme:this.props.theme,modalIsOpen:this.state.aboutModalIsOpen,openModal:this.openAboutModal,closeModal:this.closeAboutModal}),n.a.createElement(D,{theme:this.props.theme,sessions:this.props.sessions,session:this.props.session,modalIsOpen:this.props.sessionModalIsOpen,openModal:this.props.openSessionModal,closeModal:this.props.closeSessionModal,newSession:this.props.newSession,changeSession:function(t){return e.props.changeSession(t)},deleteSession:function(t){return e.props.deleteSession(t)}}),n.a.createElement("div",{className:"third",id:"columnlabel"},n.a.createElement("p",null)),n.a.createElement("div",{className:"third",id:"columnlabel"},"current"),n.a.createElement("div",{className:"third",id:"columnlabel"},"best"),this.displayStats(),n.a.createElement("div",{className:"dothings"},n.a.createElement("div",{className:"third",id:"columnlabel"},n.a.createElement(T,{theme:this.props.theme,addTime:function(t){return e.props.addTime(t)},handleModal:function(){return e.props.handleModal()}})),n.a.createElement("div",{className:"third",id:"columnlabel"},n.a.createElement(F,{theme:this.props.theme,isSignedIn:this.props.isSignedIn,loading:this.props.loading,saving:this.props.saving,restoring:this.props.restoring,lastsave:this.props.lastsave,backupsave:this.props.backupsave,downloadFile:this.props.downloadFile,uploadFile:this.props.uploadFile,saveStateToFirebase:this.props.saveStateToFirebase,loadStateFromFirebase:this.props.loadStateFromFirebase,handleModal:function(){return e.props.handleModal()},restoreFirebaseBackup:this.props.restoreFirebaseBackup,undoSaveToFirebase:this.props.undoSaveToFirebase,undoLoadFromFirebase:this.props.undoLoadFromFirebase})),n.a.createElement("div",{className:"third",id:"columnlabel"},n.a.createElement(j,{theme:this.props.theme,clearAll:function(){return e.props.clearAll()},handleModal:function(){return e.props.handleModal()}}))),n.a.createElement("div",{className:"toprow"},n.a.createElement("div",{className:"quarter",id:"sessclick",onClick:this.props.openSessionModal},this.props.session+1),n.a.createElement("div",{className:"quarter"},"time"),n.a.createElement("div",{className:"quarter"},"ao5"),n.a.createElement("div",{className:"quarter"},"ao12"))))}}]),t}(s.Component)),U=(a(497),function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={x:1},a.afterOpenModal=a.afterOpenModal.bind(Object(u.a)(Object(u.a)(a))),a.handleDelete=a.handleDelete.bind(Object(u.a)(Object(u.a)(a))),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"afterOpenModal",value:function(){document.getElementById("clearconfirm").focus()}},{key:"handleChange",value:function(e){this.setState({x:e})}},{key:"handleFocus",value:function(e){e.target.select()}},{key:"handleDelete",value:function(e){this.props.deleteEntry(e,this.state.x),this.setState({x:1}),this.props.closeModal()}},{key:"colorLuminance",value:function(e,t){(e=String(e).replace(/[^0-9a-f]/gi,"")).length<6&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),t=t||0;var a,s,n="#";for(s=0;s<3;s++)a=parseInt(e.substr(2*s,2),16),n+=("00"+(a=Math.round(Math.min(Math.max(0,a+a*t),255)).toString(16))).substr(a.length);return n}},{key:"render",value:function(){var e=this,t=window.getComputedStyle(document.documentElement).getPropertyValue("--accent"),a=Object(M.createMuiTheme)({typography:{useNextVariants:!0},palette:{primary:{main:t,contrastText:this.props.theme.primary,dark:this.colorLuminance(t,-.2),light:this.colorLuminance(t,.2)},secondary:{main:this.colorLuminance(t,-.3),contrastText:this.props.theme.primary,dark:this.colorLuminance(t,-.5),light:this.colorLuminance(t,-.1)}},shadows:Array(25).fill("none")});return n.a.createElement("div",{className:"modal"},this.props.modalIsOpen?n.a.createElement(S.a,{isOpen:this.props.modalIsOpen,onAfterOpen:this.afterOpenModal,onRequestClose:this.props.closeModal,ariaHideApp:!1,contentLabel:"Example Modal",className:"ArrowModal",overlayClassName:"ArrowOverlay"},n.a.createElement("div",{className:"clearinfo"},n.a.createElement("h1",{id:"title"},"Delete Time"),n.a.createElement("br",null),n.a.createElement("p",null,"How many results would you like to delete?",n.a.createElement(w.a,{className:"input",onFocus:this.handleFocus,min:1,step:1,value:this.state.x,onChange:function(t){return e.handleChange(t)}})),n.a.createElement("div",{className:"choose"},n.a.createElement(M.MuiThemeProvider,{theme:a},n.a.createElement("div",{className:"cancel"},n.a.createElement(k.a,{onClick:this.props.closeModal,variant:"outlined",color:"primary",className:"confirm",tabIndex:"1"},"Cancel")),n.a.createElement("div",{className:"confirm"},n.a.createElement(k.a,{onClick:function(){return e.handleDelete(e.props.res.id)},id:"clearconfirm",variant:"contained",color:"primary",className:"confirm",tabIndex:"2"},"Confirm")))))):null)}}]),t}(s.Component)),H=(a(244),function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={modalIsOpen:!1,dnf:a.props.res.dnf},a.openModal=a.openModal.bind(Object(u.a)(Object(u.a)(a))),a.afterOpenModal=a.afterOpenModal.bind(Object(u.a)(Object(u.a)(a))),a.closeModal=a.closeModal.bind(Object(u.a)(Object(u.a)(a))),a.convertToTime=a.convertToTime.bind(Object(u.a)(Object(u.a)(a))),a.copyTime=a.copyTime.bind(Object(u.a)(Object(u.a)(a))),a.plus2=a.plus2.bind(Object(u.a)(Object(u.a)(a))),a.dnf=a.dnf.bind(Object(u.a)(Object(u.a)(a))),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"openModal",value:function(){this.setState({modalIsOpen:!0})}},{key:"afterOpenModal",value:function(){document.getElementById("confirm").focus()}},{key:"closeModal",value:function(){this.setState({modalIsOpen:!1})}},{key:"handleFocus",value:function(e){e.target.select()}},{key:"copyTime",value:function(e){document.body.insertAdjacentHTML("beforeend",'<div id="copy" contenteditable>'+e+"</div>"),document.getElementById("copy").focus(),document.execCommand("selectAll"),document.execCommand("copy"),document.getElementById("copy").remove()}},{key:"colorLuminance",value:function(e,t){(e=String(e).replace(/[^0-9a-f]/gi,"")).length<6&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),t=t||0;var a,s,n="#";for(s=0;s<3;s++)a=parseInt(e.substr(2*s,2),16),n+=("00"+(a=Math.round(Math.min(Math.max(0,a+a*t),255)).toString(16))).substr(a.length);return n}},{key:"displayHour",value:function(e){return e?e+":":""}},{key:"displayMinute",value:function(e,t){return t?t<10&&e?"0"+t+":":t+":":""}},{key:"displaySecond",value:function(e,t){return t<10&&e?"0"+t:t}},{key:"displayMillisecond",value:function(e){return e<10?"0"+e:e}},{key:"displayLogEntry",value:function(e){return e.dnf?n.a.createElement("span",null,"DNF"):e.plus2?n.a.createElement("span",null,this.convertToTime(e.time)+"+"):n.a.createElement("span",null,this.convertToTime(e.time))}},{key:"convertToTime",value:function(e){if("dnf"===e)return"DNF";if(0===e||null===e)return"-";var t=(e=Math.floor(e))%1e3,a=(e=(e-t)/1e3)%60,s=(e=(e-a)/60)%60;return e=(e-s)/60,t=Math.floor(t/10),this.displayHour(e)+this.displayMinute(e,s)+this.displaySecond(s,a)+"."+this.displayMillisecond(t)}},{key:"plus2",value:function(){this.props.res.dnf?this.props.handleDNF(this.props.index,!0):this.props.handlePlus2(this.props.index,!1)}},{key:"dnf",value:function(){this.props.res.plus2?this.props.handlePlus2(this.props.index,!0):this.props.handleDNF(this.props.index,!1)}},{key:"render",value:function(){var e=this,t=window.getComputedStyle(document.documentElement).getPropertyValue("--accent"),a=Object(M.createMuiTheme)({typography:{useNextVariants:!0},palette:{primary:{main:t,contrastText:this.props.theme.primary,dark:this.colorLuminance(t,-.2),light:this.colorLuminance(t,.2)},secondary:{main:this.colorLuminance(t,-.3),contrastText:this.props.theme.primary,dark:this.colorLuminance(t,-.5),light:this.colorLuminance(t,-.1)}},shadows:Array(25).fill("none")});return n.a.createElement("div",{className:"modal"},this.props.modalIsOpen?n.a.createElement(S.a,{isOpen:this.props.modalIsOpen,onAfterOpen:this.props.afterOpenModal,onRequestClose:this.props.closeModal,ariaHideApp:!1,contentLabel:"Example Modal",className:"TimeModal",overlayClassName:"TimeOverlay"},n.a.createElement("div",{className:"clearinfo"},n.a.createElement("h3",{id:"titletime"},this.displayLogEntry(this.props.res)),n.a.createElement("br",null),n.a.createElement("div",{className:"timeinfo"},n.a.createElement("table",null,n.a.createElement("tbody",null,n.a.createElement("tr",{className:"tablehead"},n.a.createElement("th",{className:"category-time"}," ao5 "),n.a.createElement("th",{className:"category-time"}," ao12 "),n.a.createElement("th",null," Scramble ")),n.a.createElement("tr",null,n.a.createElement("td",{className:"category-time timestats"}," ",this.convertToTime(this.props.res.ao5)," "),n.a.createElement("td",{className:"category-time timestats"}," ",this.convertToTime(this.props.res.ao12)," "),n.a.createElement("td",{className:"timestats"}," ",this.props.res.scramble," ")))),n.a.createElement("div",{className:"btncenter"},n.a.createElement("button",{onClick:this.plus2,className:"plus2btn"},this.props.res.plus2?n.a.createElement("p",{className:"plus2btnon"}," +2 "):n.a.createElement("p",{className:"plus2btnoff"}," +2 ")),n.a.createElement("button",{onClick:this.dnf,className:"plus2btn"},this.props.res.dnf?n.a.createElement("p",{className:"plus2btnon"}," DNF "):n.a.createElement("p",{className:"plus2btnoff"}," DNF ")))),n.a.createElement("div",{className:"okay"},n.a.createElement(M.MuiThemeProvider,{theme:a},n.a.createElement("div",{className:"copy"},n.a.createElement(k.a,{onClick:function(){return e.copyTime(e.convertToTime(e.props.res.time))},variant:"outlined",color:"primary",className:"confirm",tabIndex:"1"},n.a.createElement(v.a,{icon:"copy"}))),n.a.createElement("div",{className:"confirm"},n.a.createElement(k.a,{onClick:this.props.closeModal,id:"confirm",variant:"contained",color:"primary",className:"confirm",tabIndex:"2"},"ok")))))):null)}}]),t}(s.Component)),P=a(84),R=a(147),J=a.n(R);a(252);P.c.addAdapter(J.a);var q=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={graph:!1},a.afterOpenModal=a.afterOpenModal.bind(Object(u.a)(Object(u.a)(a))),a.convertToTime=a.convertToTime.bind(Object(u.a)(Object(u.a)(a))),a.handleGraph=a.handleGraph.bind(Object(u.a)(Object(u.a)(a))),a.handleCloseModal=a.handleCloseModal.bind(Object(u.a)(Object(u.a)(a))),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"afterOpenModal",value:function(){}},{key:"handleFocus",value:function(e){e.target.select()}},{key:"handleGraph",value:function(){this.setState({graph:!this.state.graph})}},{key:"handleCloseModal",value:function(){this.setState({graph:!1}),this.props.closeModal()}},{key:"copyTime",value:function(e){document.body.insertAdjacentHTML("beforeend",'<div id="copy" contenteditable>'+e+"</div>"),document.getElementById("copy").focus(),document.execCommand("selectAll"),document.execCommand("copy"),document.getElementById("copy").remove()}},{key:"colorLuminance",value:function(e,t){(e=String(e).replace(/[^0-9a-f]/gi,"")).length<6&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),t=t||0;var a,s,n="#";for(s=0;s<3;s++)a=parseInt(e.substr(2*s,2),16),n+=("00"+(a=Math.round(Math.min(Math.max(0,a+a*t),255)).toString(16))).substr(a.length);return n}},{key:"shiftColor",value:function(e,t){var a="rgb("+(e=e.replace("#","")).match(new RegExp("(.{"+e.length/3+"})","g")).map(function(t){return parseInt(e.length%2?t+t:t,16)}).join(",")+")",s=(a=a.replace(/[^\d,]/g,"").split(","))[0],n=a[1],i=a[2];s/=255,n/=255,i/=255;var o,l,r=Math.max(s,n,i),c=Math.min(s,n,i),d=(r+c)/2;if(r===c)o=l=0;else{var h=r-c;l=d>.5?h/(2-r-c):h/(r+c),r===s&&n>=i?o=1.0472*(n-i)/h:r===s&&n<i?o=1.0472*(n-i)/h+6.2832:r===n?o=1.0472*(i-s)/h+2.0944:r===i&&(o=1.0472*(s-n)/h+4.1888)}if(o=o/6.2832*360+0,(o+=t)>360&&(o-=360),o/=360,0===l)s=n=i=d;else{var m=function(e,t,a){return a<0&&(a+=1),a>1&&(a-=1),a<1/6?e+6*(t-e)*a:a<.5?t:a<2/3?e+(t-e)*(2/3-a)*6:e},u=d<.5?d*(1+l):d+l-d*l,p=2*d-u;s=m(p,u,o+1/3),n=m(p,u,o),i=m(p,u,o-1/3)}return s=Math.round(255*s),n=Math.round(255*n),"#"+(16777216|(a=(i=Math.round(255*i))|n<<8|s<<16)).toString(16).substring(1)}},{key:"displayHour",value:function(e){return e?e+":":""}},{key:"displayMinute",value:function(e,t){return t?t<10&&e?"0"+t+":":t+":":""}},{key:"displaySecond",value:function(e,t){return t<10&&e?"0"+t:t}},{key:"displayMillisecond",value:function(e){return e<10?"0"+e:e}},{key:"displayLogEntry",value:function(e){return e.dnf?n.a.createElement("span",null,"DNF"):e.plus2?n.a.createElement("span",null,this.convertToTime(e.time)+"+"):n.a.createElement("span",null,this.convertToTime(e.time))}},{key:"convertToTime",value:function(e){if("dnf"===e)return"DNF";if(0===e||null===e)return"-";var t=(e=Math.floor(e))%1e3,a=(e=(e-t)/1e3)%60,s=(e=(e-a)/60)%60;return e=(e-s)/60,t=Math.floor(t/10),this.displayHour(e)+this.displayMinute(e,s)+this.displaySecond(s,a)+"."+this.displayMillisecond(t)}},{key:"displayScrambles",value:function(e){var t=this,a=this.props.log.slice(this.props.index,this.props.index+e);a.reverse();for(var s=0;a[s].res.dnf&&s<a.length;)s++;for(var i=a[s].res.time,o=a[0].res.time,l=a[s].res.id,r=a[0].res.id,c=a[0].res.dnf,d=s+1;d<e;d++)a[d].res.time<i&&!a[d].res.dnf&&(i=a[d].res.time,l=a[d].res.id),!c&&a[d].res.time>o&&(o=a[d].res.time,r=a[d].res.id);var h=a.map(function(e,a){var s=e.res.id===l,i=e.res.id===r;return n.a.createElement("tr",{key:a},n.a.createElement("td",{className:"category-solve"},a+1),s||i?n.a.createElement("td",{className:"category-time"},n.a.createElement("span",{className:"tableinfo"},"(",t.displayLogEntry(e.res),")")):n.a.createElement("td",{className:"category-time"},n.a.createElement("span",{className:"tableinfo"},t.displayLogEntry(e.res))),n.a.createElement("td",null,n.a.createElement("span",{className:"tableinfo"},e.res.scramble)))});return n.a.createElement("div",{className:"tableview"},this.state.graph?n.a.createElement("div",{className:"graphview"},this.displayGraph(this.props.howmany)):n.a.createElement("table",null,n.a.createElement("tbody",null,n.a.createElement("tr",{className:"tablehead"},n.a.createElement("th",{className:"category-solve"}),n.a.createElement("th",{className:"category-time"}," Time "),n.a.createElement("th",null," Scramble ")),h)))}},{key:"displayGraph",value:function(e){var t=this,a=this.props.log.slice(this.props.index,this.props.index+e);a.reverse();for(var s={},i=0,o=0;o<a.length;o++)a[o].res.time>i&&(i=a[o].res.time);a.map(function(e,a){var n=(a+1).toString();return e.res.dnf?s[n]=t.convertToTime(i):s[n]=t.convertToTime(e.res.time),null});var l=[{name:"single",data:s}];return n.a.createElement(P.b,{data:l,curve:!1,legend:"top",download:!0,dataset:{borderWidth:2},points:!1,colors:[this.props.theme.accent,this.shiftColor(this.props.theme.accent,60),this.shiftColor(this.props.theme.accent,300)],min:null})}},{key:"render",value:function(){var e=this,t=window.getComputedStyle(document.documentElement).getPropertyValue("--accent"),a=Object(M.createMuiTheme)({typography:{useNextVariants:!0},palette:{primary:{main:t,contrastText:this.props.theme.primary,dark:this.colorLuminance(t,-.2),light:this.colorLuminance(t,.2)},secondary:{main:this.colorLuminance(t,-.3),contrastText:this.props.theme.primary,dark:this.colorLuminance(t,-.5),light:this.colorLuminance(t,-.1)}},shadows:Array(25).fill("none")});return n.a.createElement("div",{className:"modal"},this.props.modalIsOpen?n.a.createElement(S.a,{isOpen:this.props.modalIsOpen,onAfterOpen:this.afterOpenModal,onRequestClose:this.handleCloseModal,ariaHideApp:!1,contentLabel:"Example Modal",className:"TimeModal",overlayClassName:"TimeOverlay"},n.a.createElement("div",{className:"averageinfo"},n.a.createElement("h3",{id:"titleav"},this.convertToTime(this.props.av)),n.a.createElement("br",null),n.a.createElement("button",{className:"avstats"},this.state.graph?n.a.createElement(v.a,{icon:"chart-area",onClick:this.handleGraph,className:"on"}):n.a.createElement(v.a,{icon:"chart-area",onClick:this.handleGraph,className:"off"})),n.a.createElement("div",{className:"avinfo"},this.displayScrambles(this.props.howmany)),n.a.createElement("div",{className:"avbuttons"},n.a.createElement(M.MuiThemeProvider,{theme:a},n.a.createElement("div",{className:"copy"},n.a.createElement(k.a,{onClick:function(){return e.copyTime(e.convertToTime(e.props.res.time))},variant:"outlined",color:"primary",className:"confirm",tabIndex:"1"},n.a.createElement(v.a,{icon:"copy"}))),n.a.createElement("div",{className:"confirm"},n.a.createElement(k.a,{onClick:this.handleCloseModal,id:"confirm",variant:"contained",color:"primary",className:"confirm",tabIndex:"2"},"ok")))))):null)}}]),t}(s.Component),W=(a(539),a(540),a(310)),V=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={rowheight:30,deleteModalIsOpen:!1,timeModalIsOpen:!1,avModalIsOpen:!1,sessionModalIsOpen:!1,timeindex:null,av:null,howmany:5,timeres:{id:0,time:null,ao5:null,ao12:null,scramble:null,dnf:!1,plus2:!1}},a.renderRow=a.renderRow.bind(Object(u.a)(Object(u.a)(a))),a.openDeleteModal=a.openDeleteModal.bind(Object(u.a)(Object(u.a)(a))),a.closeDeleteModal=a.closeDeleteModal.bind(Object(u.a)(Object(u.a)(a))),a.openTimeModal=a.openTimeModal.bind(Object(u.a)(Object(u.a)(a))),a.closeTimeModal=a.closeTimeModal.bind(Object(u.a)(Object(u.a)(a))),a.openAvModal=a.openAvModal.bind(Object(u.a)(Object(u.a)(a))),a.closeAvModal=a.closeAvModal.bind(Object(u.a)(Object(u.a)(a))),a.openSessionModal=a.openSessionModal.bind(Object(u.a)(Object(u.a)(a))),a.closeSessionModal=a.closeSessionModal.bind(Object(u.a)(Object(u.a)(a))),a.handleResize=a.handleResize.bind(Object(u.a)(Object(u.a)(a))),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return this.props.renderlog||this.props.reps!==e.reps&&this.props.stopped||this.props.average!==e.average&&this.props.stopped||this.state.timeModalIsOpen!==t.timeModalIsOpen||this.state.avModalIsOpen!==t.avModalIsOpen||this.state.ao12ModalIsOpen!==t.ao12ModalIsOpen||this.state.deleteModalIsOpen!==t.deleteModalIsOpen||this.state.sessionModalIsOpen!==t.sessionModalIsOpen||this.state.sessionModalIsOpen||this.props.isSignedIn!==e.isSignedIn||this.props.saving!==e.saving||this.props.loading!==e.loading||this.props.restoring!==e.restoring}}]),Object(c.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize)}},{key:"handleResize",value:function(){this.forceUpdate()}},{key:"openDeleteModal",value:function(e,t){this.setState({timeindex:e,timeres:t,deleteModalIsOpen:!0}),this.props.handleModal(),f.a.pageview("/delete")}},{key:"closeDeleteModal",value:function(){this.setState({deleteModalIsOpen:!1}),this.props.handleModal(),f.a.pageview("/")}},{key:"openTimeModal",value:function(e,t){this.setState({timeindex:e,timeres:t,timeModalIsOpen:!0}),this.props.handleModal(),f.a.pageview("/time")}},{key:"closeTimeModal",value:function(){this.setState({timeModalIsOpen:!1}),this.props.handleModal(),f.a.pageview("/")}},{key:"openAvModal",value:function(e,t,a,s){a&&(this.setState({timeindex:e,timeres:t,av:a,howmany:s,avModalIsOpen:!0}),this.props.handleModal(),f.a.pageview("/av"))}},{key:"closeAvModal",value:function(){this.setState({avModalIsOpen:!1}),this.props.handleModal(),f.a.pageview("/")}},{key:"openSessionModal",value:function(){this.setState({sessionModalIsOpen:!0}),this.props.saveSession(),this.props.handleModal(),f.a.pageview("/session")}},{key:"closeSessionModal",value:function(){this.setState({sessionModalIsOpen:!1}),this.props.handleModal(),f.a.pageview("/")}},{key:"handlePlus2",value:function(e,t){this.props.handlePlus2(e),30===this.state.rowheight?this.setState({rowheight:30.001}):this.setState({rowheight:30}),this.forceUpdate(),t&&this.handleDNF(e)}},{key:"handleDNF",value:function(e,t){this.props.handleDNF(e),30===this.state.rowheight?this.setState({rowheight:30.001}):this.setState({rowheight:30}),this.forceUpdate(),t&&this.handlePlus2(e)}},{key:"renderRow",value:function(e){var t=this,a=e.index,s=e.key,i=e.style,o=this.props.log[a];return n.a.createElement("div",{key:s,style:i,className:"row"},n.a.createElement("div",{className:"quarter"},n.a.createElement("button",{onClick:function(){return t.openDeleteModal(a,o.res)}},n.a.createElement("span",{id:"step"},o.res.id),n.a.createElement("span",{id:"delete"},n.a.createElement(v.a,{icon:"times"})))),n.a.createElement("div",{className:"quarter"},n.a.createElement("button",{onClick:function(){return t.openTimeModal(a,o.res)}},this.displayLogEntry(o.res))),n.a.createElement("div",{className:"quarter"},n.a.createElement("button",{onClick:function(){return t.openAvModal(a,o.res,o.res.ao5,5)}},this.convertToTime(o.res.ao5))),n.a.createElement("div",{className:"quarter"},n.a.createElement("button",{onClick:function(){return t.openAvModal(a,o.res,o.res.ao12,12)}},this.convertToTime(o.res.ao12))))}},{key:"displayHour",value:function(e){return e?e+":":""}},{key:"displayMinute",value:function(e,t){return t?t<10&&e?"0"+t+":":t+":":""}},{key:"displaySecond",value:function(e,t){return t<10&&e?"0"+t:t}},{key:"displayMillisecond",value:function(e){return e<10?"0"+e:e}},{key:"displayLogEntry",value:function(e){return e.dnf?n.a.createElement("span",null,"DNF"):e.plus2?n.a.createElement("span",null,this.convertToTime(e.time)+"+"):n.a.createElement("span",null,this.convertToTime(e.time))}},{key:"convertToTime",value:function(e){if("dnf"===e)return"DNF";if(0===e||null===e)return"-";var t=(e=Math.floor(e))%1e3,a=(e=(e-t)/1e3)%60,s=(e=(e-a)/60)%60;return e=(e-s)/60,t=Math.floor(t/10),this.displayHour(e)+this.displayMinute(e,s)+this.displaySecond(s,a)+"."+this.displayMillisecond(t)}},{key:"colorLuminance",value:function(e,t){(e=String(e).replace(/[^0-9a-f]/gi,"")).length<6&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),t=t||0;var a,s,n="#";for(s=0;s<3;s++)a=parseInt(e.substr(2*s,2),16),n+=("00"+(a=Math.round(Math.min(Math.max(0,a+a*t),255)).toString(16))).substr(a.length);return n}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"results"},n.a.createElement("div",{className:"statistics"},n.a.createElement(z,{best:this.props.best,res:this.props.log.length?this.props.log[0].res:this.props.reps,log:this.props.log,reps:this.props.reps,sessions:this.props.sessions,session:this.props.session,theme:this.props.theme,isSignedIn:this.props.isSignedIn,loading:this.props.loading,saving:this.props.saving,restoring:this.props.restoring,lastsave:this.props.lastsave,backupsave:this.props.backupsave,clearAll:function(){return e.props.clearAll()},handleModal:function(){return e.props.handleModal()},openTimeModal:function(t,a){return e.openTimeModal(t,a)},openAvModal:function(t,a,s,n){return e.openAvModal(t,a,s,n)},sessionModalIsOpen:this.state.sessionModalIsOpen,openSessionModal:function(){return e.openSessionModal()},closeSessionModal:function(){return e.closeSessionModal()},addTime:function(t){return e.props.addTime(t)},downloadFile:function(t,a){return e.props.downloadFile(t,a)},uploadFile:function(t){return e.props.uploadFile(t)},saveStateToFirebase:this.props.saveStateToFirebase,loadStateFromFirebase:this.props.loadStateFromFirebase,newSession:this.props.newSession,changeSession:function(t){return e.props.changeSession(t)},deleteSession:function(t){return e.props.deleteSession(t)},restoreFirebaseBackup:this.props.restoreFirebaseBackup,undoSaveToFirebase:this.props.undoSaveToFirebase,undoLoadFromFirebase:this.props.undoLoadFromFirebase})),n.a.createElement("div",{className:"singlemodal"},n.a.createElement(U,{theme:this.props.theme,res:this.state.timeres,modalIsOpen:this.state.deleteModalIsOpen,openModal:this.openDeleteModal,closeModal:this.closeDeleteModal,deleteEntry:function(t,a){return e.props.deleteEntry(t,a)}}),n.a.createElement(H,{theme:this.props.theme,index:this.state.timeindex,log:this.props.log,res:this.state.timeres,modalIsOpen:this.state.timeModalIsOpen,openModal:this.openTimeModal,closeModal:this.closeTimeModal,handlePlus2:function(t,a){return e.handlePlus2(t,a)},handleDNF:function(t,a){return e.handleDNF(t,a)}}),n.a.createElement(q,{theme:this.props.theme,index:this.state.timeindex,log:this.props.log,res:this.state.timeres,av:this.state.av,howmany:this.state.howmany,modalIsOpen:this.state.avModalIsOpen,openModal:this.openAvModal,closeModal:this.closeAvModal})),n.a.createElement("div",{className:"scroll"},n.a.createElement(W.a,{width:window.innerWidth,height:window.innerHeight-335,rowHeight:this.state.rowheight,rowRenderer:this.renderRow,rowCount:this.props.log.length,overscanRowCount:5})),n.a.createElement("div",{className:"av"},n.a.createElement("b",null,"Average: ",this.convertToTime(this.props.average))))}}]),t}(s.Component),G=a(42),Y=a.n(G),K=a(93),Q=(a(760),function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={modalIsOpen:!1,name:""},a.openModal=a.openModal.bind(Object(u.a)(Object(u.a)(a))),a.afterOpenModal=a.afterOpenModal.bind(Object(u.a)(Object(u.a)(a))),a.closeModal=a.closeModal.bind(Object(u.a)(Object(u.a)(a))),a.handleName=a.handleName.bind(Object(u.a)(Object(u.a)(a))),a.handleConfirm=a.handleConfirm.bind(Object(u.a)(Object(u.a)(a))),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"openModal",value:function(){this.setState({modalIsOpen:!0})}},{key:"afterOpenModal",value:function(){document.getElementById("clearconfirm").focus()}},{key:"closeModal",value:function(){this.setState({modalIsOpen:!1})}},{key:"handleFocus",value:function(e){e.target.select()}},{key:"handleName",value:function(e){this.setState({name:e.target.value})}},{key:"handleConfirm",value:function(){this.props.saveTheme(this.state.name,this.props.theme),this.closeModal()}},{key:"colorLuminance",value:function(e,t){(e=String(e).replace(/[^0-9a-f]/gi,"")).length<6&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),t=t||0;var a,s,n="#";for(s=0;s<3;s++)a=parseInt(e.substr(2*s,2),16),n+=("00"+(a=Math.round(Math.min(Math.max(0,a+a*t),255)).toString(16))).substr(a.length);return n}},{key:"render",value:function(){var e=window.getComputedStyle(document.documentElement).getPropertyValue("--accent"),t=Object(M.createMuiTheme)({typography:{useNextVariants:!0},palette:{primary:{main:e,contrastText:this.props.theme.primary,dark:this.colorLuminance(e,-.2),light:this.colorLuminance(e,.2)},secondary:{main:this.colorLuminance(e,-.3),contrastText:this.props.theme.primary,dark:this.colorLuminance(e,-.5),light:this.colorLuminance(e,-.1)}},shadows:Array(25).fill("none")});return n.a.createElement("div",{className:"modal"},n.a.createElement(N.AwesomeButton,{action:this.openModal,type:"primary",className:"savetheme",size:"medium"},"Save Theme"),n.a.createElement(S.a,{isOpen:this.state.modalIsOpen,onAfterOpen:this.afterOpenModal,onRequestClose:this.closeModal,ariaHideApp:!1,contentLabel:"Example Modal",className:"CustomModal",overlayClassName:"ArrowOverlay"},n.a.createElement("div",{className:"clearinfo"},n.a.createElement("h1",{id:"title"},"Custom Theme"),n.a.createElement("br",null),n.a.createElement("p",null,"Enter the name of your theme:",n.a.createElement("input",{className:"nameinput",type:"string",value:this.state.name,onChange:this.handleName})),n.a.createElement("div",{className:"choose"},n.a.createElement(M.MuiThemeProvider,{theme:t},n.a.createElement("div",{className:"cancel"},n.a.createElement(k.a,{onClick:this.closeModal,variant:"outlined",color:"primary",className:"confirm",tabIndex:"1"},"Cancel")),n.a.createElement("div",{className:"confirm"},n.a.createElement(k.a,{onClick:this.handleConfirm,id:"clearconfirm",variant:"contained",color:"primary",className:"confirm",tabIndex:"2"},"Confirm")))))))}}]),t}(s.Component)),Z=(a(761),{primary:"#282c34",secondary:"#fff",accent:"#3fa8ff",text:"rgba(255, 255, 255, .6)",texthighlighted:"#fff"}),$={primary:"#d5dce2",secondary:"#000",accent:"#3fa8ff",text:"rgba(0, 0, 0, .7)",texthighlighted:"#000"},X={primary:"#3da1ff",secondary:"#0b1c2d",accent:"#af114b",text:"#163859",texthighlighted:"#0b1c2d"},ee={primary:"#000b16",secondary:"#91c2ff",accent:"#af114b",text:"#3da1ff",texthighlighted:"#91c2ff"},te={primary:"#ff4949",secondary:"#470e0e",accent:"#4f4fff",text:"#661616",texthighlighted:"#470e0e"},ae={primary:"#1c0000",secondary:"#ff6363",accent:"#4f4fff",text:"#ff4949",texthighlighted:"#ff6363"},se={primary:"#1a1c21",secondary:"#efefef",accent:"#9621ff",text:"rgba(255, 255, 255, .6)",texthighlighted:"#efefef"},ne={default:{picker:{boxShadow:"none",width:window.innerWidth>1080?"410px":"290px",fontFamily:"inherit"}}},ie=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={primary:"#282c34",secondary:"#444c59",accent:"#3fa8ff",text:"rgba(255, 255, 255, .6)",texthighlighted:"#fff",modalIsOpen:!1,selected:"primary"},a.colorLuminance=a.colorLuminance.bind(Object(u.a)(Object(u.a)(a))),a.openModal=a.openModal.bind(Object(u.a)(Object(u.a)(a))),a.afterOpenModal=a.afterOpenModal.bind(Object(u.a)(Object(u.a)(a))),a.closeModal=a.closeModal.bind(Object(u.a)(Object(u.a)(a))),a.handleColor=a.handleColor.bind(Object(u.a)(Object(u.a)(a))),a.handleChangePrimary=a.handleChangePrimary.bind(Object(u.a)(Object(u.a)(a))),a.handleChangeSecondary=a.handleChangeSecondary.bind(Object(u.a)(Object(u.a)(a))),a.handleChangeAccent=a.handleChangeAccent.bind(Object(u.a)(Object(u.a)(a))),a.handleChangeText=a.handleChangeText.bind(Object(u.a)(Object(u.a)(a))),a.handleChangeTextHighlighted=a.handleChangeTextHighlighted.bind(Object(u.a)(Object(u.a)(a))),a.handlePartyMode=a.handlePartyMode.bind(Object(u.a)(Object(u.a)(a))),a.selectPrimary=a.selectPrimary.bind(Object(u.a)(Object(u.a)(a))),a.selectSecondary=a.selectSecondary.bind(Object(u.a)(Object(u.a)(a))),a.selectAccent=a.selectAccent.bind(Object(u.a)(Object(u.a)(a))),a.selectText=a.selectText.bind(Object(u.a)(Object(u.a)(a))),a.selectTextHighlighted=a.selectTextHighlighted.bind(Object(u.a)(Object(u.a)(a))),a.displaySavedThemes=a.displaySavedThemes.bind(Object(u.a)(Object(u.a)(a))),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return this.state.modalIsOpen!==t.modalIsOpen||this.state.selected!==t.selected||this.props!==e||this.state!==t}}]),Object(c.a)(t,[{key:"colorLuminance",value:function(e,t){(e=String(e).replace(/[^0-9a-f]/gi,"")).length<6&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),t=t||0;var a,s,n="#";for(s=0;s<3;s++)a=parseInt(e.substr(2*s,2),16),n+=("00"+(a=Math.round(Math.min(Math.max(0,a+a*t),255)).toString(16))).substr(a.length);return n}},{key:"openModal",value:function(){this.setState({primary:this.props.theme.primary,secondary:this.props.theme.secondary,accent:this.props.theme.accent,text:this.props.theme.text,texthighlighted:this.props.theme.texthighlighted,modalIsOpen:!0}),this.props.party_mode&&this.setState({accent:"#4c4c4c"}),this.props.handleModal(),f.a.pageview("/settings")}},{key:"afterOpenModal",value:function(){}},{key:"closeModal",value:function(){this.setState({modalIsOpen:!1}),this.props.handleModal(),f.a.pageview("/")}},{key:"handleColor",value:function(e){this.props.changeColor(e),this.setState({primary:e.primary,secondary:e.secondary,accent:e.accent,text:e.text,texthighlighted:e.texthighlighted})}},{key:"handleChangePrimary",value:function(e,t){var a={primary:e.hex,secondary:this.state.secondary,accent:this.state.accent,text:this.state.text,texthighlighted:this.state.texthighlighted};this.handleColor(a)}},{key:"handleChangeSecondary",value:function(e,t){var a={primary:this.state.primary,secondary:e.hex,accent:this.state.accent,text:this.state.text,texthighlighted:this.state.texthighlighted};this.handleColor(a)}},{key:"handleChangeAccent",value:function(e,t){var a={primary:this.state.primary,secondary:this.state.secondary,accent:e.hex,text:this.state.text,texthighlighted:this.state.texthighlighted};this.handleColor(a)}},{key:"handleChangeText",value:function(e,t){var a={primary:this.state.primary,secondary:this.state.secondary,accent:this.state.accent,text:e.hex,texthighlighted:this.state.texthighlighted};this.handleColor(a)}},{key:"handleChangeTextHighlighted",value:function(e,t){var a={primary:this.state.primary,secondary:this.state.secondary,accent:this.state.accent,text:this.state.text,texthighlighted:e.hex};this.handleColor(a)}},{key:"selectPrimary",value:function(){this.setState({selected:"primary"})}},{key:"selectSecondary",value:function(){this.setState({selected:"secondary"})}},{key:"selectAccent",value:function(){this.setState({selected:"accent"})}},{key:"selectText",value:function(){this.setState({selected:"text"})}},{key:"selectTextHighlighted",value:function(){this.setState({selected:"texthighlighted"})}},{key:"handlePartyMode",value:function(){this.props.party_mode?this.setState({accent:this.props.theme.accent}):this.setState({accent:"#4c4c4c"}),this.props.partyMode()}},{key:"displayColorPicker",value:function(){return"primary"===this.state.selected?n.a.createElement(K.ChromePicker,{color:this.state.primary,onChangeComplete:this.handleChangePrimary,disableAlpha:!0,styles:ne}):"secondary"===this.state.selected?n.a.createElement(K.ChromePicker,{color:this.state.secondary,onChangeComplete:this.handleChangeSecondary,disableAlpha:!0,styles:ne}):"accent"===this.state.selected?n.a.createElement(K.ChromePicker,{color:this.state.accent,onChangeComplete:this.handleChangeAccent,disableAlpha:!0,styles:ne}):"text"===this.state.selected?n.a.createElement(K.ChromePicker,{color:this.state.text,onChangeComplete:this.handleChangeText,disableAlpha:!0,styles:ne}):n.a.createElement(K.ChromePicker,{color:this.state.texthighlighted,onChangeComplete:this.handleChangeTextHighlighted,disableAlpha:!0,styles:ne})}},{key:"renderCustomTheme",value:function(e,t){var a=this;return n.a.createElement("div",null,n.a.createElement("button",{className:"deletetheme",onClick:function(){return a.props.deleteTheme(e)},style:{color:t.theme.secondary,backgroundColor:t.theme.primary}},n.a.createElement(v.a,{icon:"times"})),n.a.createElement("button",{onClick:function(){return a.handleColor(t.theme)},className:"themebtn",id:t.name,style:{backgroundColor:t.theme.primary,color:t.theme.secondary,borderColor:t.theme.accent,borderStyle:"none",borderWidth:"1px"}},n.a.createElement("div",{id:"tinyshift"},t.name)))}},{key:"displaySavedThemes",value:function(){var e=this,t=this.props.themes.map(function(t,a){return n.a.createElement("div",{className:"listitem",key:a},e.renderCustomTheme(a,t))});return n.a.createElement("div",{className:"btnlist"},n.a.createElement("div",{className:"unstyledlist"},t))}},{key:"render",value:function(){var e=this;return ne={default:{picker:{boxShadow:"none",width:window.innerWidth>1080?"410px":"290px",fontFamily:"inherit"}}},n.a.createElement("div",null,n.a.createElement("button",{id:"icon",onClick:this.openModal},n.a.createElement(v.a,{icon:"cog"})),n.a.createElement(S.a,{isOpen:this.state.modalIsOpen,onAfterOpen:this.afterOpenModal,onRequestClose:this.closeModal,ariaHideApp:!1,contentLabel:"Example Modal",className:"Modal",overlayClassName:"Overlay",id:"settingsmodal"},n.a.createElement("div",{className:"setmodalinfo"},n.a.createElement(x.d,{defaultIndex:1},n.a.createElement("div",{className:"tabs"},n.a.createElement(x.b,null,n.a.createElement(x.a,{disabled:!0,className:"settingstitle"},n.a.createElement("b",null,"Settings")),n.a.createElement(x.a,null,"Colors"),n.a.createElement(x.a,null,"Timer"),n.a.createElement(x.a,null,"Display"))),n.a.createElement("div",{className:"pages"},n.a.createElement(x.c,null,"Settings"),n.a.createElement(x.c,null,n.a.createElement("h2",null,"Colors and Theming"),n.a.createElement("div",{className:"colorscontent"},n.a.createElement("div",{className:"presets"},"Presets",n.a.createElement("div",{className:"select"},n.a.createElement(N.AwesomeButton,{action:function(){return e.handleColor(se)},type:"primary",className:"dark-theme",size:"medium"},"Dark"),n.a.createElement(N.AwesomeButton,{action:function(){return e.handleColor($)},type:"primary",className:"light-theme",size:"medium"},"Light"),n.a.createElement(N.AwesomeButton,{action:function(){return e.handleColor(Z)},type:"primary",className:"gray-theme",size:"medium"},"Gray"),n.a.createElement(N.AwesomeButton,{action:function(){return e.handleColor(X)},type:"primary",className:"blue-theme",size:"medium"},"Blue"),n.a.createElement(N.AwesomeButton,{action:function(){return e.handleColor(te)},type:"primary",className:"red-theme",size:"medium"},"Red"),n.a.createElement(N.AwesomeButton,{action:function(){return e.handleColor(ee)},type:"primary",className:"dark-blue-theme",size:"medium"},"Dark Blue"),n.a.createElement(N.AwesomeButton,{action:function(){return e.handleColor(ae)},type:"primary",className:"dark-red-theme",size:"medium"},"Dark Red"))),n.a.createElement("div",{className:"custom"},"Custom Theme",n.a.createElement("div",{className:"theme"},n.a.createElement("div",{className:"createtheme"},n.a.createElement("div",{className:"colorbuttons"},n.a.createElement("div",{className:"choosecolor"},n.a.createElement(N.AwesomeButton,{action:this.selectPrimary,type:"primary",className:"primary",size:"large"},"Background")),n.a.createElement("div",{className:"choosecolor"},n.a.createElement(N.AwesomeButton,{action:this.selectSecondary,type:"primary",className:"secondary",size:"large"},"Time")),n.a.createElement("div",{className:"choosecolor"},n.a.createElement(N.AwesomeButton,{action:this.selectAccent,type:"primary",className:"accent",size:"large"},"Accent")),n.a.createElement("div",{className:"choosecolor"},n.a.createElement(N.AwesomeButton,{action:this.selectText,type:"primary",className:"text",size:"large"},"Text"),n.a.createElement(N.AwesomeButton,{action:this.selectTextHighlighted,type:"primary",className:"texthighlighted",size:"large"},"Emphasized Text")),n.a.createElement("div",{className:"choosecolor"},n.a.createElement(Q,{theme:this.props.theme,saveTheme:function(t,a){return e.props.saveTheme(t,a)}}))),n.a.createElement("div",{className:"colors"},this.displayColorPicker()))),n.a.createElement("div",{className:"saved"},"Saved",this.displaySavedThemes())))),n.a.createElement(x.c,null,n.a.createElement("h2",null,"Timer Options"),n.a.createElement("div",{className:"setlist"},n.a.createElement("div",{className:"setting",id:"setting"},"Inspection Time",n.a.createElement("div",{className:"switches"},n.a.createElement(Y.a,{checked:this.props.inspection_time,onChange:this.props.handleInspection,onColor:this.colorLuminance(this.state.accent,-.4),onHandleColor:this.state.accent,handleDiameter:30,uncheckedIcon:!1,checkedIcon:!1,boxShadow:"0px 1px 5px rgba(0, 0, 0, 0.6)",activeBoxShadow:"0px 0px 1px 10px rgba(0, 0, 0, 0.2)",height:20,width:48,className:"react-switch",id:"material-switch"})),n.a.createElement("div",{className:"desc"},"15 second inspection time after first spacebar press")),n.a.createElement("div",{className:"setting"},"Hold To Start",n.a.createElement("div",{className:"switches"},n.a.createElement(Y.a,{checked:this.props.hold_to_start,onChange:this.props.handleHoldToStart,onColor:this.colorLuminance(this.state.accent,-.4),onHandleColor:this.state.accent,handleDiameter:30,uncheckedIcon:!1,checkedIcon:!1,boxShadow:"0px 1px 5px rgba(0, 0, 0, 0.6)",activeBoxShadow:"0px 0px 1px 10px rgba(0, 0, 0, 0.2)",height:20,width:48,className:"react-switch",id:"material-switch"})),n.a.createElement("div",{className:"desc"},"spacebar must be held to start timer")),n.a.createElement("div",{className:"setting",id:"setting"},"Hold To Start Length",n.a.createElement("div",{className:"switches"},n.a.createElement(v.a,{icon:"caret-left",id:"changen",onClick:function(){return e.props.handleHoldLen(e.props.hold_len/1e3-.1)}}),n.a.createElement(w.a,{className:"setinput",onFocus:this.handleFocus,step:.1,value:this.props.hold_len/1e3,onChange:function(t){return e.props.handleHoldLen(t)}}),n.a.createElement(v.a,{icon:"caret-right",id:"changen",onClick:function(){return e.props.handleHoldLen(e.props.hold_len/1e3+.1)}})),n.a.createElement("div",{className:"desc"},"if enabled, this is how many seconds you must hold to start the timer")),n.a.createElement("div",{className:"setting"},"Stop With Space Only",n.a.createElement("div",{className:"switches"},n.a.createElement(Y.a,{checked:this.props.space_to_stop,onChange:this.props.handleSpaceToStop,onColor:this.colorLuminance(this.state.accent,-.4),onHandleColor:this.state.accent,handleDiameter:30,uncheckedIcon:!1,checkedIcon:!1,boxShadow:"0px 1px 5px rgba(0, 0, 0, 0.6)",activeBoxShadow:"0px 0px 1px 10px rgba(0, 0, 0, 0.2)",height:20,width:48,className:"react-switch",id:"material-switch"})),n.a.createElement("div",{className:"desc"},"timer will only stop if the spacebar is hit, disable to stop with any key")),n.a.createElement("div",{className:"setting"},"Show Milliseconds",n.a.createElement("div",{className:"switches"},n.a.createElement(Y.a,{checked:this.props.display_milliseconds,onChange:this.props.handleDisplayMilliseconds,onColor:this.colorLuminance(this.state.accent,-.4),onHandleColor:this.state.accent,handleDiameter:30,uncheckedIcon:!1,checkedIcon:!1,boxShadow:"0px 1px 5px rgba(0, 0, 0, 0.6)",activeBoxShadow:"0px 0px 1px 10px rgba(0, 0, 0, 0.2)",height:20,width:48,className:"react-switch",id:"material-switch"})),n.a.createElement("div",{className:"desc"},"show accuracy to milliseconds, or 3 digits after the decimal")),n.a.createElement("div",{className:"setting"},"Hide Surroundings While Timing",n.a.createElement("div",{className:"switches"},n.a.createElement(Y.a,{checked:this.props.hide_surroundings,onChange:this.props.handleHideSurroundings,onColor:this.colorLuminance(this.state.accent,-.4),onHandleColor:this.state.accent,handleDiameter:30,uncheckedIcon:!1,checkedIcon:!1,boxShadow:"0px 1px 5px rgba(0, 0, 0, 0.6)",activeBoxShadow:"0px 0px 1px 10px rgba(0, 0, 0, 0.2)",height:20,width:48,className:"react-switch",id:"material-switch"})),n.a.createElement("div",{className:"desc"},"hide surrounding elements on the page while solving")),n.a.createElement("div",{className:"setting"},"Hide Time While Solving",n.a.createElement("div",{className:"switches"},n.a.createElement(Y.a,{checked:this.props.hide_time,onChange:this.props.handleHideTime,onColor:this.colorLuminance(this.state.accent,-.4),onHandleColor:this.state.accent,handleDiameter:30,uncheckedIcon:!1,checkedIcon:!1,boxShadow:"0px 1px 5px rgba(0, 0, 0, 0.6)",activeBoxShadow:"0px 0px 1px 10px rgba(0, 0, 0, 0.2)",height:20,width:48,className:"react-switch",id:"material-switch"})),n.a.createElement("div",{className:"desc"},"hide the running timer while solving")),n.a.createElement("div",{className:"setting",id:"setting"},"Track Ao1000",n.a.createElement("div",{className:"switches"},n.a.createElement(Y.a,{checked:this.props.track_best_ao1000,onChange:this.props.handleTrackBestAo1000,onColor:this.colorLuminance(this.state.accent,-.4),onHandleColor:this.state.accent,handleDiameter:30,uncheckedIcon:!1,checkedIcon:!1,boxShadow:"0px 1px 5px rgba(0, 0, 0, 0.6)",activeBoxShadow:"0px 0px 1px 10px rgba(0, 0, 0, 0.2)",height:20,width:48,className:"react-switch",id:"material-switch"})),n.a.createElement("div",{className:"desc"},"keep track of your best ao1000 in the statistics tool. performance may suffer slightly")))),n.a.createElement(x.c,null,n.a.createElement("h2",null,"Display Options"),n.a.createElement("div",{className:"setlist"},n.a.createElement("div",{className:"setting"},"Party Mode",n.a.createElement("div",{className:"switches"},n.a.createElement(Y.a,{checked:this.props.party_mode,onChange:this.handlePartyMode,onColor:this.colorLuminance(this.state.accent,-.4),onHandleColor:this.state.accent,handleDiameter:30,uncheckedIcon:!1,checkedIcon:!1,boxShadow:"0px 1px 5px rgba(0, 0, 0, 0.6)",activeBoxShadow:"0px 0px 1px 10px rgba(0, 0, 0, 0.2)",height:20,width:48,className:"react-switch",id:"material-switch"})),n.a.createElement("div",{className:"desc"},"really mess with your eyes")),n.a.createElement("div",{className:"setting"},"Show Time List",n.a.createElement("div",{className:"switches"},n.a.createElement(Y.a,{checked:this.props.show_log,onChange:this.props.handleShowLog,onColor:this.colorLuminance(this.state.accent,-.4),onHandleColor:this.state.accent,handleDiameter:30,uncheckedIcon:!1,checkedIcon:!1,boxShadow:"0px 1px 5px rgba(0, 0, 0, 0.6)",activeBoxShadow:"0px 0px 1px 10px rgba(0, 0, 0, 0.2)",height:20,width:48,className:"react-switch",id:"material-switch"})),n.a.createElement("div",{className:"desc"},"list of times, as well as current and best times, is shown on left side")),n.a.createElement("div",{className:"setting"},"Show Averages Under Time",n.a.createElement("div",{className:"switches"},n.a.createElement(Y.a,{checked:this.props.show_av,onChange:this.props.handleShowAv,onColor:this.colorLuminance(this.state.accent,-.4),onHandleColor:this.state.accent,handleDiameter:30,uncheckedIcon:!1,checkedIcon:!1,boxShadow:"0px 1px 5px rgba(0, 0, 0, 0.6)",activeBoxShadow:"0px 0px 1px 10px rgba(0, 0, 0, 0.2)",height:20,width:48,className:"react-switch",id:"material-switch"})),n.a.createElement("div",{className:"desc"},"ao5 and ao12 are shown below time as well as on left side")),n.a.createElement("div",{className:"setting"},"Show Scramble",n.a.createElement("div",{className:"switches"},n.a.createElement(Y.a,{checked:this.props.show_scramble,onChange:this.props.handleShowScramble,onColor:this.colorLuminance(this.state.accent,-.4),onHandleColor:this.state.accent,handleDiameter:30,uncheckedIcon:!1,checkedIcon:!1,boxShadow:"0px 1px 5px rgba(0, 0, 0, 0.6)",activeBoxShadow:"0px 0px 1px 10px rgba(0, 0, 0, 0.2)",height:20,width:48,className:"react-switch",id:"material-switch"})),n.a.createElement("div",{className:"desc"},"scramble is generated for each solve and displayed on screen")),n.a.createElement("div",{className:"setting"},"Highlight on Hover",n.a.createElement("div",{className:"switches"},n.a.createElement(Y.a,{checked:this.props.highlight_text,onChange:this.props.handleHighlightText,onColor:this.colorLuminance(this.state.accent,-.4),onHandleColor:this.state.accent,handleDiameter:30,uncheckedIcon:!1,checkedIcon:!1,boxShadow:"0px 1px 5px rgba(0, 0, 0, 0.6)",activeBoxShadow:"0px 0px 1px 10px rgba(0, 0, 0, 0.2)",height:20,width:48,className:"react-switch",id:"material-switch"})),n.a.createElement("div",{className:"desc"},"elements brighten when hovered over")),n.a.createElement("div",{className:"setting",id:"setting"},"Timer Size",n.a.createElement("div",{className:"switches"},n.a.createElement(v.a,{icon:"caret-left",id:"changen",onClick:function(){return e.props.handleTimerSize(e.props.timer_size-1)}}),n.a.createElement(w.a,{className:"setinput",onFocus:this.handleFocus,min:8,max:300,step:1,value:this.props.timer_size,onChange:function(t){return e.props.handleTimerSize(t)}}),n.a.createElement(v.a,{icon:"caret-right",id:"changen",onClick:function(){return e.props.handleTimerSize(e.props.timer_size+1)}})),n.a.createElement("div",{className:"desc"},"change the size of the timer")),n.a.createElement("div",{className:"setting",id:"setting"},"Scramble Size",n.a.createElement("div",{className:"switches"},n.a.createElement(v.a,{icon:"caret-left",id:"changen",onClick:function(){return e.props.handleScrambleSize(e.props.scramble_size-1)}}),n.a.createElement(w.a,{className:"setinput",onFocus:this.handleFocus,min:8,max:64,step:1,value:this.props.scramble_size,onChange:function(t){return e.props.handleScrambleSize(t)}}),n.a.createElement(v.a,{icon:"caret-right",id:"changen",onClick:function(){return e.props.handleScrambleSize(e.props.scramble_size+1)}})),n.a.createElement("div",{className:"desc"},"change the size of the scramble")),n.a.createElement("div",{className:"setting",id:"setting"},"Average Size",n.a.createElement("div",{className:"switches"},n.a.createElement(v.a,{icon:"caret-left",id:"changen",onClick:function(){return e.props.handleAvSize(e.props.av_size-1)}}),n.a.createElement(w.a,{className:"setinput",onFocus:this.handleFocus,min:8,max:40,step:1,value:this.props.av_size,onChange:function(t){return e.props.handleAvSize(t)}}),n.a.createElement(v.a,{icon:"caret-right",id:"changen",onClick:function(){return e.props.handleAvSize(e.props.av_size+1)}})),n.a.createElement("div",{className:"desc"},"change the size of the averages below the timer")))))))))}}]),t}(s.Component),oe=a(311),le=(a(762),function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={modalIsOpen:!1,saved:!1,loaded:!1},a.openModal=a.openModal.bind(Object(u.a)(Object(u.a)(a))),a.closeModal=a.closeModal.bind(Object(u.a)(Object(u.a)(a))),a.onFail=a.onFail.bind(Object(u.a)(Object(u.a)(a))),a.onLogout=a.onLogout.bind(Object(u.a)(Object(u.a)(a))),a.handleSaveFirebase=a.handleSaveFirebase.bind(Object(u.a)(Object(u.a)(a))),a.handleLoadFirebase=a.handleLoadFirebase.bind(Object(u.a)(Object(u.a)(a))),a.handleUndoSave=a.handleUndoSave.bind(Object(u.a)(Object(u.a)(a))),a.handleUndoLoad=a.handleUndoLoad.bind(Object(u.a)(Object(u.a)(a))),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"openModal",value:function(){this.setState({modalIsOpen:!0}),this.props.handleModal(),f.a.pageview("/account")}},{key:"afterOpenModal",value:function(){}},{key:"closeModal",value:function(){this.setState({modalIsOpen:!1,saved:!1,loaded:!1}),this.props.handleModal(),f.a.pageview("/")}},{key:"handleFocus",value:function(e){e.target.select()}},{key:"onFail",value:function(){}},{key:"onLogout",value:function(){this.props.logOut()}},{key:"handleSaveFirebase",value:function(){this.props.saveStateToFirebase(),this.setState({saved:!0})}},{key:"handleLoadFirebase",value:function(){this.props.loadStateFromFirebase(),this.setState({loaded:!0})}},{key:"handleUndoSave",value:function(){this.props.undoSaveToFirebase(),this.setState({saved:!1})}},{key:"handleUndoLoad",value:function(){this.props.undoLoadFromFirebase(),this.setState({loaded:!1})}},{key:"colorLuminance",value:function(e,t){(e=String(e).replace(/[^0-9a-f]/gi,"")).length<6&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),t=t||0;var a,s,n="#";for(s=0;s<3;s++)a=parseInt(e.substr(2*s,2),16),n+=("00"+(a=Math.round(Math.min(Math.max(0,a+a*t),255)).toString(16))).substr(a.length);return n}},{key:"render",value:function(){return n.a.createElement("div",{className:"modal"},n.a.createElement("button",{id:"accountbtn",onClick:this.openModal},n.a.createElement(v.a,{icon:"user-circle"})),this.state.modalIsOpen?n.a.createElement(S.a,{isOpen:this.state.modalIsOpen,onAfterOpen:this.afterOpenModal,onRequestClose:this.closeModal,ariaHideApp:!1,contentLabel:"Account Modal",className:"AccountModal",overlayClassName:"AccountOverlay"},this.props.isSignedIn?n.a.createElement("div",{className:"accountinfo"},n.a.createElement("h1",{id:"title"},"Account"),n.a.createElement("br",null),n.a.createElement("div",{className:"userinfo"},n.a.createElement("img",{src:this.props.userProfile.photoURL,alt:"profile",className:"profilepic"}),n.a.createElement("div",{className:"welcome"},"Welcome, ",n.a.createElement("b",null,this.props.userProfile.displayName)),n.a.createElement("div",{className:"accountdesc"},"Accounts let you back up your data and access it anywhere, from any device. Your results were last saved to your account on ",n.a.createElement("strong",null,this.props.lastsave),"."),n.a.createElement("div",{className:"timestamp-act"})),n.a.createElement("div",{className:"updownbtns"},n.a.createElement("div",{className:"upbtnaccount"},n.a.createElement("h3",{className:"save-title"},"Save"),n.a.createElement(N.AwesomeButton,{action:this.handleSaveFirebase,type:"primary",className:"downloadbtn",id:"accountbtn",size:"large"},n.a.createElement("div",{id:"downicon"},n.a.createElement(v.a,{icon:"file-upload"}))),n.a.createElement("div",{className:"actsave"},n.a.createElement(C.ClipLoader,{css:{display:"inline-block",verticalAlign:"bottom"},sizeUnit:"px",size:40,color:this.props.theme.accent,loading:this.props.saving}),this.state.saved&&!this.props.saving?n.a.createElement("div",{className:"undodu"},n.a.createElement(_,{theme:this.props.theme,undo:this.handleUndoSave})):null)),n.a.createElement("div",{className:"downbtnaccount"},n.a.createElement("h3",{className:"load-title"},"Load"),n.a.createElement(N.AwesomeButton,{action:this.handleLoadFirebase,type:"primary",className:"downloadbtn",id:"accountbtn",size:"large"},n.a.createElement("div",{id:"downicon"},n.a.createElement(v.a,{icon:"file-download"}))),n.a.createElement("div",{className:"actload"},n.a.createElement(C.ClipLoader,{css:{display:"inline-block",verticalAlign:"bottom"},sizeUnit:"px",size:40,color:this.props.theme.accent,loading:this.props.loading}),this.state.loaded&&!this.props.loading?n.a.createElement("div",{className:"undodu"},n.a.createElement(_,{theme:this.props.theme,undo:this.handleUndoLoad})):null))),n.a.createElement("button",{onClick:this.onLogout,className:"logout"},"Log Out")):n.a.createElement("div",{className:"accountinfo"},n.a.createElement("h1",{id:"title"},"Sign In"),n.a.createElement("br",null),n.a.createElement("div",{className:"signininfo"},n.a.createElement("p",null,"Sign in with Google to save your results online and access them from any device."),n.a.createElement("div",{className:"signinbtn"},n.a.createElement(oe.a,{onClick:this.props.signIn}))))):null)}}]),t}(s.Component)),re=a(150),ce=a.n(re);a(303),a(763);P.c.addAdapter(J.a);var de=[{value:"graph",label:"Line Graph",className:"dropdown-item"},{value:"dist",label:"Distribution",className:"dropdown-item"},{value:"stats",label:"Statistics",className:"dropdown-item"}],he=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).handleChange=a.handleChange.bind(Object(u.a)(Object(u.a)(a))),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return this.props.renderlog&&this.props.show_stats||this.props.show_stats!==e.show_stats||this.props.reps>e.reps&&this.props.show_stats||e.reps-this.props.reps>1&&this.props.show_stats||this.props.session!==e.session||this.props.stats_tab!==e.stats_tab||this.props.track_best_ao1000!==e.track_best_ao1000||this.props.bestAo1000!==e.bestAo1000}}]),Object(c.a)(t,[{key:"handleChange",value:function(e){"graph"===e.value?this.props.handleStatsTab(1):"dist"===e.value?this.props.handleStatsTab(2):"stats"===e.value&&this.props.handleStatsTab(3)}},{key:"displayHour",value:function(e){return e?e+":":""}},{key:"displayMinute",value:function(e,t){return t?t<10&&e?"0"+t+":":t+":":""}},{key:"displaySecond",value:function(e,t){return t<10&&e?"0"+t:t}},{key:"displayMillisecond",value:function(e){return e<10?"0"+e:e}},{key:"convertToTime",value:function(e){if("dnf"===e)return"DNF";if(0===e||null===e)return"-";var t=(e=Math.floor(e))%1e3,a=(e=(e-t)/1e3)%60,s=(e=(e-a)/60)%60;return e=(e-s)/60,t=Math.floor(t/10),this.displayHour(e)+this.displayMinute(e,s)+this.displaySecond(s,a)+"."+this.displayMillisecond(t)}},{key:"colorLuminance",value:function(e,t){(e=String(e).replace(/[^0-9a-f]/gi,"")).length<6&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),t=t||0;var a,s,n="#";for(s=0;s<3;s++)a=parseInt(e.substr(2*s,2),16),n+=("00"+(a=Math.round(Math.min(Math.max(0,a+a*t),255)).toString(16))).substr(a.length);return n}},{key:"shiftColor",value:function(e,t){var a="rgb("+(e=e.replace("#","")).match(new RegExp("(.{"+e.length/3+"})","g")).map(function(t){return parseInt(e.length%2?t+t:t,16)}).join(",")+")",s=(a=a.replace(/[^\d,]/g,"").split(","))[0],n=a[1],i=a[2];s/=255,n/=255,i/=255;var o,l,r=Math.max(s,n,i),c=Math.min(s,n,i),d=(r+c)/2;if(r===c)o=l=0;else{var h=r-c;l=d>.5?h/(2-r-c):h/(r+c),r===s&&n>=i?o=1.0472*(n-i)/h:r===s&&n<i?o=1.0472*(n-i)/h+6.2832:r===n?o=1.0472*(i-s)/h+2.0944:r===i&&(o=1.0472*(s-n)/h+4.1888)}if(o=o/6.2832*360+0,(o+=t)>360&&(o-=360),o/=360,0===l)s=n=i=d;else{var m=function(e,t,a){return a<0&&(a+=1),a>1&&(a-=1),a<1/6?e+6*(t-e)*a:a<.5?t:a<2/3?e+(t-e)*(2/3-a)*6:e},u=d<.5?d*(1+l):d+l-d*l,p=2*d-u;s=m(p,u,o+1/3),n=m(p,u,o),i=m(p,u,o-1/3)}return s=Math.round(255*s),n=Math.round(255*n),"#"+(16777216|(a=(i=Math.round(255*i))|n<<8|s<<16)).toString(16).substring(1)}},{key:"displayGraph",value:function(){var e=this,t=this.props.log.slice();t.reverse();for(var a={},s={},i={},o=0,l=0;l<t.length;l++)t[l].res.time>o&&(o=t[l].res.time);t.map(function(t,n){var l=(n+1).toString();return t.res.dnf?a[l]=e.convertToTime(o):a[l]=e.convertToTime(t.res.time),s[l]=e.convertToTime(t.res.ao5),i[l]=e.convertToTime(t.res.ao12),null});var r=[{name:"single",data:a},{name:"ao5",data:s},{name:"ao12",data:i}];return n.a.createElement("div",{className:"graphpanel"},n.a.createElement(P.b,{data:r,curve:!1,legend:"top",download:!0,dataset:{borderWidth:2},points:!1,width:"35vw",height:"35vh",colors:[this.props.theme.accent,this.shiftColor(this.props.theme.accent,60),this.shiftColor(this.props.theme.accent,300)],min:null}))}},{key:"displayDist",value:function(){var e=this.props.log.slice();if(this.props.best.res&&this.props.average){for(var t=this.props.average-this.props.best.res.time,a=Math.round(t/3e3),s=1e3*Math.round(this.props.best.res.time/1e3),i=s+1e3*a,o=i+1e3*a,l=o+1e3*a,r=l+1e3*a,c=r+1e3*a,d=0,h=0,m=0,u=0,p=0,b=0,v=0;v<e.length;v++)if(e[v].res.dnf)b++;else{var f=e[v].res.time;f<i?d++:f<o?h++:f<l?m++:f<r?u++:f<c?p++:b++}var g=[[s/1e3+" - "+i/1e3,d],[i/1e3+" - "+o/1e3,h],[o/1e3+" - "+l/1e3,m],[l/1e3+" - "+r/1e3,u],[r/1e3+" - "+c/1e3,p],[c/1e3+" +",b]];return n.a.createElement("div",{className:"graphpanel"},n.a.createElement(P.a,{data:g,download:!0,width:"35vw",height:"35vh",colors:[this.props.theme.accent]}))}}},{key:"displayStats",value:function(){if(this.props.best.res&&this.props.log.length){for(var e=this.props.log.slice(),t=this.props.best.res.time,a=0,s=0,i=0,o=0;o<e.length;o++)e[o].res.time>a&&!e[o].res.dnf&&(a=e[o].res.time),e[o].res.dnf||(s+=Math.pow(e[o].res.time-this.props.average,2),i+=e[o].res.time);s/=this.props.validreps,s=Math.sqrt(s);var l=0;if(this.props.track_best_ao1000){var r=10*this.props.average,c=0;if(e.length>=1e3){for(o=0;o<1e3;o++)e[o].res.time<r&&(r=e[o].res.time),e[o].res.time>c&&(c=e[o].res.time),l+=e[o].res.time;l=(l-c-r)/998}}return n.a.createElement("div",{className:"statpanel"},n.a.createElement("table",{className:"stat-table"},n.a.createElement("tbody",null,n.a.createElement("tr",null,n.a.createElement("td",{id:"stat"},"solves: ",this.props.reps),n.a.createElement("td",{id:"stat"},"average: ",this.convertToTime(this.props.average)),n.a.createElement("td",{id:"stat"},"total: ",this.convertToTime(i))),n.a.createElement("tr",null,n.a.createElement("td",{id:"stat"},"best: ",this.convertToTime(t)),n.a.createElement("td",{id:"stat"},"worst: ",this.convertToTime(a)),n.a.createElement("td",{id:"stat"},"\u03c3: ",this.convertToTime(s)))),n.a.createElement("tbody",{className:"blanktable"}),n.a.createElement("tbody",null,n.a.createElement("tr",null,n.a.createElement("th",null,"  "),n.a.createElement("th",null,"Current"),n.a.createElement("th",null,"Best")),n.a.createElement("tr",null,n.a.createElement("th",null,"single"),n.a.createElement("td",null,this.props.log.length?this.convertToTime(this.props.log[0].res.time):"-"),n.a.createElement("td",null,this.props.best.res?this.convertToTime(this.props.best.res.time):"-")),n.a.createElement("tr",null,n.a.createElement("th",null,"mo3"),n.a.createElement("td",null,this.props.log.length?this.convertToTime(this.props.log[0].res.mo3):"-"),n.a.createElement("td",null,this.props.best.mo3?this.convertToTime(this.props.best.mo3):"-")),n.a.createElement("tr",null,n.a.createElement("th",null,"ao5"),n.a.createElement("td",null,this.props.log.length?this.convertToTime(this.props.log[0].res.ao5):"-"),n.a.createElement("td",null,this.props.best.ao5?this.convertToTime(this.props.best.ao5):"-")),n.a.createElement("tr",null,n.a.createElement("th",null,"ao12"),n.a.createElement("td",null,this.props.log.length?this.convertToTime(this.props.log[0].res.ao12):"-"),n.a.createElement("td",null,this.props.best.ao12?this.convertToTime(this.props.best.ao12):"-")),n.a.createElement("tr",null,n.a.createElement("th",null,"ao50"),n.a.createElement("td",null,this.props.log.length?this.convertToTime(this.props.log[0].res.ao50):"-"),n.a.createElement("td",null,this.props.best.ao50?this.convertToTime(this.props.best.ao50):"-")),n.a.createElement("tr",null,n.a.createElement("th",null,"ao100"),n.a.createElement("td",null,this.props.log.length?this.convertToTime(this.props.log[0].res.ao100):"-"),n.a.createElement("td",null,this.props.best.ao100?this.convertToTime(this.props.best.ao100):"-")),n.a.createElement("tr",null,n.a.createElement("th",null,this.props.track_best_ao1000?"ao1000":null),n.a.createElement("td",null,this.props.track_best_ao1000?this.convertToTime(l):null),n.a.createElement("td",null,this.props.track_best_ao1000?this.convertToTime(this.props.bestAo1000):null)))))}}},{key:"displayTab",value:function(){return 1===this.props.stats_tab?this.displayGraph():2===this.props.stats_tab?this.displayDist():3===this.props.stats_tab?this.displayStats():void 0}},{key:"render",value:function(){var e=this;return n.a.createElement("div",null,this.props.show_stats?n.a.createElement("div",{className:"StatsModal"},this.displayTab(),n.a.createElement(ce.a,{className:"dropdown",controlClassName:"dropdown-ctrl",menuClassName:"dropdown-menu",placeholderClassName:"dropdown-place",options:de,value:de[this.props.stats_tab-1],onChange:function(t){return e.handleChange(t)}})):null)}}]),t}(s.Component),me=(a(764),[{value:"2x2",label:"2x2x2",className:"dropdown-item"},{value:"3x3",label:"3x3x3",className:"dropdown-item"},{value:"4x4",label:"4x4x4",className:"dropdown-item"},{value:"5x5",label:"5x5x5",className:"dropdown-item"}]),ue=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).handleChange=a.handleChange.bind(Object(u.a)(Object(u.a)(a))),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"handleChange",value:function(e){this.props.handleCube(e.value)}},{key:"render",value:function(){var e=this;return n.a.createElement("div",null,n.a.createElement(ce.a,{className:"scramble-dropdown",controlClassName:"scramble-dropdown-ctrl",menuClassName:"scramble-dropdown-menu",placeholderClassName:"scramble-dropdown-place",arrowClassName:"scramble-dropdown-arrow",options:me,value:this.props.cube,onChange:function(t){return e.handleChange(t)}}),n.a.createElement("div",{className:"scrambletext"},this.props.scramble))}}]),t}(s.Component),pe=(a(765),a(28)),be=a(15);pe.b.add(be.i),pe.b.add(be.o),pe.b.add(be.n),pe.b.add(be.a),pe.b.add(be.b),pe.b.add(be.k),pe.b.add(be.p),pe.b.add(be.j),pe.b.add(be.h),pe.b.add(be.f),pe.b.add(be.c),pe.b.add(be.e),pe.b.add(be.d),pe.b.add(be.q),pe.b.add(be.g),pe.b.add(be.l),pe.b.add(be.m);var ve=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={isSignedIn:!1,userProfile:null,token:null,email:null,stopped:!0,running:!1,canceled:!1,renderlog:!0,fifteen:!1,hold_done:!1,modal:!1,time:0,inspecttime:15,start:null,end:null,res:{id:0,time:null,mo3:null,ao5:null,ao12:null,ao50:null,ao100:null,scramble:null,dnf:!1,plus2:!1},best:{res:null,mo3:null,ao5:null,ao12:null,ao50:null,ao100:null},log:[],sessions:[{id:0,name:null,log:[],cube:"3x3",best:null,reps:0,validreps:0,average:null}],session:0,reps:0,validreps:0,average:0,bestAo1000:null,lastsave:null,backupsave:null,undoload:!1,undosave:!1,loading:!1,saving:!1,restoring:!1,scramble_on_side:!1,show_av:!0,show_scramble:!0,show_log:!0,show_stats:!1,inspection_time:!1,hold_to_start:!1,highlight_text:!0,space_to_stop:!0,display_milliseconds:!1,hide_time:!1,hide_surroundings:!0,track_best_ao1000:!0,party_mode:!1,theme:{primary:"#1a1c21",secondary:"#efefef",accent:"#9621ff",text:"rgba(255, 255, 255, .6)",texthighlighted:"#efefef"},themes:[],scramble_size:28,timer_size:144,av_size:24,hold_len:300,stats_tab:1,cube:"3x3"},a.signIn=a.signIn.bind(Object(u.a)(Object(u.a)(a))),a.logOut=a.logOut.bind(Object(u.a)(Object(u.a)(a))),a.display=a.display.bind(Object(u.a)(Object(u.a)(a))),a.resetTime=a.resetTime.bind(Object(u.a)(Object(u.a)(a))),a.updateTime=a.updateTime.bind(Object(u.a)(Object(u.a)(a))),a.updateInspectionTime=a.updateInspectionTime.bind(Object(u.a)(Object(u.a)(a))),a.displayInspection=a.displayInspection.bind(Object(u.a)(Object(u.a)(a))),a.hideStuff=a.hideStuff.bind(Object(u.a)(Object(u.a)(a))),a.unhideStuff=a.unhideStuff.bind(Object(u.a)(Object(u.a)(a))),a.updateBests=a.updateBests.bind(Object(u.a)(Object(u.a)(a))),a.updateBestAo1000=a.updateBestAo1000.bind(Object(u.a)(Object(u.a)(a))),a.startTime=a.startTime.bind(Object(u.a)(Object(u.a)(a))),a.endTime=a.endTime.bind(Object(u.a)(Object(u.a)(a))),a.calculateTime=a.calculateTime.bind(Object(u.a)(Object(u.a)(a))),a.saveTime=a.saveTime.bind(Object(u.a)(Object(u.a)(a))),a.addTime=a.addTime.bind(Object(u.a)(Object(u.a)(a))),a.calculateAverage=a.calculateAverage.bind(Object(u.a)(Object(u.a)(a))),a.calculateAv=a.calculateAv.bind(Object(u.a)(Object(u.a)(a))),a.calculateMean=a.calculateMean.bind(Object(u.a)(Object(u.a)(a))),a.clearAll=a.clearAll.bind(Object(u.a)(Object(u.a)(a))),a.deleteEntry=a.deleteEntry.bind(Object(u.a)(Object(u.a)(a))),a.downloadFile=a.downloadFile.bind(Object(u.a)(Object(u.a)(a))),a.uploadFile=a.uploadFile.bind(Object(u.a)(Object(u.a)(a))),a.readFileToState=a.readFileToState.bind(Object(u.a)(Object(u.a)(a))),a.generateScramble=a.generateScramble.bind(Object(u.a)(Object(u.a)(a))),a.startInspection=a.startInspection.bind(Object(u.a)(Object(u.a)(a))),a.endInspection=a.endInspection.bind(Object(u.a)(Object(u.a)(a))),a.saveSession=a.saveSession.bind(Object(u.a)(Object(u.a)(a))),a.loadSession=a.loadSession.bind(Object(u.a)(Object(u.a)(a))),a.newSession=a.newSession.bind(Object(u.a)(Object(u.a)(a))),a.changeSession=a.changeSession.bind(Object(u.a)(Object(u.a)(a))),a.deleteSession=a.deleteSession.bind(Object(u.a)(Object(u.a)(a))),a.handleModal=a.handleModal.bind(Object(u.a)(Object(u.a)(a))),a.handleModalFalse=a.handleModalFalse.bind(Object(u.a)(Object(u.a)(a))),a.handleInspection=a.handleInspection.bind(Object(u.a)(Object(u.a)(a))),a.handleHoldToStart=a.handleHoldToStart.bind(Object(u.a)(Object(u.a)(a))),a.handleShowAv=a.handleShowAv.bind(Object(u.a)(Object(u.a)(a))),a.handleShowScramble=a.handleShowScramble.bind(Object(u.a)(Object(u.a)(a))),a.handleShowLog=a.handleShowLog.bind(Object(u.a)(Object(u.a)(a))),a.handleShowStats=a.handleShowStats.bind(Object(u.a)(Object(u.a)(a))),a.handleScrambleSize=a.handleScrambleSize.bind(Object(u.a)(Object(u.a)(a))),a.handleTimerSize=a.handleTimerSize.bind(Object(u.a)(Object(u.a)(a))),a.handleAvSize=a.handleAvSize.bind(Object(u.a)(Object(u.a)(a))),a.handleHoldLen=a.handleHoldLen.bind(Object(u.a)(Object(u.a)(a))),a.handleSpaceToStop=a.handleSpaceToStop.bind(Object(u.a)(Object(u.a)(a))),a.handleHighlightText=a.handleHighlightText.bind(Object(u.a)(Object(u.a)(a))),a.handleDisplayMilliseconds=a.handleDisplayMilliseconds.bind(Object(u.a)(Object(u.a)(a))),a.handleHideTime=a.handleHideTime.bind(Object(u.a)(Object(u.a)(a))),a.handleHideSurroundings=a.handleHideSurroundings.bind(Object(u.a)(Object(u.a)(a))),a.handleStatsTab=a.handleStatsTab.bind(Object(u.a)(Object(u.a)(a))),a.handleTrackBestAo1000=a.handleTrackBestAo1000.bind(Object(u.a)(Object(u.a)(a))),a.handleCube=a.handleCube.bind(Object(u.a)(Object(u.a)(a))),a.handleBestAo1000=a.handleBestAo1000.bind(Object(u.a)(Object(u.a)(a))),a.handlePlus2=a.handlePlus2.bind(Object(u.a)(Object(u.a)(a))),a.handleDNF=a.handleDNF.bind(Object(u.a)(Object(u.a)(a))),a.saveTheme=a.saveTheme.bind(Object(u.a)(Object(u.a)(a))),a.deleteTheme=a.deleteTheme.bind(Object(u.a)(Object(u.a)(a))),a.changeColor=a.changeColor.bind(Object(u.a)(Object(u.a)(a))),a.partyMode=a.partyMode.bind(Object(u.a)(Object(u.a)(a))),a.timeHold=a.timeHold.bind(Object(u.a)(Object(u.a)(a))),a.onTouchStart=a.onTouchStart.bind(Object(u.a)(Object(u.a)(a))),a.onTouchEnd=a.onTouchEnd.bind(Object(u.a)(Object(u.a)(a))),a.onTouchCancel=a.onTouchCancel.bind(Object(u.a)(Object(u.a)(a))),a.onTouchMove=a.onTouchMove.bind(Object(u.a)(Object(u.a)(a))),a.reset=a.reset.bind(Object(u.a)(Object(u.a)(a))),a.saveStateToFirebase=a.saveStateToFirebase.bind(Object(u.a)(Object(u.a)(a))),a.loadStateFromFirebase=a.loadStateFromFirebase.bind(Object(u.a)(Object(u.a)(a))),a.restoreFirebaseBackup=a.restoreFirebaseBackup.bind(Object(u.a)(Object(u.a)(a))),a.undoSaveToFirebase=a.undoSaveToFirebase.bind(Object(u.a)(Object(u.a)(a))),a.undoLoadFromFirebase=a.undoLoadFromFirebase.bind(Object(u.a)(Object(u.a)(a))),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.unregisterAuthObserver=b.a.auth().onAuthStateChanged(function(t){e.setState({isSignedIn:!!t,userProfile:t})}),this.hydrateStateWithLocalStorage(),window.addEventListener("beforeunload",this.saveStateToLocalStorage.bind(this),this.saveSession.bind(this)),this.reset(),this.handleModalFalse(),this.handlePartyModeOff();var t=localStorage.getItem("theme");t&&(t=JSON.parse(t),this.changeColor(t));var a=JSON.parse(localStorage.getItem("cube"));this.setState({cube:a||"3x3"},this.generateScramble),this.handleScrambleSize(this.state.scramble_size),this.handleTimerSize(this.state.timer_size),this.handleAvSize(this.state.av_size),document.getElementById("time").addEventListener("touchstart",this.onTouchStart,!1),document.getElementById("time").addEventListener("touchend",this.onTouchEnd,!1),document.getElementById("time").addEventListener("touchcancel",this.onTouchCancel,!1),document.getElementById("time").addEventListener("touchmove",this.onTouchMove,!1),document.getElementById("time").addEventListener("contextmenu",function(e){e.preventDefault()})}},{key:"componentWillUnmount",value:function(){this.unregisterAuthObserver(),window.removeEventListener("beforeunload",this.saveStateToLocalStorage.bind(this),this.saveSession.bind(this)),this.saveSession(),this.saveStateToLocalStorage()}},{key:"hydrateStateWithLocalStorage",value:function(){for(var e in this.state)if(localStorage.hasOwnProperty(e)){var t=localStorage.getItem(e);try{t=JSON.parse(t),this.setState(Object(l.a)({},e,t))}catch(a){this.setState(Object(l.a)({},e,t))}}}},{key:"saveStateToFirebase",value:function(){var e=this;if(this.state.isSignedIn){this.setState({saving:!0});var t,a=y()(new Date).format("MMMM Do YYYY, h:mm:ss a"),s=b.a.firestore(),n=s.collection("user-results").doc(this.state.userProfile.email),i=s.collection("user-backups").doc(this.state.userProfile.email);this.saveSession(),n.get().then(function(s){if(e.state.lastsave){var o=JSON.parse(JSON.stringify(s.data()));i.set({average:o.average,best:o.best,session:o.session,reps:o.reps,sessions:o.sessions,themes:o.themes,validreps:o.validreps,lastsave:o.lastsave}),t=JSON.parse(o.lastsave)}n.set({average:JSON.stringify(e.state.average),best:JSON.stringify(e.state.best),session:JSON.stringify(e.state.session),reps:JSON.stringify(e.state.reps),sessions:JSON.stringify(e.state.sessions),themes:JSON.stringify(e.state.themes),validreps:JSON.stringify(e.state.validreps),lastsave:JSON.stringify(a)}),e.setState({saving:!1,lastsave:a,backupsave:t})})}}},{key:"loadStateFromFirebase",value:function(){var e=this;this.state.isSignedIn&&(this.setState({loading:!0}),this.saveStateToLocalStorage(),b.a.firestore().collection("user-results").doc(this.state.userProfile.email).get().then(function(t){var a=t.data();for(var s in a)e.setState(Object(l.a)({},s,JSON.parse(a[s])));a&&e.loadSession(a.session),e.setState({loading:!1})}))}},{key:"restoreFirebaseBackup",value:function(){var e=this;this.state.isSignedIn&&(this.setState({restoring:!0}),this.saveStateToLocalStorage(),b.a.firestore().collection("user-backups").doc(this.state.userProfile.email).get().then(function(t){var a=t.data();for(var s in a)e.setState(Object(l.a)({},s,JSON.parse(a[s])));a&&e.loadSession(a.session),e.setState({restoring:!1})}))}},{key:"undoSaveToFirebase",value:function(){var e=this;if(this.state.isSignedIn){this.setState({saving:!0});var t=b.a.firestore(),a=t.collection("user-results").doc(this.state.userProfile.email),s=t.collection("user-backups").doc(this.state.userProfile.email);this.saveSession(),s.get().then(function(t){var s=JSON.parse(JSON.stringify(t.data()));a.set({average:s.average,best:s.best,session:s.session,reps:s.reps,sessions:s.sessions,themes:s.themes,validreps:s.validreps,lastsave:s.lastsave}),e.setState({saving:!1,lastsave:JSON.parse(s.lastsave)})})}}},{key:"undoLoadFromFirebase",value:function(){this.clearAll(),this.hydrateStateWithLocalStorage()}},{key:"saveStateToLocalStorage",value:function(){for(var e in this.state)localStorage.setItem(e,JSON.stringify(this.state[e]))}},{key:"readFileToState",value:function(e){var t=JSON.parse(e);for(var a in this.state)if(t.hasOwnProperty(a)&&"theme"!==a){var s=t[a];this.setState(Object(l.a)({},a,s))}}},{key:"downloadFile",value:function(e,t){var a=JSON.stringify(this.state),s=document.createElement("a"),n=new Blob([a],{type:t});s.href=URL.createObjectURL(n),s.download=e,s.click()}},{key:"uploadFile",value:function(e,t){if(e){var a=new FileReader;a.onload=function(e){t(e.target.result)},a.readAsText(e)}}},{key:"signIn",value:function(e,t){var a=this,s=new b.a.auth.GoogleAuthProvider;b.a.auth().signInWithPopup(s).then(function(e){var t=e.credential.accessToken,s=e.user;a.setState({userProfile:s,token:t,isSignedIn:!0})}).catch(function(e){var t=e.message;console.log("Sign-In Failed. "+t)})}},{key:"logOut",value:function(){b.a.auth().signOut(),this.setState({userProfile:null,isSignedIn:!1,token:null,email:null})}},{key:"newSession",value:function(){var e=this;this.saveSession(),this.setState({sessions:this.state.sessions.concat([{id:this.state.sessions.length,name:null,cube:"3x3",best:{res:null,mo3:null,ao5:null,ao12:null,ao50:null,ao100:null},log:[],average:null,reps:0,validreps:0}]),session:this.state.sessions.length},function(){return e.loadSession(e.state.sessions.length-1)}),this.clearAll()}},{key:"saveSession",value:function(){var e=this.state.sessions.slice(),t=this.state.log.slice();e[this.state.session].log=t,e[this.state.session].cube=this.state.cube,e[this.state.session].best=this.state.best,e[this.state.session].reps=this.state.reps,e[this.state.session].validreps=this.state.validreps,e[this.state.session].average=this.state.average,this.setState({sessions:e})}},{key:"loadSession",value:function(e){var t=this,a=this.state.cube;this.setState({log:this.state.sessions[e].log,cube:this.state.sessions[e].cube,best:this.state.sessions[e].best,reps:this.state.sessions[e].reps,validreps:this.state.sessions[e].validreps,average:this.state.sessions[e].average},function(){return t.scrambleSession(a)})}},{key:"scrambleSession",value:function(e){e!==this.state.cube&&this.generateScramble()}},{key:"changeSession",value:function(e){this.saveSession(),this.setState({session:e}),this.loadSession(e)}},{key:"deleteSession",value:function(e){var t=this.state.sessions.slice();if(t.length>1){t.splice(e,1);for(var a=e;a<t.length;a++)t[a].id-=1;this.setState({sessions:t}),e<=this.state.sessions.length-2?(this.loadSession(e),this.setState({session:e,name:e+1})):(this.loadSession(this.state.sessions.length-2),this.setState({session:this.state.sessions.length-2,name:this.state.sessions.length-1}))}else this.clearAll(),this.setState({sessions:[{id:0,name:null,log:[],cube:"3x3",best:null,reps:0,validreps:0,average:null}]})}},{key:"resetTime",value:function(){this.setState({time:0,start:null,end:null,res:{id:this.state.res.id,time:this.state.res.time,mo3:this.state.res.mo3,ao5:this.state.res.ao5,ao12:this.state.res.ao12,ao50:this.state.res.ao50,ao100:this.state.res.ao100,scramble:this.state.res.scramble,dnf:!1,plus2:!1}})}},{key:"reset",value:function(){clearInterval(this.timer),this.setState({running:!1,stopped:!0,fifteen:!1}),this.resetTime()}},{key:"updateTime",value:function(){var e=(new Date).getTime()-this.state.start;this.setState({time:e})}},{key:"updateInspectionTime",value:function(){var e=this;this.setState({inspecttime:this.state.inspecttime-1},function(){e.state.inspecttime<-1&&!e.state.res.dnf?e.setState({res:{id:e.state.res.id,time:e.state.res.time,mo3:e.state.res.mo3,ao5:e.state.res.ao5,ao12:e.state.res.ao12,ao50:e.state.res.ao50,ao100:e.state.res.ao100,scramble:e.state.res.scramble,dnf:!0,plus2:!1}}):e.state.inspecttime<1&&!e.state.res.plus2&&!e.state.res.dnf&&e.setState({res:{id:e.state.res.id,time:e.state.res.time,mo3:e.state.res.mo3,ao5:e.state.res.ao5,ao12:e.state.res.ao12,ao50:e.state.res.ao50,ao100:e.state.res.ao100,scramble:e.state.res.scramble,dnf:!1,plus2:!0}})})}},{key:"startTime",value:function(){var e=(new Date).getTime();this.setState({start:e,running:!0}),this.timer=setInterval(this.updateTime,16)}},{key:"endTime",value:function(){var e=(new Date).getTime();this.setState({end:e,running:!1,reps:this.state.reps+1}),this.state.res.dnf||this.setState({validreps:this.state.validreps+1}),clearInterval(this.timer)}},{key:"calculateTime",value:function(){var e=this.state.end-this.state.start;this.setState({res:{scramble:this.state.res.scramble,time:e,id:this.state.reps,mo3:this.calculateMean(3,e,this.state.reps,this.state.res.dnf),ao5:this.calculateAv(5,e,this.state.reps,this.state.res.dnf),ao12:this.calculateAv(12,e,this.state.reps,this.state.res.dnf),ao50:this.calculateAv(50,e,this.state.reps,this.state.res.dnf),ao100:this.calculateAv(100,e,this.state.reps,this.state.res.dnf),dnf:this.state.res.dnf,plus2:this.state.res.plus2},average:this.calculateAverage(e,this.state.validreps),time:e})}},{key:"calculateAverage",value:function(e,t){return this.state.res.dnf?this.state.average:1===t?e:(this.state.average*(t-1)+e)/t}},{key:"forceCalculateAverage",value:function(e){for(var t=0,a=0,s=0;s<e.length;s++)e[s].res.dnf||(t+=e[s].res.time,a++);return t/a}},{key:"calculateMean",value:function(e,t,a,s){if(s)return"dnf";if(a<e)return null;for(var n=t,i=this.state.log.slice(0,e),o=i.map(function(e,t){return e.res.time}),l=0;l<e-1;l++){if(i[l].res.dnf)return"dnf";n+=o[l]}return n/e}},{key:"forceCalculateMean",value:function(e,t,a){if(a>t.length-e)return null;for(var s=t.slice(a,a+e),n=s.map(function(e,t){return e.res.time}),i=n[0],o=1;o<e;o++){if(s[o].res.dnf)return"dnf";i+=n[o]}return i/e}},{key:"calculateAv",value:function(e,t,a,s){if(a<e)return null;var n=this.state.log.slice(0,e),i=n.map(function(e,t){return e.res.time}),o=0,l=t;if(s){o++;var r=0;for(r=0;r<e-1;r++)if(!n[r].res.dnf){l=n[r].res.time;break}}var c=t,d=s,h=0,m=t;for(h=0;h<e-1;h++){if(n[h].res.dnf&&++o>1)return"dnf";i[h]<l&&!n[h].res.dnf&&(l=i[h]),(n[h].res.dnf||i[h]>c&&!d)&&(c=i[h],n[h].res.dnf&&(d=!0)),m+=i[h]}return(m-l-c)/(e-2)}},{key:"forceCalculateAv",value:function(e,t,a){if(a>t.length-e)return null;var s,n=t.slice(a,a+e),i=n.map(function(e,t){return e.res.time}),o=0,l=i[0],r=n[0].res.dnf,c=0,d=0;for(d=0;d<e-1;d++)if(!n[d].res.dnf){s=n[d].res.time;break}n[0].res.dnf&&o++;var h=i[0];for(c=1;c<e;c++){if(n[c].res.dnf&&++o>1)return"dnf";i[c]<s&&!n[c].res.dnf&&(s=i[c]),(n[c].res.dnf||i[c]>l&&!r)&&(l=i[c],n[c].res.dnf&&(r=!0)),h+=i[c]}return(h-s-l)/(e-2)}},{key:"updateBests",value:function(){if(!this.state.res.dnf){var e={res:this.state.best.res,mo3:this.state.best.mo3,ao5:this.state.best.ao5,ao12:this.state.best.ao12,ao50:this.state.best.ao50,ao100:this.state.best.ao100};(null===this.state.best.res||this.state.res.time<this.state.best.res.time)&&(e.res=this.state.res),(null===this.state.best.mo3&&null!==this.state.res.mo3||this.state.res.mo3<this.state.best.mo3)&&(e.mo3=this.state.res.mo3),(null===this.state.best.ao5&&null!==this.state.res.ao5||this.state.res.ao5<this.state.best.ao5)&&(e.ao5=this.state.res.ao5),(null===this.state.best.ao12&&null!==this.state.res.ao12||this.state.res.ao12<this.state.best.ao12)&&(e.ao12=this.state.res.ao12),(null===this.state.best.ao50&&null!==this.state.res.ao50||this.state.res.ao50<this.state.best.ao50)&&(e.ao50=this.state.res.ao50),(null===this.state.best.ao100&&null!==this.state.res.ao100||this.state.res.ao100<this.state.best.ao100)&&(e.ao100=this.state.res.ao100),this.setState({best:e}),this.updateBestAo1000()}}},{key:"updateBestAo1000",value:function(){if(this.state.log.length>999&&this.state.track_best_ao1000){for(var e=this.state.log.slice(),t=0,a=10*this.state.average,s=0,n=0;n<1e3;n++)e[n].res.time<a&&(a=e[n].res.time),e[n].res.time>s&&(s=e[n].res.time),t+=e[n].res.time;((t=(t-s-a)/998)<this.state.bestAo1000||!this.state.bestAo1000)&&this.setState({bestAo1000:t})}}},{key:"forceUpdateBestAo1000",value:function(e){if(e.length>=1e3&&this.state.track_best_ao1000){for(var t=10*this.state.average,a=0;a<e.length-999;a++){for(var s=0,n=10*this.state.average,i=0,o=0;o<1e3;o++)e[o].res.time<n&&(n=e[o].res.time),e[o].res.time>i&&(i=e[o].res.time),s+=e[o].res.time;(s=(s-i-n)/998)<t&&(t=s)}return t}return null}},{key:"saveTime",value:function(){this.setState({log:[{res:this.state.res}].concat(this.state.log)})}},{key:"addTime",value:function(e){var t=1e3*e,a=this.state.reps+1,s=this.calculateMean(3,t,a,!1),n=this.calculateAv(5,t,a,!1),i=this.calculateAv(12,t,a,!1),o=this.calculateAv(50,t,a,!1),l=this.calculateAv(100,t,a,!1),r=this.calculateAverage(t,this.state.validreps+1);(null===this.state.best.res||t<this.state.best.res.time)&&this.setState({best:{res:{time:t,id:a,mo3:s,ao5:n,ao12:i,ao50:o,ao100:l,scramble:this.state.res.scramble,dnf:!1,plus2:!1},mo3:this.state.best.mo3,ao5:this.state.best.ao5,ao12:this.state.best.ao12,ao50:this.state.best.ao50,ao100:this.state.best.ao100}});var c={res:this.state.best.res,mo3:this.state.best.mo3,ao5:this.state.best.ao5,ao12:this.state.best.ao12,ao50:this.state.best.ao50,ao100:this.state.best.ao100};(null===this.state.best.mo3&&null!==this.state.res.mo3||s<this.state.best.mo3)&&(c.mo3=s),(null===this.state.best.ao5&&null!==this.state.res.ao5||n<this.state.best.ao5)&&(c.ao5=n),(null===this.state.best.ao12&&null!==this.state.res.ao12||i<this.state.best.ao12)&&(c.ao12=i),(null===this.state.best.ao50&&null!==this.state.res.ao50||o<this.state.best.ao50)&&(c.ao50=o),(null===this.state.best.ao100&&null!==this.state.res.ao100||l<this.state.best.ao100)&&(c.ao100=l),this.setState({log:[{res:{time:t,id:a,mo3:s,ao5:n,ao12:i,ao50:o,ao100:l,scramble:this.state.res.scramble,dnf:!1,plus2:!1}}].concat(this.state.log),reps:a,validreps:this.state.validreps+1,average:r,best:c,res:{time:t,id:a,mo3:s,ao5:n,ao12:i,ao50:o,ao100:l,scramble:this.state.res.scramble,dnf:!1,plus2:!1}},this.updateBestAo1000),this.generateScramble()}},{key:"clearAll",value:function(){this.setState({log:[],reps:0,validreps:0,average:0,cube:this.state.cube,best:{res:null,mo3:null,ao5:null,ao12:null,ao50:null,ao100:null},res:{scramble:this.state.res.scramble,time:null,id:0,mo3:null,ao5:null,ao12:null,ao50:null,ao100:null,dnf:!1,plus2:!1},bestAo1000:null}),this.resetTime()}},{key:"deleteEntry",value:function(e,t){var a=this.state.log.slice();e=this.state.log.length-e,t>a.length-e&&(t=a.length-e);var s=a.splice(e,t);if(0===a.length)this.clearAll();else{for(var n=0;n<e;n++)a[n].res.id-=t;var i=this.state.average,o=0;for(n=0;n<s.length;n++)s[n].res.dnf?o++:i=(i*(this.state.validreps-n)-s[n].res.time)/(this.state.validreps-n-1);this.state.validreps-t+o===0&&(i=null),this.forceUpdateMean(a,e,3),this.forceUpdateAv(a,e,5),this.forceUpdateAv(a,e,12),this.forceUpdateAv(a,e,50),this.forceUpdateAv(a,e,100),this.setState({log:a,reps:this.state.reps-t,validreps:this.state.validreps-t+o,average:this.forceCalculateAverage(a),best:{res:this.forceUpdateBest(a),mo3:this.forceUpdateBestMo3(a),ao5:this.forceUpdateBestAo5(a),ao12:this.forceUpdateBestAo12(a),ao50:this.forceUpdateBestAo50(a),ao100:this.forceUpdateBestAo100(a)},bestAo1000:this.forceUpdateBestAo1000(a)})}}},{key:"forceUpdateMean",value:function(e,t,a){var s;if(t-=1,3===a)for(s=t;s>t-2;s--)s>=0&&(e[s].res.mo3=this.forceCalculateMean(3,e,s))}},{key:"forceUpdateAv",value:function(e,t,a){var s;if(t-=1,5===a)for(s=t;s>t-4;s--)s>=0&&(e[s].res.ao5=this.forceCalculateAv(5,e,s));if(12===a)for(s=t;s>t-11;s--)s>=0&&(e[s].res.ao12=this.forceCalculateAv(12,e,s));if(50===a)for(s=t;s>t-49;s--)s>=0&&(e[s].res.ao50=this.forceCalculateAv(50,e,s));if(100===a)for(s=t;s>t-99;s--)s>=0&&(e[s].res.ao100=this.forceCalculateAv(100,e,s))}},{key:"forceUpdateBest",value:function(e){var t,a=0;if(e.length>1)for(;e[a].res.dnf&&a<e.length;)a++;t=e[a].res.time;for(var s=a,n=1;n<e.length;n++)e[n].res.time<t&&!e[n].res.dnf&&(t=e[n].res.time,s=n);return e[s].res}},{key:"forceUpdateBestMo3",value:function(e){if(e.length>2){for(var t=0;"dnf"===e[t].res.mo3&&t<e.length;)t++;for(var a=e[t].res.mo3,s=t,n=1;n<e.length-2;n++)e[n].res.mo3<a&&"dnf"!==e[n].res.mo3&&(a=e[n].res.mo3,s=n);return e[s].res.mo3}return null}},{key:"forceUpdateBestAo5",value:function(e){if(e.length>4){for(var t=0;"dnf"===e[t].res.ao5&&t<e.length;)t++;for(var a=e[t].res.ao5,s=t,n=1;n<e.length-4;n++)e[n].res.ao5<a&&"dnf"!==e[n].res.ao5&&(a=e[n].res.ao5,s=n);return e[s].res.ao5}return null}},{key:"forceUpdateBestAo12",value:function(e){if(e.length>11){for(var t=0;"dnf"===e[t].res.ao12&&t<e.length;)t++;for(var a=e[t].res.ao12,s=t,n=1;n<e.length-11;n++)e[n].res.ao12<a&&"dnf"!==e[n].res.ao12&&(a=e[n].res.ao12,s=n);return e[s].res.ao12}return null}},{key:"forceUpdateBestAo50",value:function(e){if(e.length>49){for(var t=0;"dnf"===e[t].res.ao50&&t<e.length;)t++;for(var a=e[t].res.ao50,s=t,n=1;n<e.length-49;n++)e[n].res.ao50<a&&"dnf"!==e[n].res.ao50&&(a=e[n].res.ao50,s=n);return e[s].res.ao50}return null}},{key:"forceUpdateBestAo100",value:function(e){if(e.length>99){for(var t=0;"dnf"===e[t].res.ao100&&t<e.length;)t++;for(var a=e[t].res.ao100,s=t,n=1;n<e.length-99;n++)e[n].res.ao100<a&&"dnf"!==e[n].res.ao100&&(a=e[n].res.ao100,s=n);return e[s].res.ao100}return null}},{key:"startInspection",value:function(){this.setState({fifteen:!0,inspecttime:15}),this.inspection=setInterval(this.updateInspectionTime,1e3)}},{key:"endInspection",value:function(){this.setState({fifteen:!1}),clearInterval(this.inspection)}},{key:"convertToTime",value:function(e){if("dnf"===e)return"DNF";if(0===e||null===e)return"-";var t=(e=Math.floor(e))%1e3,a=(e=(e-t)/1e3)%60,s=(e=(e-a)/60)%60;return e=(e-s)/60,this.state.display_milliseconds||(t=Math.floor(t/10)),this.displayHour(e)+this.displayMinute(e,s)+this.displaySecond(s,a)+"."+this.displayMillisecond(t)}},{key:"displayHour",value:function(e){return e?e+":":""}},{key:"displayMinute",value:function(e,t){return t?t<10&&e?"0"+t+":":t+":":""}},{key:"displaySecond",value:function(e,t){return t<10&&e?"0"+t:t}},{key:"displayMillisecond",value:function(e){if(this.state.display_milliseconds){if(e<10)return"00"+e;if(e<100)return"0"+e}return e<10?"0"+e:e}},{key:"displayAverages",value:function(){if(this.state.show_av)return this.state.log.length?n.a.createElement("div",null,"ao5: ",this.convertToTime(this.state.log[0].res.ao5),n.a.createElement("br",null),"ao12: ",this.convertToTime(this.state.log[0].res.ao12)):n.a.createElement("div",null,"ao5: ",this.convertToTime(this.state.res.ao5),n.a.createElement("br",null),"ao12: ",this.convertToTime(this.state.res.ao12))}},{key:"displayInspection",value:function(){var e=this.state.inspecttime;return e<=-2?n.a.createElement("p",null,"DNF"):e<=0?n.a.createElement("p",null,"+2"):n.a.createElement("p",null,this.displaySecond(0,e))}},{key:"display",value:function(){return this.state.fifteen?this.displayInspection():this.state.stopped&&this.state.res.dnf?n.a.createElement("p",null,"DNF"):null===this.state.time||0===this.state.time?this.state.display_milliseconds?n.a.createElement("p",null,"0.000"):n.a.createElement("p",null,"0.00"):n.a.createElement("p",null,this.convertToTime(this.state.time))}},{key:"generateScramble",value:function(){var e;"3x3"===this.state.cube?e=function(){var e,t=Math.floor(4*Math.random())+23,a=["U","B","R","D","F","L","U'","B'","R'","D'","F'","L'","U2","B2","R2","D2","F2","L2"],s=.5,n=.5,i=0,o="";for(i=0;i<t;i++)((e=Math.floor(18*Math.random()))%6===s%6||e%6===n%6&&e%3===s%3)&&(0!==e?e--:e++),n=s,s=e,o+=a[e]+" ";return o}():"2x2"===this.state.cube?e=function(){var e,t=Math.floor(2*Math.random())+9,a=["U","R","F","U'","R'","F'","U2","R2","F2"],s=.5,n=0,i="";for(n=0;n<t;n++)(e=Math.floor(9*Math.random()))%3===s%3&&(0!==e?e--:e++),s=e,i+=a[e]+" ";return i}():"4x4"===this.state.cube?e=function(){var e,t=Math.floor(6*Math.random())+37,a=["U","B","R","D","F","L","U'","B'","R'","D'","F'","L'","U2","B2","R2","D2","F2","L2","Rw","Uw","Fw","Rw'","Uw'","Fw'","Rw2","Uw2","Fw2"],s=.5,n=.5,i=0,o="";for(i=0;i<t;i++)((e=Math.floor(27*Math.random()))%6===s%6&&e<18&&s<18||e%6===n%6&&e%3===s%3&&e<18&&s<18||e>=18&&s>=18&&e%3===s%3)&&(0!==e?e--:e++),n=s,s=e,o+=a[e]+" ";return o}():"5x5"===this.state.cube&&(e=function(){var e,t=Math.floor(8*Math.random())+49,a=["U","B","R","D","F","L","U'","B'","R'","D'","F'","L'","U2","B2","R2","D2","F2","L2","Uw","Bw","Rw","Dw","Fw","Lw","Uw'","Bw'","Rw'","Dw'","Fw'","Lw'","Uw2","Bw2","Rw2","Dw2","Fw2","Lw2"],s=.5,n=.5,i=0,o="";for(i=0;i<t;i++)((e=Math.floor(36*Math.random()))%6===s%6&&e<18&&s<18||e%6===n%6&&e%3===s%3||e>=18&&s>=18&&e%6===s%6)&&(0!==e?e--:e++),n=s,s=e,o+=a[e]+" ";return o}()),this.setState({res:{scramble:e,id:this.state.res.id,time:this.state.res.time,mo3:this.state.res.mo3,ao5:this.state.res.ao5,ao12:this.state.res.ao12,ao50:this.state.res.ao50,ao100:this.state.res.ao100,dnf:this.state.res.dnf,plus2:this.state.res.plus2}})}},{key:"saveTheme",value:function(e,t){this.setState({themes:this.state.themes.concat([{name:e,theme:t}])})}},{key:"deleteTheme",value:function(e){var t=this.state.themes;t.splice(e,1),this.setState({themes:t})}},{key:"hideStuff",value:function(){this.state.hide_surroundings&&(document.getElementById("log").style.display="none",document.getElementById("settings").style.display="none",document.getElementById("scramble").style.display="none",document.getElementById("average").style.display="none",document.getElementById("statistics").style.display="none",document.getElementById("account").style.display="none")}},{key:"unhideStuff",value:function(){this.state.hide_surroundings&&(document.getElementById("log").style.display="block",document.getElementById("settings").style.display="block",document.getElementById("scramble").style.display="block",document.getElementById("average").style.display="block",document.getElementById("statistics").style.display="block",document.getElementById("account").style.display="block")}},{key:"colorLuminance",value:function(e,t){(e=String(e).replace(/[^0-9a-f]/gi,"")).length<6&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),t=t||0;var a,s,n="#";for(s=0;s<3;s++)a=parseInt(e.substr(2*s,2),16),n+=("00"+(a=Math.round(Math.min(Math.max(0,a+a*t),255)).toString(16))).substr(a.length);return n}},{key:"changeColor",value:function(e){this.state.party_mode||(document.documentElement.style.setProperty("--primary",e.primary),document.documentElement.style.setProperty("--secondary",e.secondary),document.documentElement.style.setProperty("--accent",e.accent),document.documentElement.style.setProperty("--text",e.text),document.documentElement.style.setProperty("--texthighlighted",e.texthighlighted),document.documentElement.style.setProperty("--dark",this.colorLuminance(e.accent,-.3)),document.documentElement.style.setProperty("--hover",this.colorLuminance(e.accent,-.1)),document.documentElement.style.setProperty("--click",this.colorLuminance(e.accent,-.2))),this.setState({theme:e})}},{key:"partyMode",value:function(){if(this.state.party_mode)this.setState({party_mode:!1}),clearInterval(this.party_mode_timer),this.changeColor(this.state.theme);else{this.setState({party_mode:!0}),document.documentElement.style.setProperty("--secondary","#000"),document.documentElement.style.setProperty("--text","#1d1d1d"),document.documentElement.style.setProperty("--texthighlighted","#000");var e=255,t=0,a=0,s=this.colorLuminance;this.party_mode_timer=setInterval(function(){255===e&&0===a&&255!==t?t++:255===t&&0===a&&0!==e?e--:0===e&&255===t&&255!==a?a++:0===e&&255===a&&0!==t?t--:0===t&&255===a&&255!==e?e++:255===e&&0===t&&0!==a&&a--;document.documentElement.style.setProperty("--primary","rgb("+e+","+t+","+a+")");var n="#"+("rgb("+(255-e)+","+(255-t)+","+(255-a)+")").match(/\d+/g).map(function(e){return(+e<16?"0":"")+(+e).toString(16)}).join("");document.documentElement.style.setProperty("--accent",n),document.documentElement.style.setProperty("--dark",s(n,-.3)),document.documentElement.style.setProperty("--hover",s(n,-.1)),document.documentElement.style.setProperty("--click",s(n,-.2))},33),f.a.event({category:"User",action:"Turned Party Mode On"})}}},{key:"timeHold",value:function(){this.setState({hold_done:!0}),document.getElementById("time").style.color="#2dff57",this.hideStuff(),this.state.fifteen||this.resetTime()}},{key:"onTouchStart",value:function(e){this.setState({canceled:!1}),this.state.running||!this.state.stopped||this.state.modal?this.state.running&&(this.endTime(),this.calculateTime(),document.getElementById("time").style.color="#f73b3b"):!this.state.hold_to_start||this.state.inspection_time&&!this.state.fifteen?(document.getElementById("time").style.color="#2dff57",this.hideStuff(),this.state.fifteen||this.resetTime()):(document.getElementById("time").style.color="#ffff2d",this.hold_touch_timer=setTimeout(this.timeHold,this.state.hold_len))}},{key:"onTouchEnd",value:function(e){this.state.running||!this.state.stopped||this.state.modal||this.state.canceled?this.state.fifteen||this.state.stopped||(document.getElementById("time").style.color="inherit",this.unhideStuff(),this.setState({hold_done:!1}),this.saveTime(),this.updateBests(),this.generateScramble(),this.handleRenderLog(),this.handleStopped()):(this.state.inspection_time&&(this.state.fifteen?this.state.hold_to_start?this.state.hold_done?this.endInspection():(document.getElementById("time").style.color="#f73b3b",clearTimeout(this.hold_touch_timer)):this.endInspection():(document.getElementById("time").style.color="#f73b3b",this.startInspection(),this.state.hold_to_start&&this.setState({hold_done:!1}))),this.state.fifteen||(this.state.hold_to_start?this.state.hold_done?(this.handleStopped(),this.startTime(),document.getElementById("time").style.color="inherit"):(document.getElementById("time").style.color="inherit",clearTimeout(this.hold_touch_timer),this.unhideStuff()):(this.handleStopped(),this.startTime(),document.getElementById("time").style.color="inherit")))}},{key:"onTouchCancel",value:function(e){this.setState({canceled:!0,running:!1,stopped:!0}),this.unhideStuff(),this.state.hold_to_start&&clearTimeout(this.hold_touch_timer),document.getElementById("time").style.color="inherit"}},{key:"onTouchMove",value:function(e){this.onTouchCancel(e)}},{key:"handleModal",value:function(){this.setState({modal:!this.state.modal})}},{key:"handlePartyModeOff",value:function(){this.setState({party_mode:!1})}},{key:"handleScramble",value:function(){this.setState({scramble_on_side:!this.state.scramble_on_side})}},{key:"handleInspection",value:function(){this.setState({inspection_time:!this.state.inspection_time})}},{key:"handleHoldToStart",value:function(){this.setState({hold_to_start:!this.state.hold_to_start})}},{key:"handleShowAv",value:function(){this.setState({show_av:!this.state.show_av})}},{key:"handleShowScramble",value:function(){this.setState({show_scramble:!this.state.show_scramble})}},{key:"handleShowLog",value:function(){this.setState({show_log:!this.state.show_log})}},{key:"handleShowStats",value:function(){this.setState({show_stats:!this.state.show_stats})}},{key:"handleStopped",value:function(){this.setState({stopped:!this.state.stopped})}},{key:"handleRenderLog",value:function(){this.setState({renderlog:!1},this.setState({renderlog:!0}))}},{key:"handleModalFalse",value:function(){this.setState({modal:!1})}},{key:"handleScrambleSize",value:function(e){this.setState({scramble_size:e}),document.getElementById("scramble").style.fontSize=e+"px"}},{key:"handleTimerSize",value:function(e){this.setState({timer_size:e}),document.getElementById("time").style.fontSize=e+"px"}},{key:"handleAvSize",value:function(e){this.setState({av_size:e}),document.getElementById("average").style.fontSize=e+"px"}},{key:"handleSpaceToStop",value:function(){this.setState({space_to_stop:!this.state.space_to_stop})}},{key:"handleDisplayMilliseconds",value:function(){this.setState({display_milliseconds:!this.state.display_milliseconds})}},{key:"handleHideTime",value:function(){this.setState({hide_time:!this.state.hide_time})}},{key:"handleHideSurroundings",value:function(){this.setState({hide_surroundings:!this.state.hide_surroundings})}},{key:"handleHoldLen",value:function(e){e<.1||e>3||this.setState({hold_len:1e3*e})}},{key:"handleStatsTab",value:function(e){this.setState({stats_tab:e})}},{key:"handleHighlightText",value:function(){this.state.highlight_text?document.documentElement.style.setProperty("--highlighted","var(--text)"):document.documentElement.style.setProperty("--highlighted","var(--texthighlighted)"),this.setState({highlight_text:!this.state.highlight_text})}},{key:"handleTrackBestAo1000",value:function(){this.state.track_best_ao1000||this.handleBestAo1000(),this.setState({track_best_ao1000:!this.state.track_best_ao1000})}},{key:"handleCube",value:function(e){this.setState({cube:e},this.generateScramble)}},{key:"handleBestAo1000",value:function(){if(this.state.log.length>=1e3){for(var e=this.state.log.slice(),t=10*this.state.average,a=0;a<e.length-999;a++){for(var s=0,n=10*this.state.average,i=0,o=0;o<1e3;o++)e[o].res.time<n&&(n=e[o].res.time),e[o].res.time>i&&(i=e[o].res.time),s+=e[o].res.time;(s=(s-i-n)/998)<t&&(t=s)}this.setState({bestAo1000:t})}else this.setState({bestAo1000:null})}},{key:"handlePlus2",value:function(e){var t,a=this.state.log.slice();for(a[e].res.plus2=!a[e].res.plus2,a[e].res.plus2?a[e].res.time+=2e3:a[e].res.time-=2e3,t=e;t>e-12;t--)t>=0&&t>e-5&&(a[t].res.ao5=this.forceCalculateAv(5,a,t)),t>=0&&(a[t].res.ao12=this.forceCalculateAv(12,a,t));this.setState({log:a,best:{res:this.forceUpdateBest(a),mo3:this.forceUpdateBestMo3(a),ao5:this.forceUpdateBestAo5(a),ao12:this.forceUpdateBestAo12(a),ao50:this.forceUpdateBestAo50(a),ao100:this.forceUpdateBestAo100(a)},average:this.forceCalculateAverage(a)})}},{key:"handleDNF",value:function(e){var t,a=this.state.log.slice();for(a[e].res.dnf=!a[e].res.dnf,a[e].res.dnf?this.setState({validreps:this.state.validreps-1}):this.setState({validreps:this.state.validreps+1}),t=e;t>e-12;t--)t>=0&&t>e-5&&(a[t].res.ao5=this.forceCalculateAv(5,a,t)),t>=0&&(a[t].res.ao12=this.forceCalculateAv(12,a,t));this.setState({log:a,best:{res:this.forceUpdateBest(a),mo3:this.forceUpdateBestMo3(a),ao5:this.forceUpdateBestAo5(a),ao12:this.forceUpdateBestAo12(a),ao50:this.forceUpdateBestAo50(a),ao100:this.forceUpdateBestAo100(a)},average:this.forceCalculateAverage(a)})}},{key:"render",value:function(){var e=this,t=!1;return document.body.onkeydown=function(e){if(!e.repeat)if(32!==e.keyCode||this.state.running||!this.state.stopped||this.state.modal)if(27!==e.keyCode||this.state.modal||this.state.fifteen){if(this.state.running&&18!==e.keyCode&&9!==e.keyCode&&!t){if(this.state.space_to_stop&&32!==e.keyCode)return;t=!0,this.endTime(),this.calculateTime(),document.getElementById("time").style.color="#f73b3b"}}else this.resetTime();else!this.state.hold_to_start||this.state.inspection_time&&!this.state.fifteen?(document.getElementById("time").style.color="#2dff57",this.hideStuff(),this.state.fifteen||this.resetTime()):(document.getElementById("time").style.color="#ffff2d",this.hold_timer=setTimeout(this.timeHold,this.state.hold_len))}.bind(this),document.body.onkeyup=function(e){if(t=!1,32!==e.keyCode||this.state.running||!this.state.stopped||this.state.modal){if(18!==e.keyCode&&9!==e.keyCode&&!this.state.fifteen&&!this.state.stopped){if(this.state.space_to_stop&&32!==e.keyCode)return;document.getElementById("time").style.color="inherit",this.unhideStuff(),this.setState({hold_done:!1}),this.saveTime(),this.updateBests(),this.generateScramble(),this.handleRenderLog(),this.handleStopped()}}else this.state.inspection_time&&(this.state.fifteen?this.state.hold_to_start?this.state.hold_done?this.endInspection():document.getElementById("time").style.color="#f73b3b":this.endInspection():(document.getElementById("time").style.color="#f73b3b",this.startInspection(),this.state.hold_to_start&&this.setState({hold_done:!1}))),this.state.fifteen||(this.state.hold_to_start?this.state.hold_done?(this.handleStopped(),this.startTime(),document.getElementById("time").style.color="inherit"):(document.getElementById("time").style.color="inherit",this.unhideStuff(),clearTimeout(this.hold_timer)):(this.handleStopped(),this.startTime(),document.getElementById("time").style.color="inherit"))}.bind(this),n.a.createElement("div",{id:"body",className:"timer"},n.a.createElement("div",{className:"log",id:"log"},this.state.show_log?n.a.createElement(V,{log:this.state.log,res:this.state.res,best:this.state.best,reps:this.state.reps,running:this.state.running,stopped:this.state.stopped,renderlog:this.state.renderlog,fifteen:this.state.fifteen,average:this.state.average,new_on_top:this.state.new_on_top,sessions:this.state.sessions,session:this.state.session,theme:this.state.theme,isSignedIn:this.state.isSignedIn,loading:this.state.loading,saving:this.state.saving,restoring:this.state.restoring,lastsave:this.state.lastsave,backupsave:this.state.backupsave,handleModal:function(){return e.handleModal()},handlePlus2:function(t){return e.handlePlus2(t)},handleDNF:function(t){return e.handleDNF(t)},clearAll:function(){return e.clearAll()},deleteEntry:function(t,a){return e.deleteEntry(t,a)},addTime:function(t){return e.addTime(t)},downloadFile:function(t,a){return e.downloadFile(t,a)},uploadFile:function(t){return e.uploadFile(t,e.readFileToState)},saveStateToFirebase:this.saveStateToFirebase,loadStateFromFirebase:this.loadStateFromFirebase,newSession:this.newSession,changeSession:function(t){return e.changeSession(t)},saveSession:this.saveSession,deleteSession:function(t){return e.deleteSession(t)},restoreFirebaseBackup:this.restoreFirebaseBackup,undoSaveToFirebase:this.undoSaveToFirebase,undoLoadFromFirebase:this.undoLoadFromFirebase}):null),n.a.createElement("div",{className:"scramble",id:"scramble"},this.state.show_scramble?n.a.createElement(ue,{cube:this.state.cube,scramble:this.state.res.scramble,handleCube:this.handleCube}):null),n.a.createElement("div",{className:"average",id:"average"},this.displayAverages()),n.a.createElement("div",{className:"settings",id:"settings"},n.a.createElement(ie,{stopped:this.state.stopped,theme:this.state.theme,party_mode:this.state.party_mode,inspection_time:this.state.inspection_time,hold_to_start:this.state.hold_to_start,show_av:this.state.show_av,show_scramble:this.state.show_scramble,show_log:this.state.show_log,scramble_size:this.state.scramble_size,timer_size:this.state.timer_size,av_size:this.state.av_size,hold_len:this.state.hold_len,highlight_text:this.state.highlight_text,space_to_stop:this.state.space_to_stop,display_milliseconds:this.state.display_milliseconds,hide_time:this.state.hide_time,hide_surroundings:this.state.hide_surroundings,track_best_ao1000:this.state.track_best_ao1000,themes:this.state.themes,handleModal:function(){return e.handleModal()},handleInspection:this.handleInspection,handleHoldToStart:this.handleHoldToStart,handleShowAv:this.handleShowAv,handleShowScramble:this.handleShowScramble,handleShowLog:this.handleShowLog,handleScrambleSize:function(t){return e.handleScrambleSize(t)},handleTimerSize:function(t){return e.handleTimerSize(t)},handleAvSize:function(t){return e.handleAvSize(t)},handleHoldLen:function(t){return e.handleHoldLen(t)},handleHighlightText:this.handleHighlightText,handleSpaceToStop:this.handleSpaceToStop,handleDisplayMilliseconds:this.handleDisplayMilliseconds,handleHideTime:this.handleHideTime,handleHideSurroundings:this.handleHideSurroundings,handleTrackBestAo1000:this.handleTrackBestAo1000,saveTheme:function(t,a){return e.saveTheme(t,a)},deleteTheme:function(t){return e.deleteTheme(t)},changeColor:function(t){return e.changeColor(t)},partyMode:this.partyMode})),n.a.createElement("div",{className:"statistics",id:"statistics"},n.a.createElement("div",{className:"stats",id:"stats"},this.state.show_stats?n.a.createElement("button",{id:"statsiconon",onClick:this.handleShowStats},n.a.createElement(v.a,{icon:"chart-pie"})):n.a.createElement("button",{id:"statsicon",onClick:this.handleShowStats},n.a.createElement(v.a,{icon:"chart-pie"}))),n.a.createElement(he,{log:this.state.log,best:this.state.best,average:this.state.average,running:this.state.running,stopped:this.state.stopped,renderlog:this.state.renderlog,reps:this.state.reps,validreps:this.state.validreps,fifteen:this.state.fifteen,theme:this.state.theme,session:this.state.session,bestAo1000:this.state.bestAo1000,show_stats:this.state.show_stats,track_best_ao1000:this.state.track_best_ao1000,stats_tab:this.state.stats_tab,handleShowStats:this.handleShowStats,handleStatsTab:function(t){return e.handleStatsTab(t)}})),n.a.createElement("div",{className:"account",id:"account"},n.a.createElement(le,{userProfile:this.state.userProfile,isSignedIn:this.state.isSignedIn,theme:this.state.theme,loading:this.state.loading,saving:this.state.saving,lastsave:this.state.lastsave,backupsave:this.state.backupsave,signIn:function(t,a){return e.signIn(t,a)},logOut:this.logOut,handleModal:this.handleModal,loadStateFromFirebase:this.loadStateFromFirebase,saveStateToFirebase:this.saveStateToFirebase,undoSaveToFirebase:this.undoSaveToFirebase,undoLoadFromFirebase:this.undoLoadFromFirebase})),n.a.createElement("div",{id:"time"},!this.state.hide_time||this.state.stopped?n.a.createElement("div",null,this.display()):null))}}]),t}(s.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));f.a.initialize("UA-136117398-1"),f.a.pageview(window.location.pathname+window.location.search),o.a.render(n.a.createElement(ve,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[312,1,2]]]);
//# sourceMappingURL=main.f9a64b39.chunk.js.map